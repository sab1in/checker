/*! For license information please see main.23bdbfbf.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return b})),a.d(t,"e",(function(){return p})),a.d(t,"k",(function(){return m})),a.d(t,"f",(function(){return O})),a.d(t,"i",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return x})),a.d(t,"g",(function(){return v})),a.d(t,"h",(function(){return y})),a.d(t,"j",(function(){return g}));var n=a(11),c=a(4),r=a.n(c),s=a(2),o=a(8),i=a(3),l=a(9),u=a(46),d=a(14),j={CREATE_POST:"CREATE_POST",LOADING_POST:"LOADING_POST",GET_POSTS:"GET_POSTS",UPDATE_POST:"UPDATE_POST",GET_POST:"GET_POST",DELETE_POST:"DELETE_POST",REPORT_POST:"REPORT_POST",SAVE_POST:"SAVE_POST"},b=function(e){var t=e.content,a=e.images,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var b,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=[],e.prev=1,o({type:i.c.ALERT,payload:{loading:!0}}),!(a.length>0)){e.next=7;break}return e.next=6,Object(u.b)(a);case 6:b=e.sent;case 7:return e.next=9,Object(l.d)("posts",{content:t,images:b},n.token);case 9:p=e.sent,o({type:j.CREATE_POST,payload:Object(s.a)(Object(s.a)({},p.data.newPost),{},{user:n.user})}),o({type:i.c.ALERT,payload:{loading:!1}}),m={id:p.data.newPost._id,text:"Added a new post.",recipients:p.data.newPost.user.followers,url:"/post/".concat(p.data.newPost._id),content:t,image:b[0].url},o(Object(d.b)({msg:m,auth:n,socket:c})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:j.LOADING_POST,payload:!0}),t.next=4,Object(l.b)("posts",e);case 4:n=t.sent,a({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},n.data),{},{page:2})}),a({type:j.LOADING_POST,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:i.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){var t=e.content,a=e.images,c=e.auth,s=e.status;return function(){var e=Object(o.a)(r.a.mark((function e(o){var d,b,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=[],b=a.filter((function(e){return!e.url})),p=a.filter((function(e){return e.url})),s.content!==t||0!==b.length||p.length!==s.images.length){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,o({type:i.c.ALERT,payload:{loading:!0}}),!(b.length>0)){e.next=11;break}return e.next=10,Object(u.b)(b);case 10:d=e.sent;case 11:return e.next=13,Object(l.c)("post/".concat(s._id),{content:t,images:[].concat(Object(n.a)(p),Object(n.a)(d))},c.token);case 13:m=e.sent,o({type:j.UPDATE_POST,payload:m.data.newPost}),o({type:i.c.ALERT,payload:{success:m.data.msg}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.post,a=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var u,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Object(s.a)(Object(s.a)({},t),{},{likes:[].concat(Object(n.a)(t.likes),[a.user])}),o({type:j.UPDATE_POST,payload:u}),c.emit("likePost",u),e.prev=3,e.next=6,Object(l.c)("post/".concat(t._id,"/like"),null,a.token);case 6:b={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id),content:t.content,image:t.images[0].url},o(Object(d.b)({msg:b,auth:a,socket:c})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter((function(e){return e._id!==a.user._id}))}),c({type:j.UPDATE_POST,payload:o}),n.emit("unLikePost",o),e.prev=3,e.next=6,Object(l.c)("post/".concat(t._id,"/unlike"),null,a.token);case 6:u={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id)},c(Object(d.f)({msg:u,auth:a,socket:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.detailPost,a=e.id,n=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.every((function(e){return e._id!==a}))){e.next=11;break}return e.prev=1,e.next=4,Object(l.b)("post/".concat(a),n.token);case 4:s=e.sent,c({type:j.GET_POST,payload:s.data.post}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(c){var s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:j.DELETE_POST,payload:t}),e.prev=1,e.next=4,Object(l.a)("post/".concat(t._id),a.token);case 4:s=e.sent,o={id:t._id,text:"Added a new post.",recipients:s.data.newPost.user.followers,url:"/post/".concat(t._id)},c(Object(d.f)({msg:o,auth:a,socket:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=t.reports.find((function(e){return e===a.user._id})))&&c.length>0)){e.next=3;break}return e.abrupt("return",n({type:i.c.ALERT,payload:{error:"You have already reported this post."}}));case 3:return(o=Object(s.a)({},t)).reports.push(a.user._id),n({type:j.REPORT_POST,payload:o}),e.prev=6,e.next=9,Object(l.c)("post/".concat(t._id,"/report"),null,a.token);case 9:u=e.sent,n({type:i.c.ALERT,payload:{success:u.data.msg}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},a.user),{},{saved:[].concat(Object(n.a)(a.user.saved),[t._id])}),c({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:o})}),e.prev=2,e.next=5,Object(l.c)("savePost/".concat(t._id),null,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.post,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(s.a)(Object(s.a)({},a.user),{},{saved:a.user.saved.filter((function(e){return e!==t._id}))}),n({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:c})}),e.prev=2,e.next=5,Object(l.c)("unSavePost/".concat(t._id),null,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}},110:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),r=a(8),s=a(7),o=a(1),i=a(6),l=a(53),u=a(20),d=a(56),j=a(51),b=a(9),p=a(0);t.default=function(){var e=Object(i.c)((function(e){return e})),t=e.auth,a=e.discover,n=Object(i.b)(),m=Object(o.useState)(!1),O=Object(s.a)(m,2),f=O[0],h=O[1];Object(o.useEffect)((function(){a.firstLoad||n(Object(l.b)(t.token))}),[n,t.token,a.firstLoad]);var x=function(){var e=Object(r.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Object(b.b)("post_discover?num=".concat(8*a.page),t.token);case 3:r=e.sent,n({type:l.a.UPDATE_POSTS,payload:r.data}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[a.loading?Object(p.jsx)("img",{src:u.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(p.jsx)(d.a,{posts:a.posts,result:a.result}),f&&Object(p.jsx)("img",{src:u.a,alt:"Loading...",className:"d-block mx-auto"}),!a.loading&&Object(p.jsx)(j.a,{result:a.result,page:a.page,load:f,handleLoadMore:x})]})}},111:function(e,t,a){"use strict";a.r(t);var n=a(7),c=a(1),r=a(16),s=a(6),o=a(10),i=a(20),l=a(74),u=a(0);t.default=function(){var e=Object(r.h)().id,t=Object(c.useState)([]),a=Object(n.a)(t,2),d=a[0],j=a[1],b=Object(s.c)((function(e){return e})),p=b.auth,m=b.detailPost,O=Object(s.b)();return Object(c.useEffect)((function(){if(O(Object(o.d)({detailPost:m,id:e,auth:p})),m.length>0){var t=m.filter((function(t){return t._id===e}));j(t)}}),[m,O,e,p]),Object(u.jsxs)("div",{className:"posts",children:[0===d.length&&Object(u.jsx)("img",{src:i.a,alt:"Loading...",className:"d-block mx-auto my-4"}),d.map((function(e){return Object(u.jsx)(l.a,{post:e},e._id)}))]})}},112:function(e,t,a){"use strict";a.r(t);var n=a(7),c=a(1),r=a(16),s=a(24),o=a(45),i=a(2),l=a(6),u=a(3),d=a(26),j=a(46),b=a(0),p=function(e){var t=e.setOnEdit,a=Object(c.useState)({fullname:"",mobile:"",address:"",website:"",story:"",gender:""}),r=Object(n.a)(a,2),s=r[0],p=r[1],m=s.fullname,O=s.mobile,f=s.address,h=s.website,x=s.story,v=s.gender,y=Object(c.useState)(""),g=Object(n.a)(y,2),_=g[0],N=g[1],w=Object(l.c)((function(e){return e})),T=w.auth,k=w.theme,E=Object(l.b)();Object(c.useEffect)((function(){p(T.user)}),[T.user]);var S=function(e){var t=e.target,a=t.name,n=t.value;p(Object(i.a)(Object(i.a)({},s),{},Object(o.a)({},a,n)))};return Object(b.jsxs)("div",{className:"edit_profile",children:[Object(b.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(Object(d.e)({userData:s,avatar:_,auth:T}))},children:[Object(b.jsxs)("div",{className:"info_avatar",children:[Object(b.jsx)("img",{alt:"profile",src:_?URL.createObjectURL(_):T.user.avatar,style:{filter:k?"invert(1)":"invert(0)"}}),Object(b.jsxs)("span",{children:[Object(b.jsx)("i",{className:"fas fa-camera"}),Object(b.jsx)("p",{children:"Change"}),Object(b.jsx)("input",{type:"file",name:"file",id:"file_up",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=Object(j.a)(t);if(a)return E({type:u.c.ALERT,payload:{error:a}});N(t)}})]})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),Object(b.jsxs)("div",{className:"position-relative",children:[Object(b.jsx)("input",{type:"text",className:"form-control",id:"fullname",name:"fullname",value:m,onChange:S}),Object(b.jsxs)("small",{className:"text-danger position-absolute",style:{top:"50%",right:"5px",transform:"translateY(-50%)"},children:[m.length,"/25"]})]})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"mobile",name:"mobile",value:O,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"address",children:"Address"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:f,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"website",children:"Website"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"website",name:"website",value:h,onChange:S})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"story",children:"Story"}),Object(b.jsx)("textarea",{cols:"30",rows:"4",type:"text",className:"form-control",id:"story",name:"story",value:x,onChange:S}),Object(b.jsxs)("small",{className:"text-danger d-block text-right",children:[x.length,"/200"]})]}),Object(b.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(b.jsx)("div",{className:"input-group-prepend px-0 mb-4",children:Object(b.jsxs)("select",{className:"custom-select text-capitalize",name:"gender",id:"gender",onChange:S,value:v,children:[Object(b.jsx)("option",{value:"male",children:"Male"}),Object(b.jsx)("option",{value:"female",children:"Female"})]})}),Object(b.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"Save"})]})]})},m=a(47),O=a(33),f=function(e){var t=e.users,a=e.setShowFollowing,n=Object(l.c)((function(e){return e})).auth;return Object(b.jsx)("div",{className:"follow",children:Object(b.jsxs)("div",{className:"follow_box",children:[Object(b.jsx)("h5",{className:"text-center follow_box-heading",children:"Following"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)(O.a,{setShowFollowing:a,user:e,children:n.user._id!==e._id&&Object(b.jsx)(m.a,{user:e})},e._id)})),Object(b.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})},h=function(e){var t=e.users,a=e.setShowFollowers,n=Object(l.c)((function(e){return e})).auth;return Object(b.jsx)("div",{className:"follow",children:Object(b.jsxs)("div",{className:"follow_box",children:[Object(b.jsx)("h5",{className:"text-center follow_box-heading",children:"Followers"}),Object(b.jsx)("hr",{}),t.map((function(e){return Object(b.jsx)(O.a,{setShowFollowers:a,user:e,children:n.user._id!==e._id&&Object(b.jsx)(m.a,{user:e})},e._id)})),Object(b.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})},x=a(31),v=function(e){var t=e.setChangePassword,a=Object(c.useState)(""),r=Object(n.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(""),u=Object(n.a)(i,2),d=u[0],j=u[1],p=Object(c.useState)(""),m=Object(n.a)(p,2),O=m[0],f=m[1],h=Object(l.c)((function(e){return e})),v=h.auth,y=(h.theme,Object(l.b)());return Object(b.jsxs)("div",{className:"edit_profile",children:[Object(b.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(Object(x.b)({oldPassword:s,newPassword:d,cnfNewPassword:O,auth:v}))},children:[Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"oldPassword",children:"old password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"oldPassword",name:"oldPassword",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"newPassword",children:"new password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"newPassword",name:"newPassword",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form_group",children:[Object(b.jsx)("label",{htmlFor:"cnfNewPassword",children:"confirm new password"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"cnfNewPassword",name:"cnfNewPassword",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(b.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"update"})]})]})},y=function(e){var t=e.id,a=e.auth,r=e.profile,o=e.dispatch,i=Object(c.useState)([]),l=Object(n.a)(i,2),d=l[0],j=l[1],O=Object(c.useState)(!1),x=Object(n.a)(O,2),y=x[0],g=x[1],_=Object(c.useState)(!1),N=Object(n.a)(_,2),w=N[0],T=N[1],k=Object(c.useState)(!1),E=Object(n.a)(k,2),S=E[0],A=E[1],L=Object(c.useState)(!1),P=Object(n.a)(L,2),C=P[0],R=P[1];return Object(c.useEffect)((function(){if(t===a.user._id)j([a.user]);else{var e=r.users.filter((function(e){return e._id===t}));j(e)}}),[t,a,o,r.users]),Object(c.useEffect)((function(){o(S||C||y?{type:u.c.MODAL,payload:!0}:{type:u.c.MODAL,payload:!1})}),[S,C,y,o]),Object(b.jsx)("div",{className:"info",children:d.map((function(e){return Object(b.jsxs)("div",{className:"info_container",children:[Object(b.jsx)("div",{className:"outer-shadow d-flex justify-content-center align-items-center",style:{borderRadius:"50%",height:"170px",width:"170px"},children:Object(b.jsx)(s.a,{src:e.avatar,size:"supper-avatar"})}),Object(b.jsxs)("div",{className:"info_content",children:[Object(b.jsxs)("div",{className:"info_content_title",children:[Object(b.jsx)("h2",{children:e.username}),e._id===a.user._id?Object(b.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return g(!0)},children:"Edit Profile"}):Object(b.jsx)(m.a,{user:e}),e._id===a.user._id?Object(b.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:function(){return T(!0)},children:"change password"}):Object(b.jsx)(m.a,{user:e})]}),Object(b.jsxs)("div",{className:"follow_btn",children:[Object(b.jsxs)("span",{className:"mr-4",onClick:function(){return A(!0)},children:[e.followers.length," Followers"]}),Object(b.jsxs)("span",{className:"ml-4",onClick:function(){return R(!0)},children:[e.following.length," Following"]})]}),Object(b.jsxs)("h6",{children:[e.fullname," ",Object(b.jsx)("span",{className:"color-violet",children:e.mobile})]}),Object(b.jsx)("p",{className:"m-0",children:e.address}),Object(b.jsx)("h6",{children:e.email}),Object(b.jsx)("a",{style:{textDecoration:"none"},href:e.website,target:"_blank",rel:"noreferrer",children:e.website}),Object(b.jsx)("p",{children:e.story})]}),y&&Object(b.jsx)(p,{setOnEdit:g}),w&&Object(b.jsx)(v,{setChangePassword:T}),S&&Object(b.jsx)(h,{users:e.followers,setShowFollowers:A}),C&&Object(b.jsx)(f,{users:e.following,setShowFollowing:R})]},e._id)}))})},g=a(4),_=a.n(g),N=a(8),w=a(56),T=a(20),k=a(51),E=a(9),S=function(e){var t=e.auth,a=e.profile,r=e.dispatch,s=e.id,o=Object(c.useState)([]),l=Object(n.a)(o,2),u=l[0],j=l[1],p=Object(c.useState)(9),m=Object(n.a)(p,2),O=m[0],f=m[1],h=Object(c.useState)(0),x=Object(n.a)(h,2),v=x[0],y=x[1],g=Object(c.useState)(!1),S=Object(n.a)(g,2),A=S[0],L=S[1];Object(c.useEffect)((function(){a.posts.forEach((function(e){e._id===s&&(j(e.posts),f(e.result),y(e.page))}))}),[a.posts,s]);var P=function(){var e=Object(N.a)(_.a.mark((function e(){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Object(E.b)("user_posts/".concat(s,"?limit=").concat(9*v),t.token);case 3:a=e.sent,n=Object(i.a)(Object(i.a)({},a.data),{},{page:v+1,_id:s}),r({type:d.a.UPDATE_POST,payload:n}),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{posts:u,result:O}),A&&Object(b.jsx)("img",{src:T.a,alt:"Loading...",className:"d-block mx-auto"}),Object(b.jsx)(k.a,{result:O,page:v,load:A,handleLoadMore:P})]})},A=function(e){var t=e.auth,a=e.dispatch,r=Object(c.useState)([]),s=Object(n.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(9),d=Object(n.a)(l,2),j=d[0],p=d[1],m=Object(c.useState)(2),O=Object(n.a)(m,2),f=O[0],h=O[1],x=Object(c.useState)(!1),v=Object(n.a)(x,2),y=v[0],g=v[1];Object(c.useEffect)((function(){return g(!0),Object(E.b)("getSavePosts",t.token).then((function(e){i(e.data.savePosts),p(e.data.result),g(!1)})).catch((function(e){a({type:u.c.ALERT,payload:{error:e.response.data.msg}})})),function(){return i([])}}),[a,t.token]);var S=function(){var e=Object(N.a)(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(E.b)("getSavePosts?limit=".concat(9*f),t.token);case 3:a=e.sent,i(a.data.savePosts),p(a.data.result),h(f+1),g(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{posts:o,result:j}),y&&Object(b.jsx)("img",{src:T.a,alt:"Loading...",className:"d-block mx-auto"}),Object(b.jsx)(k.a,{result:j,page:f,load:y,handleLoadMore:S})]})};t.default=function(){var e=Object(l.c)((function(e){return e})),t=e.profile,a=e.auth,s=Object(l.b)(),o=Object(r.h)().id,i=Object(c.useState)(!1),u=Object(n.a)(i,2),j=u[0],p=u[1];return Object(c.useEffect)((function(){t.ids.every((function(e){return e!==o}))&&s(Object(d.c)({id:o,auth:a}))}),[o,a,s,t.ids]),Object(b.jsxs)("div",{className:"profile",children:[Object(b.jsx)(y,{auth:a,profile:t,dispatch:s,id:o}),a.user._id===o&&Object(b.jsxs)("div",{className:"profile_tab",children:[Object(b.jsx)("button",{className:j?"":"active",onClick:function(){return p(!1)},children:"posts"}),Object(b.jsx)("button",{className:j?"active":"",onClick:function(){return p(!0)},children:"saved"})]}),t.loading?Object(b.jsx)("img",{className:"d-block mx-auto my-4",src:T.a,alt:"Loading"}):Object(b.jsx)(b.Fragment,{children:j?Object(b.jsx)(A,{auth:a,dispatch:s}):Object(b.jsx)(S,{auth:a,profile:t,dispatch:s,id:o})})]})}},113:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(73),r=a(4),s=a.n(r),o=a(8),i=a(11),l=a(7),u=a(33),d=a(6),j=a(16),b=a(24),p=a(36),m=a(0),O=function(e){var t=e.user,a=e.msg,n=e.theme;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"chat_title",children:[Object(m.jsx)(b.a,{src:t.avatar,size:"small-avatar"}),Object(m.jsx)("span",{children:t.username})]}),a.text&&Object(m.jsx)("div",{className:"chat_text",style:{filter:n?"invert(1)":"invert(0)"},children:a.text}),a.media&&a.media.map((function(e,t){return Object(m.jsx)("div",{style:{maxWidth:"380px",maxHeight:"380px"},children:e.url.match(/video/i)?Object(p.b)(e.url,n):Object(p.a)(e.url,n)},t)})),Object(m.jsx)("div",{className:"chat_time",children:new Date(a.createdAt).toLocaleString()})]})},f=a(57),h=a(3),x=a(46),v=a(30),y=a(20),g=function(){var e=Object(d.c)((function(e){return e})),t=e.auth,a=e.message,c=e.theme,r=e.socket,b=Object(d.b)(),g=Object(n.useState)([]),_=Object(l.a)(g,2),N=_[0],w=_[1],T=Object(n.useState)(""),k=Object(l.a)(T,2),E=k[0],S=k[1],A=Object(n.useState)(0),L=Object(l.a)(A,2),P=L[0],C=L[1],R=Object(n.useState)([]),D=Object(l.a)(R,2),I=D[0],U=D[1],G=Object(j.h)().id,F=Object(n.useState)([]),M=Object(l.a)(F,2),H=M[0],z=M[1],Y=Object(n.useState)(!1),W=Object(l.a)(Y,2),V=W[0],K=W[1],B=Object(n.useRef)(),q=Object(n.useRef)();Object(n.useEffect)((function(){var e=a.data.filter((function(e){return e.sender===t.user._id||e.sender===G}));U(e)}),[a.data,t.user._id,G]),Object(n.useEffect)((function(){var e=a.users.find((function(e){return e._id===G}));e&&w(e)}),[a.users,G]);var J=function(){var e=Object(o.a)(s.a.mark((function e(a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),E.trim()||0!==H.length){e.next=3;break}return e.abrupt("return");case 3:if(S(""),z([]),K(!0),n=[],!(H.length>0)){e.next=11;break}return e.next=10,Object(x.b)(H);case 10:n=e.sent;case 11:return c={sender:t.user._id,recipient:G,text:E,media:n,createdAt:(new Date).toISOString()},K(!1),e.next=15,b(Object(v.b)({msg:c,auth:t,socket:r}));case 15:B.current&&B.current.scrollIntoView({behaviour:"smooth",block:"end"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){G&&function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:v.a.GET_MESSAGES,payload:{messages:[]}}),C(1),e.next=4,b(Object(v.e)({auth:t,id:G}));case 4:B.current&&B.current.scrollIntoView({behaviour:"smooth",block:"end"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[G,b,t]),Object(n.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&C((function(e){return e+1}))}),{threshold:.1}).observe(q.current)}),[C]),Object(n.useEffect)((function(){a.resultData>=9*(P-1)&&P>1&&b(Object(v.e)({auth:t,id:G,page:P}))}),[a.resultData,P,G,t,b]),Object(n.useEffect)((function(){B.current&&B.current.scrollIntoView({behaviour:"smooth",block:"end"})}),[E]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"message_header",children:0!==N.length&&Object(m.jsx)(u.a,{user:N,children:Object(m.jsx)("i",{className:"fas fa-trash text-danger"})})}),Object(m.jsx)("div",{className:"chat_container",style:{height:H.length>0?"calc(100% - 180px)":""},children:Object(m.jsxs)("div",{className:"chat_display",ref:B,children:[Object(m.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:q,children:"Load.."}),I.map((function(e,a){return Object(m.jsxs)("div",{children:[e.sender!==t.user._id&&Object(m.jsx)("div",{className:"chat_row other_message",children:Object(m.jsx)(O,{user:N,msg:e,theme:c})}),e.sender===t.user._id&&Object(m.jsx)("div",{className:"chat_row you_message",children:Object(m.jsx)(O,{user:t.user,msg:e,theme:c})})]},a)})),V&&Object(m.jsx)("div",{className:"chat_row you_message",children:Object(m.jsx)("img",{src:y.a,alt:"Loading..."})})]})}),Object(m.jsx)("div",{className:"show_media",style:{display:H.length>0?"":"none"},children:H.map((function(e,t){return Object(m.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(p.b)(URL.createObjectURL(e),c):Object(p.a)(URL.createObjectURL(e),c),Object(m.jsx)("span",{onClick:function(){return function(e){var t=Object(i.a)(H);t.splice(e,1),z(t)}(t)},children:"\xd7"})]},t)}))}),Object(m.jsxs)("form",{className:"chat_input",onSubmit:J,children:[Object(m.jsx)("input",{placeholder:"Type a message.",type:"text",value:E,onChange:function(e){return S(e.target.value)},style:{filter:c?"invert(1)":"invert(0)",background:c?"#040404":"",color:c?"white":""}}),Object(m.jsx)(f.a,{setContent:S,content:E,theme:c}),Object(m.jsxs)("div",{className:"file_upload",children:[Object(m.jsx)("i",{className:"fas fa-image color-c1"}),Object(m.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(i.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&b({type:h.c.ALERT,payload:{error:a}}),z([].concat(Object(i.a)(H),n))}})]}),Object(m.jsx)("button",{type:"submit",disabled:!(E||H.length>0),className:"material-icons",children:"near_me"})]})]})};t.default=function(){return Object(m.jsxs)("div",{className:"message d-flex",children:[Object(m.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(m.jsx)(c.a,{})}),Object(m.jsx)("div",{className:"col-md-8 px-0",children:Object(m.jsx)(g,{})})]})}},125:function(e,t,a){},14:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return b})),a.d(t,"c",(function(){return p}));var n=a(4),c=a.n(n),r=a(2),s=a(8),o=a(3),i=a(9),l={GET_NOTIFIES:"GET_NOTIFIES",CREATE_NOTIFY:"CREATE_NOTIFY",REMOVE_NOTIFY:"REMOVE_NOTIFY",UPDATE_NOTIFY:"UPDATE_NOTIFY",UPDATE_SOUND:"UPDATE_SOUND",DELETE_ALL_NOTIFICATIONS:"DELETE_ALL_NOTIFICATIONS"},u=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(s){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.d)("notify",t,a.token);case 3:l=e.sent,n.emit("createNotify",Object(r.a)(Object(r.a)({},l.data.notify),{},{user:{username:a.user.username,avatar:a.user.avatar}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)("notify/".concat(t.id,"?url=").concat(t.url),a.token);case 3:n.emit("removeNotify",t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.b)("notifies",e);case 3:n=t.sent,a({type:l.GET_NOTIFIES,payload:n.data.notifies}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){var t=e.msg,a=e.auth;return function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:l.UPDATE_NOTIFY,payload:Object(r.a)(Object(r.a)({},t),{},{isRead:!0})}),e.prev=1,e.next=4,Object(i.c)("isReadNotify/".concat(t._id),null,a.token);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),n({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:l.DELETE_ALL_NOTIFICATIONS,payload:[]}),t.prev=1,t.next=4,Object(i.a)("deleteAllNotify",e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}},160:function(e,t,a){var n={"./adminDashboard":71,"./adminDashboard.js":71,"./discover":110,"./discover.js":110,"./home":72,"./home.js":72,"./login":62,"./login.js":62,"./message":67,"./message/":67,"./message/[id]":113,"./message/[id].js":113,"./message/index":67,"./message/index.js":67,"./post/[id]":111,"./post/[id].js":111,"./profile/[id]":112,"./profile/[id].js":112,"./register":70,"./register.js":70};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=160},17:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"i",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"h",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return O})),a.d(t,"d",(function(){return f}));var n=a(4),c=a.n(n),r=a(8),s=a(3),o=a(9),i=a(14),l={GET_TOTAL_USERS:"GET_TOTAL_USERS",GET_TOTAL_POSTS:"GET_TOTAL_POSTS",GET_TOTAL_COMMENTS:"GET_TOTAL_COMMENTS",GET_TOTAL_LIKES:"GET_TOTAL_LIKES",GET_TOTAL_SPAM_POSTS:"GET_TOTAL_SPAM_POSTS",GET_TOTAL_ACTIVE_USERS:"GET_TOTAL_ACTIVE_USERS",GET_SPAM_POSTS:"GET_SPAM_POSTS",LOADING_ADMIN:"LOADING_ADMIN",DELETE_POST:"DELETE_POST"},u=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_users",e);case 4:n=t.sent,a({type:l.GET_TOTAL_USERS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_posts",e);case 4:n=t.sent,a({type:l.GET_TOTAL_POSTS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_comments",e);case 4:n=t.sent,a({type:l.GET_TOTAL_COMMENTS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_likes",e);case 4:n=t.sent,a({type:l.GET_TOTAL_LIKES,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_total_spam_posts",e);case 4:n=t.sent,a({type:l.GET_TOTAL_SPAM_POSTS,payload:n.data}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:l.LOADING_ADMIN,payload:!0}),t.next=4,Object(o.b)("get_spam_posts",e);case 4:n=t.sent,a({type:l.GET_SPAM_POSTS,payload:n.data.spamPosts}),a({type:l.LOADING_ADMIN,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){var t=e.post,a=e.auth,n=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(r){var u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:l.DELETE_POST,payload:t}),e.prev=1,e.next=4,Object(o.a)("delete_spam_posts/".concat(t._id),a.token);case 4:u=e.sent,r({type:s.c.ALERT,payload:{success:u.data.msg}}),d={id:a.user._id,text:"Your Post is deleted due to too many reports.",recipients:[t.user._id],url:"/profile/".concat(t.user._id)},r(Object(i.b)({msg:d,auth:a,socket:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.auth,a=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.emit("getActiveUsers",t.user._id)}catch(c){n({type:s.c.ALERT,payload:{error:c.response.data.msg}})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},179:function(e,t,a){},181:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(68),s=a.n(r),o=(a(125),a(12)),i=a(16),l=a(6),u=a(115),d=a.n(u),j=a(0),b=function(){return Object(j.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(j.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | Not Found."})})},p=function(){var e=Object(i.h)(),t=e.page,n=e.id,r="";return Object(l.c)((function(e){return e})).auth.token&&(r=n?"".concat(t,"/[id]"):"".concat(t)),function(e){try{return c.a.createElement(a(160)("./".concat(e)).default)}catch(t){return Object(j.jsx)(b,{})}}(r)},m=a(2),O=function(e){return localStorage.getItem("firstLogin")?Object(j.jsx)(i.b,Object(m.a)({},e)):Object(j.jsx)(i.a,{to:"/"})},f=a(62),h=a(70),x=a(72),v=function(){return Object(j.jsxs)("div",{style:{background:"white",top:0,left:0,zIndex:50,opacity:.7},className:"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center",children:[Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{})]}),Object(j.jsx)("text",{className:"loading_text",fill:"#fff",x:"5",y:"47",children:"Loading"})]})},y=function(e){var t=e.msg,a=e.handleShow,n=e.bgColor;return Object(j.jsxs)("div",{className:"toast show position-fixed text-light ".concat(n," "),style:{top:"5px",right:"5px",minWidth:"200px",zIndex:50},children:[Object(j.jsxs)("div",{className:"toast-header text-light ".concat(n),children:[Object(j.jsx)("strong",{className:"mr-auto text-light",children:t.title}),Object(j.jsx)("button",{className:"ml-auto mb-1 close text-light","data-dismiss":"toast",style:{border:"none",background:"none",fontSize:"30px",right:0},onClick:a,children:"\xd7"})]}),Object(j.jsx)("div",{className:"toast-body",children:t.body})]})},g=a(3),_=function(){var e=Object(l.c)((function(e){return e})).alert,t=Object(l.b)();return Object(j.jsxs)("div",{children:[e.loading&&Object(j.jsx)(v,{}),e.error&&Object(j.jsx)(y,{msg:{title:"Error",body:e.error},handleShow:function(){return t({type:g.c.ALERT,payload:{}})},bgColor:"bg-danger"}),e.success&&Object(j.jsx)(y,{msg:{title:"Success",body:e.success},handleShow:function(){return t({type:g.c.ALERT,payload:{}})},bgColor:"bg-success"})]})},N=a(31),w=a(24),T=a(50),k=a.n(T),E=a(14),S=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.notify,n=Object(l.b)(),c=function(){n({type:E.a.UPDATE_SOUND,payload:!a.sound})};return Object(j.jsxs)("div",{className:"mt-1",style:{minWidth:"280px",boxShadow:"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)",background:"white",borderRadius:"10px",borderTopRightRadius:"0"},children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("h3",{children:"Notifications"}),a.sound?Object(j.jsx)("i",{className:"fas fa-bell text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:c}):Object(j.jsx)("i",{className:"fas fa-bell-slash text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:c})]}),Object(j.jsx)("hr",{className:"mt-1"}),0===a.data.length&&Object(j.jsx)("span",{className:"text-muted w-100 text-center",children:"No Notifications"}),Object(j.jsx)("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto"},children:a.data.map((function(e,a){return Object(j.jsxs)("div",{className:"px-2 mb-3",children:[Object(j.jsxs)(o.b,{to:"".concat(e.url),style:{textDecoration:"none"},className:"d-flex text-dark align-items-center",onClick:function(){return function(e){n(Object(E.e)({msg:e,auth:t}))}(e)},children:[Object(j.jsx)(w.a,{src:e.user.avatar,size:"big-avatar"}),Object(j.jsxs)("div",{className:"flex-fill mx-1",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{className:"mr-1",children:e.user.username}),Object(j.jsx)("span",{children:e.text})]}),e.content&&Object(j.jsxs)("small",{children:[e.content.slice(0,20),"..."]})]}),Object(j.jsx)("div",{style:{width:"30px"},children:e.image&&Object(j.jsx)(w.a,{src:e.image,size:"medium-avatar"})})]}),Object(j.jsxs)("small",{className:"text-muted d-flex justify-content-between px-2",children:[k()(e.createdAt).fromNow(),!e.isRead&&Object(j.jsx)("i",{className:"fas fa-circle color-c1"})]})]},a)}))}),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsx)("div",{className:"text-end my-auto me-2 color-c1",style:{cursor:"pointer"},onClick:function(){var e=a.data.filter((function(e){return!1===e.isRead}));return 0===e.length||window.confirm("You have ".concat(e.length," unread notifications.Do you want to delete all notifications?"))?n(Object(E.c)(t.token)):void 0},children:"Delete"})]})},A=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.theme,n=e.notify,c=Object(l.b)(),r=Object(i.g)().pathname,s=function(e){if(e===r)return"active"};return Object(j.jsx)("div",{className:"menu",children:Object(j.jsxs)("ul",{className:"navbar-nav flex-row mb-2 mb-lg-0",children:[[{label:"Home",icon:"home",path:"/"},{label:"Message",icon:"near_me",path:"/message"},{label:"Discover",icon:"explore",path:"/discover"}].map((function(e,t){return Object(j.jsx)("li",{className:"nav-item px-2 ".concat(s(e.path)),children:Object(j.jsx)(o.b,{className:"nav-link ",to:e.path,children:Object(j.jsx)("span",{className:"material-icons ",children:e.icon})})},t)})),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsxs)("span",{className:"nav-link position-relative",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(j.jsx)("span",{style:{color:n.data.length>0?"var(--c1)":""},className:"material-icons ",children:"notifications"}),Object(j.jsx)("span",{className:"notify_length",children:n.data.length})]}),Object(j.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(j.jsx)(S,{})})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsx)("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(j.jsx)(w.a,{src:t.user.avatar,size:"medium-avatar"})}),Object(j.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/profile/".concat(t.user._id),children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)("label",{style:{color:"white"},htmlFor:"theme",className:"dropdown-item",onClick:function(){return c({type:g.c.THEME,payload:!a})},children:a?"Light mode":"Dark mode"})}),Object(j.jsx)("li",{children:Object(j.jsx)("hr",{className:"dropdown-divider"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/",onClick:function(){return c(Object(N.d)())},children:"Logout"})})]})]})]})})},L=a(4),P=a.n(L),C=a(8),R=a(7),D=a(9),I=a(33),U=a(20),G=function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(R.a)(r,2),o=s[0],i=s[1],u=Object(l.c)((function(e){return e})).auth,d=Object(l.b)(),b=Object(n.useState)(!1),p=Object(R.a)(b,2),m=p[0],O=p[1],f=function(){var e=Object(C.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,O(!0),e.next=7,Object(D.b)("search?username=".concat(a),u.token);case 7:n=e.sent,i(n.data.users),O(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),d({type:g.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){c(""),i([])};return Object(j.jsxs)("form",{className:"search_form",onSubmit:f,children:[Object(j.jsx)("input",{type:"text",title:"Enter to Search",name:"search",value:a,id:"search",onChange:function(e){return c(e.target.value.toLowerCase().replace(/ /g," "))}}),Object(j.jsxs)("div",{className:"search_icon",style:{opacity:a?0:.3},children:[Object(j.jsx)("span",{className:"material-icons",children:"search"}),Object(j.jsx)("span",{children:"Enter to Search"})]}),Object(j.jsx)("div",{onClick:h,className:"close_search",style:{opacity:0===o.length?0:1},children:"\xd7"}),Object(j.jsx)("button",{type:"submit",style:{display:"none"},children:"Search"}),m&&Object(j.jsx)("img",{className:"loading",src:U.a,alt:"Loading"}),Object(j.jsx)("div",{className:"users",children:a&&o.map((function(e){return Object(j.jsx)(I.a,{user:e,border:"border",handleClose:h},e._id)}))})]})},F=a(10),M=a(48),H=function(){var e=Object(l.c)((function(e){return e})).auth,t=Object(l.b)();return Object(j.jsx)("div",{className:"header bg-light",children:Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(o.b,{to:"/",className:"logo",onClick:function(){window.scrollTo({top:0}),t(Object(F.e)(e.token)),t(Object(M.b)(e.token))},children:Object(j.jsx)("h1",{className:"navbar-brand text-uppercase p-0 m-0",children:"Campus Connect"})}),Object(j.jsx)(G,{}),Object(j.jsx)(A,{})]})})})},z=a(11),Y=a(57),W=a(36),V=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.theme,c=e.status,r=e.socket,s=Object(l.b)(),o=Object(n.useState)(""),i=Object(R.a)(o,2),u=i[0],d=i[1],b=Object(n.useState)([]),p=Object(R.a)(b,2),m=p[0],O=p[1],f=Object(n.useState)(!1),h=Object(R.a)(f,2),x=h[0],v=h[1],y=Object(n.useRef)(),_=Object(n.useRef)(),N=Object(n.useState)(""),w=Object(R.a)(N,2),T=w[0],k=w[1];return Object(n.useEffect)((function(){c.onEdit&&(d(c.content),O(c.images))}),[c]),Object(j.jsx)("div",{className:"status_modal",children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===m.length)return s({type:g.c.ALERT,payload:{error:"Add image(s)."}});c.onEdit?s(Object(F.k)({content:u,images:m,auth:t,status:c})):s(Object(F.b)({content:u,images:m,auth:t,socket:r})),d(""),O([]),T&&T.stop(),s({type:g.c.STATUS,payload:!1})},children:[Object(j.jsxs)("div",{className:"status_header",children:[Object(j.jsx)("h5",{className:"m-0",children:"Create Post"}),Object(j.jsx)("span",{onClick:function(){return s({type:g.c.STATUS,payload:!1})},children:"\xd7"})]}),Object(j.jsxs)("div",{className:"status_body",children:[Object(j.jsx)("textarea",{onChange:function(e){return d(e.target.value)},value:u,name:"content",placeholder:"".concat(t.user.username,", What's on your mind?"),style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111",background:a?"rgb(0,0,0,0.3)":""}}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("div",{className:"flex-fill"}),Object(j.jsx)(Y.a,{setContent:d,content:u,theme:a})]}),Object(j.jsx)("div",{className:"show_images",children:m.map((function(e,t){return Object(j.jsxs)("div",{className:"file_img",children:[e.camera?Object(W.a)(e.camera,a):e.url?Object(j.jsx)(j.Fragment,{children:e.url.match(/video/i)?Object(W.b)(e.url):Object(W.a)(e.url)}):Object(j.jsx)(j.Fragment,{children:e.type.match(/video/i)?Object(W.b)(URL.createObjectURL(e,a)):Object(W.a)(URL.createObjectURL(e,a))}),Object(j.jsx)("span",{onClick:function(){return function(e){var t=Object(z.a)(m);t.splice(e,1),O(t)}(t)},children:"\xd7"})]},t)}))}),x&&Object(j.jsxs)("div",{className:"stream position-relative",children:[Object(j.jsx)("video",{width:"100%",height:"100%",ref:y,style:{filter:a?"invert(1)":"invert(0)"},autoPlay:!0,muted:!0}),Object(j.jsx)("span",{onClick:function(){T.stop(),v(!1)},children:"\xd7"}),Object(j.jsx)("canvas",{style:{display:"none"},ref:_})]}),Object(j.jsx)("div",{className:"input_images",children:x?Object(j.jsx)("i",{className:"fas fa-camera",onClick:function(){var e=y.current.clientWidth,t=y.current.clientHeight;_.current.setAttribute("width",e),_.current.setAttribute("height",t),_.current.getContext("2d").drawImage(y.current,0,0,e,t);var a=_.current.toDataURL();O([].concat(Object(z.a)(m),[{camera:a}]))}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fas fa-camera",onClick:function(){v(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){y.current.srcObject=e,y.current.play();var t=e.getTracks();k(t[0])})).catch((function(e){return console.log(e)}))}}),Object(j.jsxs)("div",{className:"file_upload",children:[Object(j.jsx)("i",{className:"fas fa-image"}),Object(j.jsx)("input",{onChange:function(e){var t=Object(z.a)(e.target.files),a="",n=[];t.forEach((function(e){return e?e.size>5242880?a="Image size must be less than 5 mb.":n.push(e):a="File does not exist."})),a&&s({type:g.c.ALERT,payload:{error:a}}),O([].concat(Object(z.a)(m),n))},type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*"})]})]})})]}),Object(j.jsx)("div",{className:"status_footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})},K=a(71),B=a(17),q=a(30),J=a.p+"static/media/pristine-609.9287f5ce.mp3",Q=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.socket,c=e.notify,r=Object(l.b)(),s=Object(n.useRef)();return Object(n.useEffect)((function(){"user"===t.user.role?a.emit("joinUser",t.user._id):"admin"===t.user.role&&a.emit("joinAdmin",t.user._id)}),[a,t.user.role,t.user._id]),Object(n.useEffect)((function(){return a.on("getActiveUsersToClient",(function(e){r({type:B.a.GET_TOTAL_ACTIVE_USERS,payload:e})})),function(){return a.off("getActiveUsersToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("likeToClient",(function(e){r({type:F.a.UPDATE_POST,payload:e})})),function(){return a.off("likeToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("unLikeToClient",(function(e){r({type:F.a.UPDATE_POST,payload:e})})),function(){return a.off("unLikeToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("createCommentToClient",(function(e){r({type:F.a.UPDATE_POST,payload:e})})),function(){return a.off("createCommentToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("deleteCommentToClient",(function(e){r({type:F.a.UPDATE_POST,payload:e})})),function(){return a.off("deleteCommentToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("followToClient",(function(e){r({type:g.c.AUTH,payload:Object(m.a)(Object(m.a)({},t),{},{user:e})})})),function(){return a.off("followToClient")}}),[a,r,t]),Object(n.useEffect)((function(){return a.on("unFollowToClient",(function(e){r({type:g.c.AUTH,payload:Object(m.a)(Object(m.a)({},t),{},{user:e})})})),function(){return a.off("unFollowToClient")}}),[a,r,t]),Object(n.useEffect)((function(){return a.on("createNotifyToClient",(function(e){var t,a,n;r({type:E.a.CREATE_NOTIFY,payload:e}),c.sound&&s.current.play(),t=e.user.username+" "+e.text,a=e.user.avatar,n=e.url,new Notification("CAMPUS CONNECT",{body:t,icon:a}).onclick=function(e){e.preventDefault(),window.open(n,"_blank")}})),function(){return a.off("createNotifyToClient")}}),[a,r,c.sound]),Object(n.useEffect)((function(){return a.on("removeNotifyToClient",(function(e){r({type:E.a.REMOVE_NOTIFY,payload:e})})),function(){return a.off("removeNotifyToClient")}}),[a,r]),Object(n.useEffect)((function(){return a.on("addMessageToClient",(function(e){r({type:q.a.ADD_MESSAGE,payload:e})})),function(){return a.off("addMessageToClient")}}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("audio",{controls:!0,ref:s,style:{display:"none"},children:Object(j.jsx)("source",{src:J,type:"audio/mp3"})})})};var X=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,a=e.status,c=e.modal,r=e.userType,s=Object(l.b)();return Object(n.useEffect)((function(){s(Object(N.e)());var e=d()();return s({type:g.c.SOCKET,payload:e}),function(){return e.close()}}),[s]),Object(n.useEffect)((function(){t.token&&(s(Object(F.e)(t.token)),s(Object(M.b)(t.token)),s(Object(E.d)(t.token)))}),[s,t.token]),Object(n.useEffect)((function(){"Notification"in window?"granted"===Notification.permission||"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){})):alert("This browser does not support desktop notification")}),[]),Object(j.jsxs)(o.a,{children:[Object(j.jsx)(_,{}),Object(j.jsx)("input",{type:"checkbox",id:"theme"}),Object(j.jsx)("div",{className:"App ".concat((a||c)&&"mode"),children:Object(j.jsxs)("div",{className:"main",children:["user"===r&&t.token&&Object(j.jsx)(H,{}),a&&Object(j.jsx)(V,{}),t.token&&Object(j.jsx)(Q,{}),Object(j.jsx)(i.b,{exact:!0,path:"/",component:"user"===r?t.token?x.default:f.default:t.token?K.default:f.default}),"user"===r&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/register",component:h.default}),Object(j.jsxs)("div",{className:"wrap_page",children:[Object(j.jsx)(O,{exact:!0,path:"/:page",component:p}),Object(j.jsx)(O,{exact:!0,path:"/:page/:id",component:p})]})]})]})})]})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,203)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},$=a(49),ee=a(118),te={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.AUTH:return t.payload;default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.USER_TYPE:return t.payload;default:return e}},ce={},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.ALERT:return t.payload;default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.THEME:return t.payload;default:return e}},oe=a(26),ie={loading:!1,ids:[],users:[],posts:[]},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.a.LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case oe.a.GET_USER:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(z.a)(e.users),[t.payload.user])});case oe.a.FOLLOW:case oe.a.UNFOLLOW:return Object(m.a)(Object(m.a)({},e),{},{users:Object(g.b)(e.users,t.payload._id,t.payload)});case oe.a.GET_ID:return Object(m.a)(Object(m.a)({},e),{},{ids:[].concat(Object(z.a)(e.ids),[t.payload])});case oe.a.GET_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(z.a)(e.posts),[t.payload])});case oe.a.UPDATE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(g.b)(e.posts,t.payload._id,t.payload)});default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.STATUS:return t.payload;default:return e}},de={loading:!1,posts:[],result:0,page:2},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.a.CREATE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:[t.payload].concat(Object(z.a)(e.posts))});case F.a.LOADING_POST:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case F.a.GET_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,page:t.payload.page});case F.a.UPDATE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(g.b)(e.posts,t.payload._id,t.payload)});case F.a.DELETE_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(g.a)(e.posts,t.payload._id)});case F.a.REPORT_POST:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(g.b)(e.posts,t.payload._id,t.payload)});default:return e}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.MODAL:return t.payload;default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.a.GET_POST:return[].concat(Object(z.a)(e),[t.payload]);case F.a.UPDATE_POST:return Object(g.b)(e,t.payload._id,t.payload);default:return e}},me={total_users:0,total_posts:0,total_comments:0,total_likes:0,total_active_users:0,total_spam_posts:0,spam_posts:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.a.GET_TOTAL_USERS:return Object(m.a)(Object(m.a)({},e),{},{total_users:t.payload.total_users});case B.a.GET_TOTAL_POSTS:return Object(m.a)(Object(m.a)({},e),{},{total_posts:t.payload.total_posts});case B.a.GET_TOTAL_COMMENTS:return Object(m.a)(Object(m.a)({},e),{},{total_comments:t.payload.total_comments});case B.a.GET_TOTAL_LIKES:return Object(m.a)(Object(m.a)({},e),{},{total_likes:t.payload.total_likes});case B.a.GET_TOTAL_SPAM_POSTS:return Object(m.a)(Object(m.a)({},e),{},{total_spam_posts:t.payload.total_spam_posts});case B.a.GET_TOTAL_ACTIVE_USERS:return Object(m.a)(Object(m.a)({},e),{},{total_active_users:t.payload});case B.a.LOADING_ADMIN:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case B.a.GET_SPAM_POSTS:return Object(m.a)(Object(m.a)({},e),{},{spam_posts:Object(z.a)(t.payload)});case B.a.DELETE_POST:return Object(m.a)(Object(m.a)({},e),{},{spam_posts:Object(g.a)(e.spam_posts,t.payload._id)});default:return e}},fe=a(53),he={loading:!1,posts:[],result:9,page:2,firstLoad:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe.a.LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case fe.a.GET_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,firstLoad:!0});case fe.a.UPDATE_POSTS:return Object(m.a)(Object(m.a)({},e),{},{posts:Object(z.a)(t.payload.posts),result:t.payload.result,page:e.page+1});default:return e}},ve={loading:!1,users:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.a.LOADING:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case M.a.GET_USERS:return Object(m.a)(Object(m.a)({},e),{},{users:t.payload.users});default:return e}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.SOCKET:return t.payload;default:return e}},_e={loading:!1,data:[],sound:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a.GET_NOTIFIES:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload});case E.a.CREATE_NOTIFY:return Object(m.a)(Object(m.a)({},e),{},{data:[].concat(Object(z.a)(e.data),[t.payload])});case E.a.UPDATE_NOTIFY:return Object(m.a)(Object(m.a)({},e),{},{data:Object(g.b)(e.data,t.payload._id,t.payload)});case E.a.UPDATE_SOUND:return Object(m.a)(Object(m.a)({},e),{},{sound:t.payload});case E.a.REMOVE_NOTIFY:return Object(m.a)(Object(m.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id||e.url!==t.payload.url}))});case E.a.DELETE_ALL_NOTIFICATIONS:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload});default:return e}},we={users:[],resultUsers:0,data:[],resultData:0,firstLoad:!1},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.a.ADD_USER:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(z.a)(e.data),[t.payload])});case q.a.ADD_MESSAGE:return Object(m.a)(Object(m.a)({},e),{},{data:[].concat(Object(z.a)(e.data),[t.payload]),users:e.users.map((function(e){return e._id===t.payload.recipient||e._id===t.payload.sender?Object(m.a)(Object(m.a)({},e),{},{text:t.payload.text,media:t.payload.media}):e}))});case q.a.GET_CONVERSATIONS:return Object(m.a)(Object(m.a)({},e),{},{users:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case q.a.GET_MESSAGES:return Object(m.a)(Object(m.a)({},e),{},{data:t.payload.messages.reverse(),resultData:t.payload.result});default:return e}},ke=Object($.combineReducers)({auth:ae,alert:re,theme:se,profile:le,status:ue,homePosts:je,modal:be,detailPost:pe,userType:ne,admin:Oe,discover:xe,suggestions:ye,socket:ge,notify:Ne,message:Te}),Ee=a(119),Se=Object($.createStore)(ke,Object(Ee.composeWithDevTools)(Object($.applyMiddleware)(ee.a))),Ae=function(e){var t=e.children;return Object(j.jsx)(l.a,{store:Se,children:t})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Ae,{children:Object(j.jsx)(X,{})})}),document.getElementById("root")),Z()},20:function(e,t,a){"use strict";t.a=a.p+"static/media/loading.10625dac.gif"},24:function(e,t,a){"use strict";a(1);var n=a(6),c=a(0);t.a=function(e){var t=e.src,a=e.size,r=Object(n.c)((function(e){return e})).theme;return Object(c.jsx)("img",{src:t,alt:"Avatar",className:a,style:{filter:"".concat(r?"invert(1)":"invert(0)")}})}},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"c",(function(){return b})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return O}));var n=a(11),c=a(4),r=a.n(c),s=a(2),o=a(8),i=a(3),l=a(9),u=a(46),d=a(14),j={LOADING:"LOADING_PROFILE",GET_USER:"GET_PROFILE_USER",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",GET_ID:"GET_PROFILE_ID",GET_POSTS:"GET_PROFILE_POSTS",UPDATE_POST:"UPDATE_PROFILE_POSTS"},b=function(e){var t=e.id,a=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(n){var c,o,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:j.GET_ID,payload:t}),e.prev=1,n({type:j.LOADING,payload:!0}),c=Object(l.b)("/user/".concat(t),a.token),o=Object(l.b)("/user_posts/".concat(t),a.token),e.next=7,c;case 7:return u=e.sent,e.next=10,o;case 10:d=e.sent,n({type:j.GET_USER,payload:u.data}),n({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},d.data),{},{_id:t,page:2})}),n({type:j.LOADING,payload:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.userData,a=e.avatar,n=e.auth;return function(){var e=Object(o.a)(r.a.mark((function e(c){var o,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fullname){e.next=2;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Please enter full name."}}));case 2:if(!(t.fullname.length>25)){e.next=4;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Full name is too long."}}));case 4:if(!(t.story.length>200)){e.next=6;break}return e.abrupt("return",c({type:i.c.ALERT,payload:{error:"Story is too long."}}));case 6:if(e.prev=6,c({type:i.c.ALERT,payload:{loading:!0}}),!a){e.next=12;break}return e.next=11,Object(u.b)([a]);case 11:o=e.sent;case 12:return e.next=14,Object(l.c)("user",Object(s.a)(Object(s.a)({},t),{},{avatar:a?o[0].url:n.user.avatar}),n.token);case 14:d=e.sent,c({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)(Object(s.a)({},n.user),t),{},{avatar:a?o[0].url:n.user.avatar})})}),c({type:i.c.ALERT,payload:{success:d.data.msg}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),c({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.users,a=e.user,c=e.auth,u=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var b,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==a._id}))?b=Object(s.a)(Object(s.a)({},a),{},{followers:[].concat(Object(n.a)(a.followers),[c.user])}):t.forEach((function(e){e._id===a._id&&(b=Object(s.a)(Object(s.a)({},e),{},{followers:[].concat(Object(n.a)(e.followers),[c.user])}))})),o({type:j.FOLLOW,payload:b}),o({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},c),{},{user:Object(s.a)(Object(s.a)({},c.user),{},{following:[].concat(Object(n.a)(c.user.following),[b])})})}),e.prev=3,e.next=6,Object(l.c)("/user/".concat(a._id,"/follow"),null,c.token);case 6:p=e.sent,u.emit("follow",p.data.newUser),m={id:c.user._id,text:"started following you",recipients:[b._id],url:"/profile/".concat(c.user._id)},o(Object(d.b)({msg:m,auth:c,socket:u})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.users,a=e.user,n=e.auth,c=e.socket;return function(){var e=Object(o.a)(r.a.mark((function e(o){var u,b,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==a._id}))?u=Object(s.a)(Object(s.a)({},a),{},{followers:Object(i.a)(a.followers,n.user._id)}):t.forEach((function(e){e._id===a._id&&(u=Object(s.a)(Object(s.a)({},e),{},{followers:Object(i.a)(e.followers,n.user._id)}))})),o({type:j.UNFOLLOW,payload:u}),o({type:i.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)({},n.user),{},{following:Object(i.a)(n.user.following,u._id)})})}),e.prev=3,e.next=6,Object(l.c)("/user/".concat(a._id,"/unfollow"),null,n.token);case 6:b=e.sent,c.emit("unFollow",b.data.newUser),p={id:n.user._id,text:"started following you",recipients:[u._id],url:"/profile/".concat(n.user._id)},o(Object(d.f)({msg:p,auth:n,socket:c})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),o({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()}},3:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return r}));var n={AUTH:"AUTH",ALERT:"ALERT",THEME:"THEME",STATUS:"STATUS",MODAL:"MODAL",USER_TYPE:"USER_TYPE",SOCKET:"SOCKET"},c=function(e,t,a){return e.map((function(e){return e._id===t?a:e}))},r=function(e,t){return e.filter((function(e){return e._id!==t}))}},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return j})),a.d(t,"e",(function(){return b}));var n=a(4),c=a.n(n),r=a(2),s=a(8),o=a(3),i=a(9),l={ADD_USER:"ADD_USER",ADD_MESSAGE:"ADD_MESSAGE",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_MESSAGES:"GET_MESSAGES"},u=function(e){var t=e.user,a=e.message;return function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.users.every((function(e){return e._id!==t._id}))&&n({type:l.ADD_USER,payload:Object(r.a)(Object(r.a)({},t),{},{text:"",media:[]})});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,a=e.auth,n=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:l.ADD_MESSAGE,payload:t}),n.emit("addMessage",t),e.prev=2,e.next=5,Object(i.d)("message",t,a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.auth,a=e.page,n=void 0===a?1:a;return function(){var e=Object(s.a)(c.a.mark((function e(a){var s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)("conversations?limit=".concat(9*n),t.token);case 3:s=e.sent,u=[],s.data.conversations.forEach((function(e){e.recipients.forEach((function(a){a._id!==t.user._id&&u.push(Object(r.a)(Object(r.a)({},a),{},{text:e.text,media:e.media}))}))})),a({type:l.GET_CONVERSATIONS,payload:{newArr:u,result:s.data.result}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.auth,a=e.id,n=e.page,r=void 0===n?1:n;return function(){var e=Object(s.a)(c.a.mark((function e(n){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)("message/".concat(a,"?limit=").concat(9*r),t.token);case 3:s=e.sent,n({type:l.GET_MESSAGES,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},31:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return j})),a.d(t,"f",(function(){return b})),a.d(t,"g",(function(){return p})),a.d(t,"d",(function(){return m}));var n=a(4),c=a.n(n),r=a(8),s=a(9),o=a(3),i=function(e){var t=e.fullname,a=e.username,n=e.email,c=e.password,r=e.cf_password,s={};return t?t.length>25&&(s.fullname="Full name must be smaller than 25 characters."):s.fullname="Please add full name.",a?a.replace(/ /g,"").length>25&&(s.username="User name must be smaller than 25 characters."):s.username="Please add User name.",n||(s.email="Please add Email."),c?c.length<6&&(s.password="Password must be al least 6 characters long."):s.password="Please add Password.",c!==r&&(s.cf_password="Password does not match."),{errMsg:s,errLength:Object.keys(s).length}},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=4,Object(s.d)("login",e);case 4:n=t.sent,a({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),a({type:o.c.USER_TYPE,payload:n.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:n.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){var t=e.oldPassword,a=e.newPassword,n=e.cnfNewPassword,i=e.auth;return function(){var e=Object(r.a)(c.a.mark((function e(r){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&0!==t.length||r({type:o.c.ALERT,payload:{error:"Please enter your old  password."}}),a&&0!==a.length||r({type:o.c.ALERT,payload:{error:"Please enter your new  password."}}),n&&0!==n.length||r({type:o.c.ALERT,payload:{error:"Please confirm your new  password."}}),a!==n&&r({type:o.c.ALERT,payload:{error:"Your password does not match"}}),e.prev=4,r({type:o.c.ALERT,payload:{loading:!0}}),e.next=8,Object(s.d)("changePassword",{oldPassword:t,newPassword:a},i.token);case 8:l=e.sent,r({type:o.c.ALERT,payload:{loading:!1}}),r({type:o.c.ALERT,payload:{success:l.data.msg}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),r({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=4,Object(s.d)("admin_login",e);case 4:n=t.sent,a({type:o.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),a({type:o.c.USER_TYPE,payload:n.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:n.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("firstLogin")){e.next=15;break}return t({type:o.c.ALERT,payload:{loading:!0}}),e.prev=3,e.next=6,Object(s.d)("refresh_token");case 6:a=e.sent,t({type:o.c.AUTH,payload:{token:a.data.access_token,user:a.data.user}}),t({type:o.c.USER_TYPE,payload:a.data.user.role}),t({type:o.c.ALERT,payload:{}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.c.ALERT,payload:n.errMsg}));case 3:return t.prev=3,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=7,Object(s.d)("register",e);case 7:r=t.sent,a({type:o.c.AUTH,payload:{token:r.data.access_token,user:r.data.user}}),a({type:o.c.USER_TYPE,payload:r.data.user.role}),localStorage.setItem("firstLogin",!0),a({type:o.c.ALERT,payload:{success:r.data.msg}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:o.c.ALERT,payload:n.errMsg}));case 3:return t.prev=3,a({type:o.c.ALERT,payload:{loading:!0}}),t.next=7,Object(s.d)("register_admin",e);case 7:r=t.sent,a({type:o.c.ALERT,payload:{success:r.data.msg}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),a({type:o.c.ALERT,payload:{error:t.t0.response.data.msg}});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("firstLogin"),e.next=4,Object(s.d)("logout");case 4:window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},33:function(e,t,a){"use strict";a(1);var n=a(24),c=a(12),r=a(0);t.a=function(e){var t=e.children,a=e.user,s=e.border,o=e.handleClose,i=e.setShowFollowers,l=e.setShowFollowing,u=e.msg;return Object(r.jsxs)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center ".concat(s),children:[Object(r.jsx)("div",{children:Object(r.jsxs)(c.b,{to:"/profile/".concat(a._id),onClick:function(){o&&o(),i&&i(!1),l&&l(!1)},className:"d-flex align-items-center",style:{textDecoration:"none"},children:[Object(r.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(r.jsx)(n.a,{src:a.avatar,size:"big-avatar"})}),Object(r.jsxs)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:[Object(r.jsx)("span",{className:"d-block color-c2",children:a.username}),Object(r.jsx)("small",{className:"d-flex text-muted",style:{flexWrap:"wrap"},children:u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:a.text}),a.media.length>0&&Object(r.jsxs)("div",{children:[a.media.length," ",Object(r.jsx)("i",{className:"fas fa-image"})]})]}):a.fullname})]})]})}),t]})}},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r}));var n=a(0),c=function(e,t){return Object(n.jsx)("img",{src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})},r=function(e,t){return Object(n.jsx)("video",{controls:!0,src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})}},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(4),c=a.n(n),r=a(116),s=a(8),o=function(e){var t="";return e?e.size>1048576?"File size must be less than 1 Mb.":"image/jpeg"!==e.type&&"image/png"!==e.type?"Image must be jpeg or png.":t:"File does not exist."},i=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n,s,o,i,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(r.a)(t),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=19;break}return o=s.value,i=new FormData,o.camera?i.append("file",o.camera):i.append("file",o),i.append("upload_preset","ADD VALUE HERE"),i.append("cloud_name","ADD VALUE HERE"),e.next=12,fetch("ADD CLOUDINARY IMAGE UPLOAD LINK HERE",{method:"POST",body:i});case 12:return l=e.sent,e.next=15,l.json();case 15:u=e.sent,a.push({public_id:u.public_id,url:u.secure_url});case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},47:function(e,t,a){"use strict";var n=a(4),c=a.n(n),r=a(8),s=a(7),o=a(1),i=a(6),l=a(26),u=a(0);t.a=function(e){var t=e.user,a=Object(o.useState)(!1),n=Object(s.a)(a,2),d=n[0],j=n[1],b=Object(i.c)((function(e){return e})),p=b.auth,m=b.profile,O=b.socket,f=Object(i.b)(),h=Object(o.useState)(!1),x=Object(s.a)(h,2),v=x[0],y=x[1];Object(o.useEffect)((function(){return p.user.following.find((function(e){return e._id===t._id}))&&j(!0),function(){return j(!1)}}),[p.user.following,t._id]);var g=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return j(!0),y(!0),e.next=6,f(Object(l.b)({users:m.users,user:t,auth:p,socket:O}));case 6:y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return j(!1),y(!0),e.next=6,f(Object(l.d)({users:m.users,user:t,auth:p,socket:O}));case 6:y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:d?Object(u.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:_,children:"Unfollow"}):Object(u.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:g,children:"Follow"})})}},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(4),c=a.n(n),r=a(8),s=a(3),o=a(9),i={LOADING:"LOADING_SUGGESTIONS",GET_USERS:"GET_USERS_SUGGESTIONS"},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.LOADING,payload:!0}),t.next=4,Object(o.b)("suggestionsUser",e);case 4:n=t.sent,a({type:i.GET_USERS,payload:n.data}),a({type:i.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},51:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(e){var t=e.result,a=e.page,c=e.load,r=e.handleLoadMore;return Object(n.jsx)(n.Fragment,{children:t<9*(a-1)?"":!c&&Object(n.jsx)("button",{className:"btn  btn-outline-info color-c1 mx-auto d-block",onClick:r,children:"Load more."})})}},53:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(4),c=a.n(n),r=a(8),s=a(3),o=a(9),i={LOADING:"LOADING_DISCOVER",GET_POSTS:"GET_DISCOVER_POSTS",UPDATE_POSTS:"UPDATE_DISCOVER_POSTS"},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.LOADING,payload:!0}),t.next=4,Object(o.b)("post_discover",e);case 4:n=t.sent,a({type:i.GET_POSTS,payload:n.data}),a({type:i.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},56:function(e,t,a){"use strict";a(1);var n=a(12),c=a(6),r=(a(36),a(0));t.a=function(e){var t=e.posts,a=e.result,s=Object(c.c)((function(e){return e})).theme;if(0===a)return Object(r.jsx)("h2",{className:"text-center color-c1",children:"No Post"});var o=function(e){return Object(r.jsx)("img",{src:e,alt:e,style:{filter:s?"invert(1)":"invert(0)"}})};return Object(r.jsx)("div",{className:"post_thumb",children:t&&t.map((function(e){return Object(r.jsx)(n.b,{to:"/post/".concat(e._id),children:Object(r.jsxs)("div",{className:"post_thumb_display",children:[e.images[0].url.match(/video/i)?(t=e.images[0].url,Object(r.jsx)("video",{controls:!0,src:t,alt:t,style:{filter:s?"invert(1)":"invert(0)"}})):o(e.images[0].url),Object(r.jsxs)("div",{className:"post_thumb_menu",children:[Object(r.jsx)("i",{className:"far fa-thumbs-up",children:e.likes.length}),Object(r.jsx)("i",{className:"far fa-comments",children:e.comments.length})]})]})},e._id);var t}))})}},57:function(e,t,a){"use strict";a(1),a(183);var n=a(120),c=a(0);t.a=function(e){var t=e.setContent,a=e.content,r=e.theme;return Object(c.jsxs)("div",{className:"nav-item dropdown",style:{opacity:"1",zIndex:"10",filter:r?"invert(1)":"invert(0)"},children:[Object(c.jsx)("span",{className:"nav-link position-relative px-1",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(c.jsx)("span",{children:"\ud83d\ude0f"})}),Object(c.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(c.jsx)(n.a,{theme:r?"dark":"light",showSkinTones:"true",showPreview:"false",onSelect:function(e){return t(a+e.native)},i18n:{search:"Search",clear:"Clear",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",smileys:"Smileys & Emotion",people:"People & Body",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}})})]})}},62:function(e,t,a){"use strict";a.r(t);var n=a(45),c=a(2),r=a(7),s=a(1),o=a(16),i=a(12),l=a(31),u=a(6),d=a(0);t.default=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(r.a)(e,2),a=t[0],j=t[1],b=Object(s.useState)(!1),p=Object(r.a)(b,2),m=p[0],O=p[1],f=a.email,h=a.password,x=Object(s.useState)(!1),v=Object(r.a)(x,2),y=v[0],g=v[1],_=Object(u.c)((function(e){return e})).auth,N=Object(u.b)(),w=Object(o.f)();Object(s.useEffect)((function(){_.token&&w.push("/")}),[_.token,w]);var T=function(e){var t=e.target,r=t.name,s=t.value;j(Object(c.a)(Object(c.a)({},a),{},Object(n.a)({},r,s)))};return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(m?Object(l.a)(a):Object(l.c)(a))},className:"inner-shadow",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading ",children:"Campus Connect"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"email",className:"form-control ",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:T,value:f,name:"email"})}),Object(d.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:y?"text":"password",className:"form-control",id:"exampleInputPassword1",onChange:T,value:h,name:"password"}),Object(d.jsx)("small",{onClick:function(){return g(!y)},children:y?"Hide":"Show"})]})})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-4",children:[Object(d.jsxs)("label",{htmlFor:"User",children:["User:",Object(d.jsx)("input",{type:"radio",id:"User",name:"gender",value:m,defaultChecked:!0,onClick:function(){return O(!1)}})]}),Object(d.jsxs)("label",{htmlFor:"Admin",children:["Admin:",Object(d.jsx)("input",{type:"radio",id:"Admin",name:"gender",value:m,onClick:function(){return O(!0)}})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",disabled:!f||!h,children:"Login"}),Object(d.jsxs)("p",{className:"my-2",children:["Don't have an account?"," ",Object(d.jsx)(i.b,{to:"/register",style:{color:"crimson"},children:"Register Now."})]})]})})}},67:function(e,t,a){"use strict";a.r(t);a(1);var n=a(73),c=a(0);t.default=function(){return Object(c.jsxs)("div",{className:"message d-flex",children:[Object(c.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(c.jsx)(n.a,{})}),Object(c.jsx)("div",{className:"col-md-8 px-0",children:Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(c.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(c.jsx)("h4",{children:"Messenger"})]})})]})}},70:function(e,t,a){"use strict";a.r(t);var n=a(45),c=a(2),r=a(7),s=a(1),o=a(6),i=a(16),l=a(12),u=a(31),d=a(0);t.default=function(){var e=Object(o.c)((function(e){return e})),t=e.auth,a=e.alert,j=Object(o.b)(),b=Object(i.f)(),p=Object(s.useState)({fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"}),m=Object(r.a)(p,2),O=m[0],f=m[1],h=O.fullname,x=O.username,v=O.email,y=O.password,g=O.cf_password,_=Object(s.useState)(!1),N=Object(r.a)(_,2),w=N[0],T=N[1],k=Object(s.useState)(!1),E=Object(r.a)(k,2),S=E[0],A=E[1];Object(s.useEffect)((function(){t.token&&b.push("/")}),[t.token,b]);var L=function(e){var t=e.target,a=t.name,r=t.value;f(Object(c.a)(Object(c.a)({},O),{},Object(n.a)({},a,r)))};return Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(Object(u.f)(O))},className:"inner-shadow",children:[Object(d.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"Campus Connect"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:L,value:h,name:"fullname",style:{background:"".concat(a.fullname?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.fullname?a.fullname:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:L,value:x.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(a.username?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.username?a.username:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(d.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(d.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:L,value:v,name:"email",style:{background:"".concat(a.email?"#fd2d6a14":""," ")}})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.email?a.email:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:w?"text":"password",className:"form-control",id:"password",onChange:L,value:y,name:"password",style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){return T(!w)},children:w?"Hide":"Show"})]})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.password?a.password:""})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(d.jsx)("div",{className:"pass",children:Object(d.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(d.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",onChange:L,value:g,name:"cf_password",style:{background:"".concat(a.cf_password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){return A(!S)},children:S?"Hide":"Show"})]})}),Object(d.jsx)("small",{className:"form-text text-danger",children:a.cf_password?a.cf_password:""})]}),Object(d.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(d.jsxs)("label",{htmlFor:"male",children:["Male:",Object(d.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:L})]}),Object(d.jsxs)("label",{htmlFor:"female",children:["Female:",Object(d.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:L})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"}),Object(d.jsxs)("p",{className:"my-2",children:["Already have an account?"," ",Object(d.jsx)(l.b,{to:"/",style:{color:"crimson"},children:"Login Now."})]})]})})}},71:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(7),r=a(12),s=a(6),o=a(31),i=(a(179),a(81),a(17)),l=a(0),u=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.admin,c=e.socket,r=Object(s.b)();return Object(n.useEffect)((function(){r(Object(i.i)(t.token)),r(Object(i.g)(t.token)),r(Object(i.e)(t.token)),r(Object(i.f)(t.token)),r(Object(i.h)(t.token)),r(Object(i.d)({auth:t,socket:c}))}),[r,t.token,c,t]),Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",t.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})}),Object(l.jsxs)("div",{className:"main__cards",children:[Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-users fa-2x text-lightblue","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Users"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_users})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-comments fa-2x text-red","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Comments"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_comments})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-camera fa-2x text-yellow","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Posts"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_posts})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-ban fa-2x text-red","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Reported Posts"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_spam_posts})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-thumbs-up fa-2x text-green","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Likes"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_likes})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-check-circle fa-2x  text-green","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Active Users"}),Object(l.jsx)("span",{className:"font-bold text-title",children:a.total_active_users})]})]})]})]})})},d=a(45),j=a(2),b=a(16),p=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.alert,r=Object(s.b)(),i=Object(b.f)(),u={fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"},p=Object(n.useState)(u),m=Object(c.a)(p,2),O=m[0],f=m[1],h=O.fullname,x=O.username,v=O.email,y=O.password,g=O.cf_password,_=Object(n.useState)(!1),N=Object(c.a)(_,2),w=N[0],T=N[1],k=Object(n.useState)(!1),E=Object(c.a)(k,2),S=E[0],A=E[1];Object(n.useEffect)((function(){t.token&&i.push("/")}),[t.token,i]);var L=function(e){var t=e.target,a=t.name,n=t.value;f(Object(j.a)(Object(j.a)({},O),{},Object(d.a)({},a,n)))};return Object(l.jsx)("div",{className:"auth_page",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.role="admin",r(Object(o.g)(O)),f(u)},className:"inner-shadow",children:[Object(l.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"Campus Connect"}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:L,value:h,name:"fullname",style:{background:"".concat(a.fullname?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.fullname?a.fullname:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:L,value:x.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(a.username?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.username?a.username:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:L,value:v,name:"email",style:{background:"".concat(a.email?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.email?a.email:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(l.jsx)("div",{className:"pass",children:Object(l.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(l.jsx)("input",{type:w?"text":"password",className:"form-control",id:"password",onChange:L,value:y,name:"password",style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(l.jsx)("small",{onClick:function(){return T(!w)},children:w?"Hide":"Show"})]})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.password?a.password:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(l.jsx)("div",{className:"pass",children:Object(l.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(l.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",onChange:L,value:g,name:"cf_password",style:{background:"".concat(a.cf_password?"#fd2d6a14":""," ")}}),Object(l.jsx)("small",{onClick:function(){return A(!S)},children:S?"Hide":"Show"})]})}),Object(l.jsx)("small",{className:"form-text text-danger",children:a.cf_password?a.cf_password:""})]}),Object(l.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(l.jsxs)("label",{htmlFor:"male",children:["Male:",Object(l.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:L})]}),Object(l.jsxs)("label",{htmlFor:"female",children:["Female:",Object(l.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:L})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"})]})})},m=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Management"})]})}),Object(l.jsx)(p,{})]})})},O=(a(181),a(24)),f=a(50),h=a.n(f),x=function(e){var t=e.content,a=Object(s.c)((function(e){return e})),n=a.auth,c=a.socket,r=Object(s.b)();return Object(l.jsx)("div",{children:t.length>0?t.map((function(e){return Object(l.jsxs)("div",{className:"admin_content_display",children:[Object(l.jsxs)("span",{className:"spam_report",children:["Reports: ",e.reports.length]}),Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(O.a,{size:"big-avatar",src:e.user.avatar}),Object(l.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(l.jsx)("span",{className:"spam_username",children:e.user.username}),Object(l.jsx)("span",{className:"spam_email",children:e.user.email})]}),Object(l.jsxs)("span",{className:"spam_time text-muted",children:["~",h()(e.createdAt).fromNow()]})]}),Object(l.jsxs)("div",{className:"ms-auto d-flex flex-column ",style:{cursor:"pointer"},onClick:function(){return function(e){r(Object(i.b)({post:e,auth:n,socket:c}))}(e)},children:[Object(l.jsx)("span",{className:"material-icons",children:"delete"}),"Remove"]})]})})):Object(l.jsx)("h1",{children:"Nothing to display"})})},v=function(){var e=Object(s.c)((function(e){return e})),t=e.auth,a=e.admin,c=Object(s.b)();return Object(n.useEffect)((function(){c(Object(i.c)(t.token))}),[c,t.token]),Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",t.user.username]}),Object(l.jsx)("p",{children:"Spam Dashboard"})]})}),Object(l.jsx)("div",{className:"spam",children:Object(l.jsx)(x,{content:a.spam_posts})})]})})},y=function(){var e=Object(s.c)((function(e){return e})).auth;return Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsx)("div",{className:"main__container",children:Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})})})})},g=function(){var e=Object(s.b)(),t=Object(n.useState)(1),a=Object(c.a)(t,2),i=a[0],d=a[1];return Object(l.jsxs)(l.Fragment,{children:[1===i&&Object(l.jsx)(u,{}),2===i&&Object(l.jsx)(m,{}),3===i&&Object(l.jsx)(v,{}),4===i&&Object(l.jsx)(y,{}),Object(l.jsxs)("div",{className:"sidebar_responsive",id:"sidebar",children:[Object(l.jsxs)("div",{className:"sidebar__title",children:[Object(l.jsx)("div",{className:"sidebar__img",children:Object(l.jsx)("h1",{children:"Campus Connect"})}),Object(l.jsx)("i",{className:"fa fa-times",id:"sidebarIcon","aria-hidden":"true"})]}),Object(l.jsxs)("div",{className:"sidebar__menu",children:[Object(l.jsxs)("div",{className:"sidebar__link ".concat(1===i&&"active_menu_link"),onClick:function(){return d(1)},children:[Object(l.jsx)("i",{className:"fa fa-th"}),Object(l.jsx)("a",{href:"#",children:"Dashboard"})]}),Object(l.jsx)("h2",{children:"ADMIN CONTROL"}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(2===i&&"active_menu_link"),onClick:function(){return d(2)},children:[Object(l.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),Object(l.jsx)("a",{href:"#",children:"Admin Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(3===i&&"active_menu_link"),onClick:function(){return d(3)},children:[Object(l.jsx)("i",{className:"fa fa-ban"}),Object(l.jsx)("a",{href:"#",children:"Spams Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(4===i&&"active_menu_link"),onClick:function(){return d(4)},children:[Object(l.jsx)("i",{className:"fa fa-wrench"}),Object(l.jsx)("a",{href:"#",children:"Users Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link",children:[Object(l.jsx)("i",{className:"fa fa-archive"}),Object(l.jsx)("a",{href:"#",children:"xyz"})]}),Object(l.jsxs)("div",{className:"sidebar__link",children:[Object(l.jsx)("i",{className:"fa fa-handshake-o"}),Object(l.jsx)("a",{href:"#",children:"xyz"})]}),Object(l.jsxs)("div",{className:"sidebar__logout",children:[Object(l.jsx)("i",{className:"fa fa-power-off"}),Object(l.jsx)(r.b,{to:"/",onClick:function(){return e(Object(o.d)())},children:"Log out"})]})]})]})]})};t.default=function(){return Object(l.jsx)("div",{className:"container1",children:Object(l.jsx)(g,{})})}},72:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(6),r=a(4),s=a.n(r),o=a(2),i=a(8),l=a(7),u=a(74),d=a(20),j=a(51),b=a(9),p=a(10),m=a(0),O=function(){var e=Object(c.c)((function(e){return e})),t=e.homePosts,a=e.auth,r=e.theme,O=Object(c.b)(),f=Object(n.useState)(!1),h=Object(l.a)(f,2),x=h[0],v=h[1],y=function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Object(b.b)("posts?limit=".concat(9*t.page),a.token);case 3:n=e.sent,O({type:p.a.GET_POSTS,payload:Object(o.a)(Object(o.a)({},n.data),{},{page:t.page+1})}),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"posts",children:[t.posts.map((function(e){return Object(m.jsx)(u.a,{post:e,theme:r},e._id)})),x&&Object(m.jsx)("img",{src:d.a,alt:"Loading...",className:"d-block mx-auto"}),Object(m.jsx)(j.a,{result:t.result,page:t.page,load:x,handleLoadMore:y})]})},f=a(24),h=a(3),x=function(){var e=Object(c.c)((function(e){return e})).auth,t=Object(c.b)();return Object(m.jsxs)("div",{className:"status my-3 d-flex",children:[Object(m.jsx)("div",{className:"outer-shadow big-avatar-cover",children:Object(m.jsx)(f.a,{src:e.user.avatar,size:"big-avatar",className:""})}),Object(m.jsx)("button",{onClick:function(){return t({type:h.c.STATUS,payload:!0})},className:"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill ",style:{marginLeft:"7px"},children:Object(m.jsxs)("span",{style:{textShadow:"var(--outer-shadow)"},children:[e.user.username,", What's on your mind?"]})})]})},v=a(33),y=a(47),g=a(48),_=function(){var e=Object(c.c)((function(e){return e})),t=e.auth,a=e.suggestions,n=Object(c.b)();return Object(m.jsxs)("div",{className:"my-4",children:[Object(m.jsx)("div",{className:"inner-shadow",style:{borderRadius:"5px"},children:Object(m.jsx)(v.a,{user:t.user})}),Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-2",children:[Object(m.jsx)("h5",{className:"color-c1",style:{textShadow:"var(--outer-shadow)"},children:"Suggestions"}),!a.loading&&Object(m.jsx)("div",{className:"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center",children:Object(m.jsx)("i",{className:"fas fa-redo ",style:{cursor:"pointer"},onClick:function(){return n(Object(g.b)(t.token))}})})]}),a.loading?Object(m.jsx)("img",{src:d.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(m.jsx)("div",{className:"suggestions",children:a.users.map((function(e){return Object(m.jsx)("div",{className:" mb-3 inner-shadow",style:{borderRadius:"5px"},children:Object(m.jsx)(v.a,{user:e,children:Object(m.jsx)(y.a,{user:e},e._id)},e._id)},e._id)}))})]})};t.default=function(){var e=Object(c.c)((function(e){return e})).homePosts;return Object(m.jsxs)("div",{className:"home row mx-0",children:[Object(m.jsxs)("div",{className:"col-md-8",children:[Object(m.jsx)(x,{}),e.loading?Object(m.jsx)("img",{src:d.a,alt:"loading",className:"d-block mx-auto"}):0===e.result?Object(m.jsx)("h2",{className:"text-center",children:"No Post"}):Object(m.jsx)(O,{})]}),Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)(_,{})})]})}},73:function(e,t,a){"use strict";var n=a(4),c=a.n(n),r=a(8),s=a(7),o=a(1),i=a(6),l=a(16),u=a(3),d=a(30),j=a(9),b=a(33),p=a(0);t.a=function(){var e=Object(i.c)((function(e){return e})),t=e.auth,a=e.message,n=Object(i.b)(),m=Object(l.f)(),O=Object(l.h)().id,f=Object(o.useRef)(),h=Object(o.useState)(0),x=Object(s.a)(h,2),v=x[0],y=x[1],g=Object(o.useState)(""),_=Object(s.a)(g,2),N=_[0],w=_[1],T=Object(o.useState)([]),k=Object(s.a)(T,2),E=k[0],S=k[1],A=function(){var e=Object(r.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),N){e.next=3;break}return e.abrupt("return",S([]));case 3:return e.prev=3,e.next=6,Object(j.b)("search?username=".concat(N),t.token);case 6:r=e.sent,S(r.data.users),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n({type:u.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return w(""),S([]),n(Object(d.c)({user:e,message:a})),m.push("/message/".concat(e._id))},P=function(e){return O===e._id?"active":""};return Object(o.useEffect)((function(){a.firstLoad||n(Object(d.d)({auth:t}))}),[n,t,a.firstLoad]),Object(o.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&y((function(e){return e+1}))}),{threshold:.1}).observe(f.current)}),[y]),Object(o.useEffect)((function(){a.resultUsers>=9*(v-1)&&v>1&&n(Object(d.d)({auth:t,page:v}))}),[a.resultUsers,v,t,n]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("form",{className:"message_header",onSubmit:A,children:[Object(p.jsx)("input",{type:"text",value:N,onChange:function(e){return w(e.target.value)},placeholder:"search..."}),Object(p.jsx)("button",{style:{display:"none"},type:"submit",id:"search",children:"Search"})]}),Object(p.jsxs)("div",{className:"message_chat_list",children:[0!==E.length?Object(p.jsx)(p.Fragment,{children:E.map((function(e){return Object(p.jsx)("div",{className:"message_user ".concat(P(e)),onClick:function(){return L(e)},children:Object(p.jsx)(b.a,{user:e})},e._id)}))}):Object(p.jsx)(p.Fragment,{children:a.users.map((function(e){return Object(p.jsx)("div",{cclassName:"message_user ".concat(P(e)),onClick:function(){return L(e)},children:Object(p.jsx)(b.a,{user:e,msg:!0,children:Object(p.jsx)("i",{className:"fas fa-circle"})})},e._id)}))}),Object(p.jsx)("button",{style:{opacity:0},ref:f,children:"Load more.."})]})]})}},74:function(e,t,a){"use strict";var n=a(1),c=a(7),r=a(6),s=a(0),o=function(e){var t=e.images,a=e.id,n=Object(r.c)((function(e){return e})).theme,c=function(e){if(0===e)return"active"};return Object(s.jsxs)("div",{id:"image".concat(a),className:"carousel slide","data-bs-ride":"carousel",children:[Object(s.jsx)("div",{className:"carousel-indicators",children:t.map((function(e,t){return Object(s.jsx)("button",{type:"button","data-bs-target":"#image".concat(a),"data-bs-slide-to":t,className:c(t),"aria-current":"true"},t)}))}),Object(s.jsx)("div",{className:"carousel-inner",children:t.map((function(e,t){return Object(s.jsx)("div",{className:"carousel-item ".concat(c(t)),children:e.url.match(/video/i)?Object(s.jsx)("video",{controls:!0,style:{filter:n?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url}):Object(s.jsx)("img",{style:{filter:n?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url})},t)}))}),Object(s.jsxs)("button",{style:{width:"5%"},className:"carousel-control-prev",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(s.jsxs)("button",{style:{width:"5%"},className:"carousel-control-next",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})},i=function(e){var t=e.post,a=e.theme,r=Object(n.useState)(),i=Object(c.a)(r,2),l=i[0],u=i[1];return Object(s.jsxs)("div",{className:"card_body",children:[Object(s.jsxs)("div",{className:"card_body-content",style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111"},children:[Object(s.jsx)("span",{children:t.content.length<60?t.content:l?t.content+" ":t.content.slice(0,60)+"  ..."}),t.content.length>60&&Object(s.jsx)("span",{className:"readMore",onClick:function(){return u(!l)},children:l?"Hide Content":"Read More"})]}),t.images.length>0&&Object(s.jsx)(o,{images:t.images,id:t._id})]})},l=a(4),u=a.n(l),d=a(8),j=a(12),b=function(e){var t=e.isLike,a=e.handleLike,n=e.handleUnLike,c=Object(r.c)((function(e){return e})).theme;return Object(s.jsx)("div",{children:t?Object(s.jsx)("i",{className:"fas fa-thumbs-up text-info",style:{filter:c?"invert(1)":"invert(0)"},onClick:n}):Object(s.jsx)("i",{className:"far fa-thumbs-up",onClick:a})})},p=a(10),m=a(187),O=a(188),f=a(189),h=a(190),x=a(191),v=a(192),y=a(193),g=a(194),_=a(195),N=a(196),w=a(197),T=a(198),k=a(199),E=a(200),S=a(201),A=a(202),L=function(e){var t=e.url,a=e.theme,n=e.setIsShare;return Object(s.jsx)("div",{className:"share_modal",children:Object(s.jsxs)("div",{className:"share_modal-container",children:[Object(s.jsxs)("div",{className:"share_modal-header",children:[Object(s.jsx)("span",{children:"Share to..."}),Object(s.jsx)("span",{onClick:function(){return n(!1)},children:"\xd7"})]}),Object(s.jsxs)("div",{className:" share_modal-body",style:{filter:a?"invert(1)":"invert(0)"},children:[Object(s.jsx)(m.a,{url:t,children:Object(s.jsx)(O.a,{round:!0,size:32})}),Object(s.jsx)(f.a,{url:t,children:Object(s.jsx)(h.a,{round:!0,size:32})}),Object(s.jsx)(x.a,{url:t,children:Object(s.jsx)(v.a,{round:!0,size:32})}),Object(s.jsx)(y.a,{url:t,children:Object(s.jsx)(g.a,{round:!0,size:32})}),Object(s.jsx)(_.a,{url:t,children:Object(s.jsx)(N.a,{round:!0,size:32})}),Object(s.jsx)(w.a,{url:t,children:Object(s.jsx)(T.a,{round:!0,size:32})}),Object(s.jsx)(k.a,{url:t,children:Object(s.jsx)(E.a,{round:!0,size:32})}),Object(s.jsx)(S.a,{url:t,children:Object(s.jsx)(A.a,{round:!0,size:32})})]})]})})},P=function(e){var t=e.post,a=Object(n.useState)(!1),o=Object(c.a)(a,2),i=o[0],l=o[1],m=Object(n.useState)(!1),O=Object(c.a)(m,2),f=O[0],h=O[1],x=Object(n.useState)(!1),v=Object(c.a)(x,2),y=v[0],g=v[1],_=Object(n.useState)(!1),N=Object(c.a)(_,2),w=N[0],T=N[1],k=Object(n.useState)(!1),E=Object(c.a)(k,2),S=E[0],A=E[1],P=Object(r.b)(),C=Object(r.c)((function(e){return e})),R=C.auth,D=C.theme,I=C.socket;Object(n.useEffect)((function(){t.likes.find((function(e){return e._id===R.user._id}))?l(!0):l(!1)}),[t.likes,R.user._id]);var U=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,P(Object(p.f)({post:t,auth:R,socket:I}));case 5:g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,P(Object(p.i)({post:t,auth:R,socket:I}));case 5:g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return T(!0),e.next=5,P(Object(p.h)({post:t,auth:R}));case 5:T(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return T(!0),e.next=5,P(Object(p.j)({post:t,auth:R}));case 5:T(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){R.user.saved.find((function(e){return e===t._id}))?h(!0):h(!1)}),[t._id,R.user.saved]),Object(s.jsxs)("div",{className:"card_footer",children:[Object(s.jsxs)("div",{className:"card_icon_menu",children:[Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)(b,{isLike:i,handleLike:U,handleUnLike:G}),Object(s.jsx)(j.b,{to:"/post/".concat(t._id),className:"text-dark",children:Object(s.jsx)("i",{className:"far fa-comments"})}),Object(s.jsx)("i",{className:"fa fa-share",alt:"Send",onClick:function(){return A(!S)}})]}),f?Object(s.jsx)("i",{className:"fas text-info fa-bookmark",onClick:M}):Object(s.jsx)("i",{className:"far fa-bookmark",onClick:F})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(s.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.likes.length," likes"]}),Object(s.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.comments.length," comments"]})]}),S&&Object(s.jsx)(L,{url:"http://google.com",theme:D,setIsShare:A})]})},C=a(2),R=a(24),D=a(16),I=a(50),U=a.n(I),G=a(3),F=function(e){var t=e.post,a=Object(r.c)((function(e){return e})),n=a.auth,c=a.socket,o=Object(r.b)(),i=Object(D.f)();return Object(s.jsxs)("div",{className:"card_header",children:[Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("div",{className:"outer-shadow big-avatar-cover me-2",children:Object(s.jsx)(R.a,{src:t.user.avatar,size:"big-avatar"})}),Object(s.jsxs)("div",{className:"card_name",children:[Object(s.jsx)("h6",{className:"m-0",children:Object(s.jsx)(j.b,{className:"text-dark",to:"/profile/".concat(t.user._id),children:t.user.username})}),Object(s.jsx)("small",{className:"text-muted",children:U()(t.createdAt).fromNow()})]})]}),Object(s.jsxs)("div",{className:"nav-item dropdown",children:[Object(s.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_horiz"}),Object(s.jsxs)("div",{className:"dropdown-menu",children:[n.user._id===t.user._id&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){o({type:G.c.STATUS,payload:Object(C.a)(Object(C.a)({},t),{},{onEdit:!0})})},children:[Object(s.jsx)("span",{className:"material-icons text-info",children:" create"}),"Edit Post"]}),Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){if(window.confirm("Are you sure?"))return o(Object(p.c)({post:t,auth:n,socket:c})),i.push("/")},children:[Object(s.jsx)("span",{className:"material-icons text-red",children:" delete"}),"Delete Post"]})]}),Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){navigator.clipboard.writeText("".concat("http://localhost:3000","/post/").concat(t._id))},children:[Object(s.jsx)("span",{className:"material-icons text-primary",children:"content_copy"}),"Copy Link"]}),Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){o(Object(p.g)({post:t,auth:n}))},children:[Object(s.jsx)("span",{className:"material-icons text-yellow",children:"report_problem"}),"Report this post"]})]})]})]})},M=a(11),H=a(14),z=a(9),Y=function(e){var t=e.comment,a=e.post,n=e.auth;return function(){var e=Object(d.a)(u.a.mark((function e(c){var r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(C.a)(Object(C.a)({},t),{},{likes:[].concat(Object(M.a)(t.likes),[n.user])}),s=Object(G.b)(a.comments,t._id,r),o=Object(C.a)(Object(C.a)({},a),{},{comments:s}),c({type:p.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(z.c)("comment/".concat(t._id,"/like"),null,n.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:G.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},W=function(e){var t=e.comment,a=e.post,n=e.auth;return function(){var e=Object(d.a)(u.a.mark((function e(c){var r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(C.a)(Object(C.a)({},t),{},{likes:Object(G.a)(t.likes,n.user._id)}),s=Object(G.b)(a.comments,t._id,r),o=Object(C.a)(Object(C.a)({},a),{},{comments:s}),c({type:p.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(z.c)("comment/".concat(t._id,"/unlike"),null,n.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:G.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},V=function(e){var t=e.post,a=e.comment,n=e.setOnEdit,c=Object(r.c)((function(e){return e})),o=c.auth,i=c.socket,l=Object(r.b)(),j=function(){t.user._id!==o.user._id&&a.user._id!==o.user._id||l(function(e){var t=e.post,a=e.comment,n=e.auth,c=e.socket;return function(){var e=Object(d.a)(u.a.mark((function e(r){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[].concat(Object(M.a)(t.comments.filter((function(e){return e.reply===a._id}))),[a]),o=Object(C.a)(Object(C.a)({},t),{},{comments:t.comments.filter((function(e){return!s.find((function(t){return e._id===t._id}))}))}),r({type:p.a.UPDATE_POST,payload:o}),c.emit("deleteComment",o);try{s.forEach((function(e){Object(z.a)("comment/".concat(e._id),n.token);var a={id:e._id,text:e.reply?"mentioned you in a comment.":"commented on your post.",recipients:e.reply?[e.tag._id]:[t.user._id],url:"/post/".concat(t._id)};r(Object(H.f)({msg:a,auth:n,socket:c}))}))}catch(i){r({type:G.c.ALERT,payload:{error:i.response.data.msg}})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({post:t,auth:o,comment:a,socket:i}))},b=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){return n(!0)},children:[Object(s.jsx)("span",{className:"material-icons text-primary",children:"create"})," Edit"]}),Object(s.jsxs)("div",{className:"dropdown-item",onClick:j,children:[Object(s.jsx)("span",{className:"material-icons text-red",children:"delete_outline"})," Delete"]})]})};return Object(s.jsx)("div",{className:"menu",children:(t.user._id===o.user._id||a.user._id===o.user._id)&&Object(s.jsxs)("div",{className:"nav-item dropdown",children:[Object(s.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_vert"}),Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"moreLink",children:t.user._id===o.user._id?a.user._id===o.user._id?b():Object(s.jsxs)("div",{className:"dropdown-item",onClick:j,children:[Object(s.jsx)("span",{className:"material-icons",children:"delete_outline"})," Delete"]}):a.user._id===o.user._id&&b()})]})})},K=a(57),B=function(e){var t=e.children,a=e.post,o=e.onReply,i=e.setOnReply,l=Object(n.useState)(""),j=Object(c.a)(l,2),b=j[0],m=j[1],O=Object(r.c)((function(e){return e})),f=O.auth,h=O.socket,x=O.theme,v=Object(r.b)();return Object(s.jsxs)("form",{className:"card-footer comment_input",onSubmit:function(e){if(e.preventDefault(),!b.trim())return i?i(!1):void 0;m("");var t={content:b,likes:[],user:f.user,createdAt:(new Date).toISOString(),reply:o&&o.commentId,tag:o&&o.user};return v(function(e){var t=e.post,a=e.newComment,n=e.auth,c=e.socket;return function(){var e=Object(d.a)(u.a.mark((function e(r){var s,o,i,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(C.a)(Object(C.a)({},t),{},{comments:[].concat(Object(M.a)(t.comments),[a])}),r({type:p.a.UPDATE_POST,payload:s}),e.prev=2,o=Object(C.a)(Object(C.a)({},a),{},{postId:t._id,postUserId:t.user._id}),e.next=6,Object(z.d)("comment",o,n.token);case 6:i=e.sent,l=Object(C.a)(Object(C.a)({},i.data.newComment),{},{user:n.user}),d=Object(C.a)(Object(C.a)({},t),{},{comments:[].concat(Object(M.a)(t.comments),[l])}),r({type:p.a.UPDATE_POST,payload:d}),c.emit("createComment",d),j={id:i.data.newComment._id,text:a.reply?"mentioned you in a comment.":"commented on your post.",recipients:a.reply?[a.tag._id]:[t.user._id],url:"/post/".concat(t._id),content:a.reply?a.content:t.content,image:t.images[0].url},r(Object(H.b)({msg:j,auth:n,socket:c})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r({type:G.c.ALERT,payload:{error:e.t0.response.data.msg}});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()}({post:a,newComment:t,auth:f,socket:h})),i?i(!1):void 0},children:[t,Object(s.jsx)("input",{type:"text",placeholder:"Add comments...",value:b,onChange:function(e){return m(e.target.value)},style:{filter:x?"invert(1)":"invert(0)",color:x?"white":"#111",background:x?"rgb(0,0,0,0.3)":""}}),Object(s.jsx)(K.a,{setContent:m,content:b,theme:x}),Object(s.jsx)("button",{type:"submit",className:"postBtn",children:"Post"})]})},q=function(e){var t=e.children,a=e.comment,o=e.post,i=e.commentId,l=Object(r.c)((function(e){return e})),m=l.auth,O=l.theme,f=Object(r.b)(),h=Object(n.useState)(""),x=Object(c.a)(h,2),v=x[0],y=x[1],g=Object(n.useState)(!1),_=Object(c.a)(g,2),N=_[0],w=_[1],T=Object(n.useState)(!1),k=Object(c.a)(T,2),E=k[0],S=k[1],A=Object(n.useState)(!1),L=Object(c.a)(A,2),P=L[0],D=L[1],I=Object(n.useState)(!1),F=Object(c.a)(I,2),M=F[0],H=F[1],K=Object(n.useState)(!1),q=Object(c.a)(K,2),J=q[0],Q=q[1];Object(n.useEffect)((function(){y(a.content),S(!1),Q(!1),a.likes.find((function(e){return e._id===m.user._id}))&&S(!0)}),[a,m.user._id]);var X=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:return S(!0),D(!0),e.next=6,f(Y({comment:a,post:o,auth:m}));case 6:D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:return S(!1),D(!0),e.next=6,f(W({comment:a,post:o,auth:m}));case 6:D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$={opacity:a._id?1:.5,pointerEvents:a._id?"inherit":"none"};return Object(s.jsxs)("div",{className:"comment_card mt-2",style:$,children:[Object(s.jsxs)(j.b,{to:"/profile/".concat(a.user._id),className:"d-flex text-dark",children:[Object(s.jsx)(R.a,{src:a.user.avatar,size:"small-avatar"}),Object(s.jsx)("h6",{className:"mx-1",children:a.user.username})]}),Object(s.jsxs)("div",{className:"comment_content",children:[Object(s.jsxs)("div",{className:"flex-fill",style:{filter:O?"invert(1)":"invert(0)",color:O?"white":"#111"},children:[M?Object(s.jsx)("textarea",{rows:"5",value:v,onChange:function(e){return y(e.target.value)}}):Object(s.jsxs)("div",{children:[a.tag&&a.tag._id!==a.user._id&&Object(s.jsxs)(j.b,{to:"/profile/".concat(a.tag._id),style:{textDecoration:"none"},className:"me-1",children:["@",a.tag.username]}),Object(s.jsx)("span",{children:v.length<100?v:N?v+" ":v.slice(0,100)+"..."}),v.length>100&&Object(s.jsx)("span",{className:"readMore",onClick:function(){return w(!N)},children:N?"Hide ":"Read more"})]}),Object(s.jsxs)("div",{style:{cursor:"pointer"},children:[Object(s.jsx)("small",{className:"text-muted",style:{marginRight:"9px"},children:U()(a.createdAt).fromNow()}),Object(s.jsxs)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:[a.likes.length," likes"]}),M?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("small",{onClick:function(){a.content!==v?(f(function(e){var t=e.comment,a=e.post,n=e.content,c=e.auth;return function(){var e=Object(d.a)(u.a.mark((function e(r){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(G.b)(a.comments,t._id,Object(C.a)(Object(C.a)({},t),{},{content:n})),o=Object(C.a)(Object(C.a)({},a),{},{comments:s}),r({type:p.a.UPDATE_POST,payload:o}),e.prev=3,e.next=6,Object(z.c)("comment/".concat(t._id),{content:n},c.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r({type:G.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()}({comment:a,post:o,content:v,auth:m})),H(!1)):H(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"update"}),Object(s.jsx)("small",{onClick:function(){return H(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"cancel"})]}):Object(s.jsx)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",onClick:function(){if(J)return Q(!1);Q(Object(C.a)(Object(C.a)({},a),{},{commentId:i}))},children:J?"cancel":"reply"})]})]}),Object(s.jsxs)("div",{className:"d-flex align-items-center ",style:{cursor:"pointer"},children:[Object(s.jsx)(V,{post:o,comment:a,setOnEdit:H}),Object(s.jsx)(b,{isLike:E,handleLike:X,handleUnLike:Z})]})]}),J&&Object(s.jsx)(B,{post:o,onReply:J,setOnReply:Q,children:Object(s.jsxs)(j.b,{style:{textDecoration:"none"},className:"mr-1",to:"/profile/".concat(J.user._id),children:["@",J.user.username]})}),t]})},J=function(e){var t=e.comment,a=e.post,r=e.replyCm,o=Object(n.useState)([]),i=Object(c.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(1),j=Object(c.a)(d,2),b=j[0],p=j[1];return Object(n.useEffect)((function(){u(r.slice(r.length-b))}),[r,b]),Object(s.jsx)("div",{className:"comment_display",children:Object(s.jsx)(q,{post:a,comment:t,commentId:t._id,children:Object(s.jsxs)("div",{className:"ps-4",children:[l.map((function(e,n){return e.reply&&Object(s.jsx)(q,{comment:e,post:a,commentId:t._id},n)})),r.length-b>0?Object(s.jsx)("div",{onClick:function(){return p(b+10)},style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):r.length>1&&Object(s.jsx)("div",{onClick:function(){return p(1)},style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})})})},Q=function(e){var t=e.post,a=Object(n.useState)([]),r=Object(c.a)(a,2),o=r[0],i=r[1],l=Object(n.useState)([]),u=Object(c.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(2),p=Object(c.a)(b,2),m=p[0],O=p[1],f=Object(n.useState)([]),h=Object(c.a)(f,2),x=h[0],v=h[1];return Object(n.useEffect)((function(){var e=t.comments.filter((function(e){return!e.reply}));i(e),j(e.slice(e.length-m))}),[t.comments,m]),Object(n.useEffect)((function(){var e=t.comments.filter((function(e){return e.reply}));v(e)}),[t.comments]),Object(s.jsxs)("div",{className:"comments",children:[d.map((function(e,a){return Object(s.jsx)(J,{comment:e,post:t,replyCm:x.filter((function(t){return t.reply===e._id}))},a)})),o.length-m>0?Object(s.jsx)("div",{onClick:function(){return O(m+10)},className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):o.length>2&&Object(s.jsx)("div",{onClick:function(){return O(2)},className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})};t.a=function(e){var t=e.post,a=e.theme;return Object(s.jsxs)("div",{className:"card my-3 outer-shadow",children:[Object(s.jsx)(F,{post:t}),Object(s.jsx)(i,{post:t,theme:a}),Object(s.jsx)(P,{post:t}),Object(s.jsx)(Q,{post:t}),Object(s.jsx)(B,{post:t})]})}},81:function(e,t,a){},9:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(4),c=a.n(n),r=a(8),s=a(59),o=a.n(s),i=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/".concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/".concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}},[[185,1,2]]]);
//# sourceMappingURL=main.23bdbfbf.chunk.js.map