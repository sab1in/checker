{"version":3,"sources":["redux/actions/postAction.js","pages/discover.js","pages/post/[id].js","components/profile/EditProfile.js","components/profile/Following.js","components/profile/Followers.js","components/profile/ChangePassword.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","redux/actions/notifyAction.js","pages sync /^/.//.*$","redux/actions/adminAction.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/pristine-609.mp3","SocketClient.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/userTypeReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/adminReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/index.js","redux/store.js","index.js","images/loading.gif","components/Avatar.js","redux/actions/profileAction.js","redux/actions/globalTypes.js","redux/actions/messageAction.js","utils/valid.js","redux/actions/authAction.js","components/UserCard.js","utils/mediaShow.js","utils/imageUpload.js","components/FollowBtn.js","redux/actions/suggestionsAction.js","components/LoadMoreBtn.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/login.js","pages/message/index.js","pages/register.js","components/adminDashboard/main/Main.js","components/adminDashboard/adminManagement/RegisterAdmin.js","components/adminDashboard/adminManagement/AdminManagement.js","components/adminDashboard/ContentList.js","components/adminDashboard/spamManagement/Spam.js","components/adminDashboard/usersManagement/UsersManagement.js","components/adminDashboard/sidebar/Sidebar.js","pages/adminDashboard.js","components/home/Posts.js","components/home/Status.js","components/home/RightSideBar.js","pages/home.js","components/message/LeftSide.js","components/Carousel.js","components/home/post_card/CardBody.js","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","components/home/post_card/CardHeader.js","utils/config.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","utils/fetchData.js"],"names":["POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","UPDATE_POST","GET_POST","DELETE_POST","REPORT_POST","SAVE_POST","createPost","content","images","auth","socket","dispatch","a","media","type","GLOBALTYPES","ALERT","payload","loading","length","imageUpload","postDataAPI","token","res","data","newPost","user","msg","id","_id","text","recipients","followers","url","image","createNotify","error","response","getPosts","getDataAPI","page","updatePost","status","imgNewUrl","filter","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","emit","unLikePost","like","removeNotify","getPost","detailPost","every","deletePost","deleteDataAPI","reportPost","reportExist","reports","find","report","push","savePost","newUser","saved","AUTH","unSavePost","Discover","useSelector","state","discover","useDispatch","useState","load","setLoad","useEffect","firstLoad","getDiscoverPosts","handleLoadMore","DISCOVER_TYPES","UPDATE_POSTS","src","LoadIcon","alt","className","posts","result","Post","useParams","setPost","newArr","map","item","EditProfile","setOnEdit","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","SetAvatar","theme","handleInput","e","target","name","value","onClick","onSubmit","preventDefault","updateProfileUser","URL","createObjectURL","style","accept","onChange","file","files","err","checkImage","htmlFor","top","right","transform","cols","rows","Following","users","setShowFollowing","UserCard","FollowBtn","Followers","setShowFollowers","ChangePassword","setChangePassword","oldPassword","setOldPassword","newPassword","setNewPassword","cnfNewPassword","setCnfNewPassword","changePassword","Info","profile","onEdit","showFollowers","showFollowing","newData","MODAL","borderRadius","height","width","Avatar","size","username","following","email","textDecoration","href","rel","Posts","setPosts","setResult","setPage","forEach","PROFILE_TYPES","PostThumb","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","Profile","saveTab","setSaveTab","ids","getProfileUsers","MsgDisplay","index","maxWidth","maxHeight","match","videoShow","imageShow","Date","createdAt","toLocaleString","RightSide","message","setUser","setText","setData","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","sender","handleSubmit","trim","recipient","toISOString","addMessage","current","scrollIntoView","behaviour","block","MESSAGE_TYPES","GET_MESSAGES","messages","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","resultData","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","background","color","Icons","setContent","multiple","newMedia","disabled","Conversation","borderRight","LeftSide","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFICATIONS","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","ADMIN_TYPES","GET_TOTAL_USERS","GET_TOTAL_POSTS","GET_TOTAL_COMMENTS","GET_TOTAL_LIKES","GET_TOTAL_SPAM_POSTS","GET_TOTAL_ACTIVE_USERS","GET_SPAM_POSTS","LOADING_ADMIN","getTotalUsers","getTotalPosts","getTotalComments","getTotalLikes","getTotalSpamPosts","getSpamPosts","spamPosts","deleteSpamPost","getTotalActiveUsers","NotFound","minHeight","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","fill","x","y","Toast","handleShow","bgColor","minWidth","title","data-dismiss","border","fontSize","body","Alert","alert","NotifyModal","handleSound","sound","boxShadow","borderTopRightRadius","cursor","overflow","handleIsRead","slice","moment","fromNow","window","confirm","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","role","data-bs-toggle","aria-expanded","aria-labelledby","THEME","logout","Search","search","setSearch","setUsers","handleSearch","handleClose","toLowerCase","replace","Header","scrollTo","getSuggestions","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","video","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","audioRef","on","totalActiveUsers","off","Notification","onclick","open","ADD_MESSAGE","controls","audioTone","App","modal","userType","refreshToken","io","SOCKET","close","permission","requestPermission","exact","component","Home","Login","AdminDashboard","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","userTypeReducer","USER_TYPE","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","DeleteData","modalReducer","detailPostReducer","total_users","total_posts","total_comments","total_likes","total_active_users","total_spam_posts","spam_posts","discoverReducer","suggestionsReducer","SUGGEST_TYPES","GET_USERS","socketReducer","resultUsers","messageReducer","ADD_USER","GET_CONVERSATIONS","reverse","combineReducers","homePosts","admin","suggestions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","res1","follow","unfollow","addUser","getConversations","conversations","cv","valid","password","cf_password","errMsg","errLength","login","access_token","setItem","adminLogin","register","check","registerAdmin","removeItem","location","flexWrap","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","comments","showSkinTones","showPreview","onSelect","emoji","native","i18n","clear","notfound","skintext","categories","recent","smileys","people","nature","foods","activity","places","objects","symbols","flags","custom","categorieslabel","skintones","1","2","3","4","5","6","setUserType","typePass","setTypePass","history","useHistory","handleChangeInput","aria-describedby","defaultChecked","Message","typeCfPass","setTypeCfPass","Main","aria-hidden","RegisterAdmin","AdminManagement","ContentList","handleDeletePost","Spam","UsersManagement","Sidebar","adminMenu","setAdminMenu","PostCard","Status","marginLeft","textShadow","RightSideBar","searchUsers","setSearchUsers","handleAddUser","cclassName","Carousel","data-bs-ride","data-bs-target","data-bs-slide-to","aria-current","data-bs-slide","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","setIsShare","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","PinterestShareButton","PinterestIcon","RedditShareButton","RedditIcon","LinkedinShareButton","LineIcon","CardFooter","setIsLike","setSaved","loadLike","setLoadLike","saveLoad","setSaveLoad","isShare","handleSavePost","handleUnSavePost","padding","CardHeader","clipboard","writeText","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","tag","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","marginRight","fontWeight","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newReply","axios","get","headers","Authorization","patch","delete"],"mappings":"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","file":"static/js/main.23bdbfbf.chunk.js","sourcesContent":["import { GLOBALTYPES } from \"./globalTypes\";\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\nimport { imageUpload } from \"../../utils/imageUpload\";\nimport { createNotify, removeNotify } from \"./notifyAction\";\n\n\nexport const POST_TYPES = {\n  CREATE_POST: \"CREATE_POST\",\n  LOADING_POST: \"LOADING_POST\",\n  GET_POSTS: \"GET_POSTS\",\n  UPDATE_POST: \"UPDATE_POST\",\n  GET_POST: \"GET_POST\",\n  DELETE_POST: \"DELETE_POST\",\n  REPORT_POST: \"REPORT_POST\",\n  SAVE_POST: \"SAVE_POST\",\n};\n\nexport const createPost = ({content, images, auth, socket}) => async dispatch => {\n    let media = [];\n\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} });\n\n        if(images.length > 0){ media = await imageUpload(images)}\n\n        const res = await postDataAPI('posts', {content, images: media}, auth.token );\n\n        \n        dispatch({ type: POST_TYPES.CREATE_POST , payload: {...res.data.newPost, user: auth.user} });\n        \n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\n        \n\n        // todo notification\n        const msg = {\n          id: res.data.newPost._id,\n          text: \"Added a new post.\",\n          recipients: res.data.newPost.user.followers,\n          url: `/post/${res.data.newPost._id}`,\n          content, \n          image: media[0].url\n        };\n\n        dispatch(createNotify({msg, auth, socket}));\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {\n                error: err.response.data.msg\n            }\n        })\n    }\n}\n\n\nexport const getPosts = (token) => async dispatch => {\n    try {\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true  });\n        const res = await getDataAPI('posts', token);\n        dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: 2} });\n\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false });\n    } catch (err) {\n        dispatch({\n          type: GLOBALTYPES.ALERT,\n          payload: {\n            error: err.response.data.msg,\n          },\n        });\n    }\n}\n\n\nexport const updatePost = ({ content, images, auth, status }) => async (dispatch) => {\n  let media = [];\n    const imgNewUrl = images.filter(img => !img.url);\n    const imgOldUrl = images.filter(img => img.url);\n    if(status.content === content && imgNewUrl.length === 0 && imgOldUrl.length === status.images.length){\n        return;\n    }\n  try {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n    if (imgNewUrl.length > 0) {\n      media = await imageUpload(imgNewUrl);\n    }\n    const res = await patchDataAPI(\n      `post/${status._id}`,\n      { content, images: [...imgOldUrl, ...media] },\n      auth.token\n    );\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\n\nexport const likePost = ({ post, auth, socket }) => async (dispatch) => {\n  const newPost = {...post, likes: [...post.likes, auth.user]};\n\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\n  socket.emit(\"likePost\", newPost);\n  \n  try {\n    await patchDataAPI(`post/${post._id}/like`, null, auth.token);\n\n    // todo notification\n    const msg = {\n      id: auth.user._id,\n      text: \"Liked your post.\",\n      recipients: [post.user._id],\n      url: `/post/${post._id}`,\n      content: post.content,\n      image: post.images[0].url,\n    };\n\n    dispatch(createNotify({ msg, auth, socket }));\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\n\nexport const unLikePost = ({ post, auth, socket }) => async (dispatch) => {\n  const newPost = { ...post, likes: post.likes.filter(like => like._id !== auth.user._id) };\n\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\n  socket.emit(\"unLikePost\", newPost);\n\n  \n  try {\n    await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\n\n    // todo notification\n    const msg = {\n      id: auth.user._id,\n      text: \"Liked your post.\",\n      recipients: [post.user._id],\n      url: `/post/${post._id}`, \n    };\n\n    dispatch(removeNotify({ msg, auth, socket }));\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\n\nexport const getPost = ({ detailPost, id, auth }) => async (dispatch) => {\n  if(detailPost.every(post => post._id !== id )){\n    try {\n      const res = await getDataAPI(`post/${id}`, auth.token);\n      dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post})\n\n\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: {\n          error: err.response.data.msg,\n        },\n      });\n    }\n  }\n};\n\n\nexport const deletePost = ({ post, auth, socket }) => async (dispatch) => {\n  dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\n\n  try {\n    const res = await deleteDataAPI(`post/${post._id}`, auth.token);\n\n    // todo notification\n    const msg = {\n      id: post._id,\n      text: \"Added a new post.\",\n      recipients: res.data.newPost.user.followers,\n      url: `/post/${post._id}`,\n    };\n\n    dispatch(removeNotify({ msg, auth, socket }));\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\n\nexport const reportPost = ({ post, auth }) => async (dispatch) => {\n\n  const reportExist = post.reports.find(report => report === auth.user._id);\n\n  if (reportExist && reportExist.length > 0) {\n    return dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"You have already reported this post.\" },\n    });\n  }\n    const newPost = { ...post };\n    newPost.reports.push(auth.user._id);\n\n  dispatch({ type: POST_TYPES.REPORT_POST, payload: newPost });\n  \n\ntry {\n  const res = await patchDataAPI(`post/${post._id}/report`, null, auth.token);\n  dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n} catch (err) {\n  dispatch({\n    type: GLOBALTYPES.ALERT,\n    payload: {\n      error: err.response.data.msg,\n    },\n  });\n}\n};\n\nexport const savePost = ({ post, auth }) => async (dispatch) => {\n  const newUser = {...auth.user, saved: [...auth.user.saved, post._id] };\n\n  dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}});\n\n\n  try {\n    await patchDataAPI(`savePost/${post._id}`, null, auth.token);\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n\nexport const unSavePost = ({ post, auth }) => async (dispatch) => {\n  const newUser = { ...auth.user, saved: auth.user.saved.filter(id => id !== post._id) };\n\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\n\n  try {\n    await patchDataAPI(`unSavePost/${post._id}`, null, auth.token);\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: {\n        error: err.response.data.msg,\n      },\n    });\n  }\n};\n","import React, { useState, useEffect} from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDiscoverPosts, DISCOVER_TYPES } from \"../redux/actions/discoverAction\";\nimport LoadIcon from '../images/loading.gif';\nimport PostThumb from \"../components/PostThumb\";\nimport LoadMoreBtn from '../components/LoadMoreBtn';\nimport { getDataAPI } from '../utils/fetchData';\n\nconst Discover = () => {\n    const { auth, discover } = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    const [load, setLoad] = useState(false);\n\n    useEffect(() => {\n      if (!discover.firstLoad) {\n        dispatch(getDiscoverPosts(auth.token));\n      }\n    }, [dispatch, auth.token, discover.firstLoad]);\n\n    const handleLoadMore = async () => {\n        setLoad(true);\n        const res = await getDataAPI(`post_discover?num=${discover.page * 8}`, auth.token);\n        dispatch({ type: DISCOVER_TYPES.UPDATE_POSTS, payload: res.data });\n        setLoad(false);\n    };\n\n    return (\n      <div>\n        {discover.loading ? (\n          <img\n            src={LoadIcon}\n            alt=\"Loading...\"\n            className=\"d-block mx-auto my-4\"\n          />\n        ) : (\n            <PostThumb posts={discover.posts} result={discover.result} />\n          \n        )}\n\n        {load && (\n          <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\n        )}\n\n        {!discover.loading && (\n          <LoadMoreBtn\n            result={discover.result}\n            page={discover.page}\n            load={load}\n            handleLoadMore={handleLoadMore}\n          />\n        )}\n      </div>\n    );\n}\n\nexport default Discover;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPost } from '../../redux/actions/postAction';\nimport LoadIcon from '../../images/loading.gif';\nimport PostCard from \"../../components/PostCard\";\n\nconst Post = () => {\n    const { id } = useParams();\n    const [post, setPost] = useState([]);\n    const { auth, detailPost } = useSelector((state) => state);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      dispatch(getPost({ detailPost, id, auth }));\n      if (detailPost.length > 0) {\n        const newArr = detailPost.filter((post) => post._id === id);\n        setPost(newArr);\n      }\n    }, [detailPost, dispatch, id, auth]);\n\n    return (\n        <div className=\"posts\">\n            {\n                post.length === 0 &&\n                <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto my-4\" />\n            }\n\n            {\n                post.map(item => (\n                    <PostCard post={item} key={item._id} />\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Post;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\nimport { updateProfileUser } from \"../../redux/actions/profileAction\";\n\nimport { checkImage } from \"../../utils/imageUpload\";\n\nconst EditProfile = ({ setOnEdit }) => {\n  const initialState = {\n    fullname: \"\",\n    mobile: \"\",\n    address: \"\",\n    website: \"\",\n    story: \"\",\n    gender: \"\",\n  };\n  const [userData, setUserData] = useState(initialState);\n  const { fullname, mobile, address, website, story, gender } = userData;\n  const [avatar, SetAvatar] = useState(\"\");\n  const { auth, theme } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setUserData(auth.user);\n  }, [auth.user]);\n\n  const changeAvatar = (e) => {\n    const file = e.target.files[0];\n    const err = checkImage(file);\n    if (err) {\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\n    }\n    SetAvatar(file);\n  };\n\n  const handleInput = (e) => {\n    const { name, value } = e.target;\n    setUserData({ ...userData, [name]: value });\n  };\n\n  const handleSubmit = e => {\n      e.preventDefault();\n      dispatch(updateProfileUser( {userData, avatar, auth} ) );\n  };\n\n  return (\n    <div className=\"edit_profile\">\n      <button\n        className=\"btn btn-danger btn_close\"\n        onClick={() => setOnEdit(false)}\n      >\n        Close\n      </button>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"info_avatar\">\n          <img\n            alt=\"profile\"\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n          />\n          <span>\n            <i className=\"fas fa-camera\" />\n            <p>Change</p>\n            <input\n              type=\"file\"\n              name=\"file\"\n              id=\"file_up\"\n              accept=\"image/*\"\n              onChange={changeAvatar}\n            />\n          </span>\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"fullname\">Full Name</label>\n          <div className=\"position-relative\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"fullname\"\n              name=\"fullname\"\n              value={fullname}\n              onChange={handleInput}\n            />\n            <small\n              className=\"text-danger position-absolute\"\n              style={{\n                top: \"50%\",\n                right: \"5px\",\n                transform: \"translateY(-50%)\",\n              }}\n            >\n              {fullname.length}/25\n            </small>\n          </div>\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"mobile\">Mobile</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"mobile\"\n            name=\"mobile\"\n            value={mobile}\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"address\">Address</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"address\"\n            name=\"address\"\n            value={address}\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"website\">Website</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"website\"\n            name=\"website\"\n            value={website}\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form_group\">\n          <label htmlFor=\"story\">Story</label>\n\n          <textarea\n            cols=\"30\"\n            rows=\"4\"\n            type=\"text\"\n            className=\"form-control\"\n            id=\"story\"\n            name=\"story\"\n            value={story}\n            onChange={handleInput}\n          />\n\n          <small className=\"text-danger d-block text-right\">\n            {story.length}/200\n          </small>\n        </div>\n\n        <label htmlFor=\"gender\">Gender</label>\n        <div className=\"input-group-prepend px-0 mb-4\">\n          <select\n            className=\"custom-select text-capitalize\"\n            name=\"gender\"\n            id=\"gender\"\n            onChange={handleInput}\n            value={gender}\n          >\n            <option value=\"male\">Male</option>\n            <option value=\"female\">Female</option>\n          </select>\n        </div>\n        <button className=\"btn btn-info w-100\" type=\"submit\">\n          Save\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProfile;\n","import React from \"react\";\nimport UserCard from \"../UserCard\";\nimport FollowBtn from \"../FollowBtn\";\nimport { useSelector } from \"react-redux\";\n\nconst Following = ({ users, setShowFollowing }) => {\n  const { auth } = useSelector((state) => state);\n  return (\n    <div className=\"follow\">\n      <div className=\"follow_box\">\n        <h5 className=\"text-center follow_box-heading\">Following</h5>\n        <hr />\n        {users.map((user) => (\n          <UserCard\n            key={user._id}\n            setShowFollowing={setShowFollowing}\n            user={user}\n          >\n            {auth.user._id !== user._id && <FollowBtn user={user} />}\n          </UserCard>\n        ))}\n\n        <div className=\"close\" onClick={() => setShowFollowing(false)}>\n          &times;\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Following;\n","import React from \"react\";\nimport UserCard from \"../UserCard\";\nimport FollowBtn from \"../FollowBtn\";\nimport { useSelector } from \"react-redux\";\n\nconst Followers = ({ users, setShowFollowers }) => {\n  const { auth } = useSelector((state) => state);\n  return (\n    <div className=\"follow\">\n      <div className=\"follow_box\">\n        <h5 className=\"text-center follow_box-heading\">Followers</h5>\n        <hr />\n        {users.map((user) => (\n          <UserCard\n            key={user._id}\n            setShowFollowers={setShowFollowers}\n            user={user}\n          >\n            {auth.user._id !== user._id && <FollowBtn user={user} />}\n          </UserCard>\n        ))}\n\n        <div className=\"close\" onClick={() => setShowFollowers(false)}>\n          &times;\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Followers;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\nimport { changePassword } from \"../../redux/actions/authAction\";\n\nimport { checkImage } from \"../../utils/imageUpload\";\n\nconst ChangePassword = ({ setChangePassword }) => {\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [cnfNewPassword, setCnfNewPassword] = useState(\"\");\n  const { auth, theme } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n\n\n\n  const handleSubmit = e => {\n      e.preventDefault();\n      dispatch(changePassword( {oldPassword, newPassword, cnfNewPassword, auth} ) );\n  };\n\n  return (\n    <div className=\"edit_profile\">\n      <button\n        className=\"btn btn-danger btn_close\"\n        onClick={() => setChangePassword(false)}\n      >\n        Close\n      </button>\n\n      <form onSubmit={handleSubmit}>\n        \n        \n        <div className=\"form_group\">\n          <label htmlFor=\"oldPassword\">old password</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"oldPassword\"\n            name=\"oldPassword\"\n            value={oldPassword}\n            onChange={(e) => setOldPassword(e.target.value)}\n          />\n        </div>\n\n\n        <div className=\"form_group\">\n          <label htmlFor=\"newPassword\">new password</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"newPassword\"\n            name=\"newPassword\"\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n          />\n        </div>\n\n\n        <div className=\"form_group\">\n          <label htmlFor=\"cnfNewPassword\">confirm new password</label>\n\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"cnfNewPassword\"\n            name=\"cnfNewPassword\"\n            value={cnfNewPassword}\n            onChange={(e) => setCnfNewPassword(e.target.value)}\n          />\n        </div>\n\n        \n        <button className=\"btn btn-info w-100\" type=\"submit\">\n          update\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ChangePassword;\n","import React, { useState, useEffect} from 'react';\nimport Avatar from '../Avatar';\nimport EditProfile from './EditProfile';\nimport FollowBtn from '../FollowBtn';\nimport Following from './Following';\nimport Followers from './Followers';\nimport ChangePassword from './ChangePassword';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([]);\n    const [onEdit, setOnEdit] = useState(false);\n    const [changePassword, setChangePassword] = useState(false);\n\n    const [showFollowers, setShowFollowers] = useState(false);\n    const [showFollowing, setShowFollowing] = useState(false);\n\n    useEffect(() => {\n      if (id === auth.user._id) {\n          setUserData([auth.user]);\n      }else{\n        const newData = profile.users.filter(user => user._id === id);\n        setUserData(newData);\n      }\n    }, [id, auth, dispatch, profile.users]);\n\n    useEffect(() => {\n      if (showFollowers || showFollowing || onEdit) {\n        dispatch({ type: GLOBALTYPES.MODAL, payload: true });\n      } else {\n        dispatch({ type: GLOBALTYPES.MODAL, payload: false });\n      }\n    }, [showFollowers, showFollowing, onEdit, dispatch]);\n\n    return (\n      <div className=\"info\">\n        {userData.map((user) => (\n          <div key={user._id} className=\"info_container\">\n            <div\n              className=\"outer-shadow d-flex justify-content-center align-items-center\"\n              style={{ borderRadius: \"50%\", height: \"170px\", width: \"170px\" }}\n            >\n              <Avatar src={user.avatar} size=\"supper-avatar\" />\n            </div>\n\n            <div className=\"info_content\">\n              <div className=\"info_content_title\">\n                <h2>{user.username}</h2>\n                {user._id === auth.user._id ? (\n                  <button\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\n                    onClick={() => setOnEdit(true)}\n                  >\n                    Edit Profile\n                  </button>\n                ) : (\n                  <FollowBtn user={user} />\n                )}\n                {user._id === auth.user._id ? (\n                  <button\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\n                    onClick={() => setChangePassword(true)}\n                  >\n                    change password\n                  </button>\n                ) : (\n                  <FollowBtn user={user} />\n                )}\n              </div>\n\n              <div className=\"follow_btn\">\n                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                  {user.followers.length} Followers\n                </span>\n                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                  {user.following.length} Following\n                </span>\n              </div>\n\n              <h6>\n                {user.fullname}{\" \"}\n                <span className=\"color-violet\">{user.mobile}</span>\n              </h6>\n              <p className=\"m-0\">{user.address}</p>\n              <h6>{user.email}</h6>\n              <a\n                style={{ textDecoration: \"none\" }}\n                href={user.website}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {user.website}\n              </a>\n              <p>{user.story}</p>\n            </div>\n\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\n            {changePassword && <ChangePassword setChangePassword={setChangePassword} />}\n\n            {showFollowers && (\n              <Followers\n                users={user.followers}\n                setShowFollowers={setShowFollowers}\n              />\n            )}\n            {showFollowing && (\n              <Following\n                users={user.following}\n                setShowFollowing={setShowFollowing}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n    );\n}\n\nexport default Info\n","import React, { useState, useEffect } from \"react\";\nimport PostThumb from \"../PostThumb\";\nimport LoadIcon from \"../../images/loading.gif\";\nimport LoadMoreBtn from \"../LoadMoreBtn\";\nimport { getDataAPI } from \"../../utils/fetchData\";\nimport { PROFILE_TYPES } from \"../../redux/actions/profileAction\";\n\nconst Posts = ({ auth, profile, dispatch, id }) => {\n  const [posts, setPosts] = useState([]);\n  const [result, setResult] = useState(9);\n  const [page, setPage] = useState(0);\n  const [load, setLoad] = useState(false);\n\n  useEffect(() => {\n    profile.posts.forEach((data) => {\n      if (data._id === id) {\n        setPosts(data.posts);\n        setResult(data.result);\n        setPage(data.page);\n      }\n    });\n  }, [profile.posts, id]);\n\n  const handleLoadMore = async () => {\n    setLoad(true);\n    const res = await getDataAPI(\n      `user_posts/${id}?limit=${page * 9}`,\n      auth.token\n    );\n    const newData = { ...res.data, page: page + 1, _id: id };\n    dispatch({ type: PROFILE_TYPES.UPDATE_POST, payload: newData });\n    setLoad(false);\n  };\n  return (\n    <div>\n      <PostThumb posts={posts} result={result} />\n\n      {load && (\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\n      )}\n\n      <LoadMoreBtn\n        result={result}\n        page={page}\n        load={load}\n        handleLoadMore={handleLoadMore}\n      />\n    </div>\n  );\n};\n\nexport default Posts;\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Saved = ({ auth, dispatch }) => {\r\n  const [savePosts, setSavePosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(2);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoad(true);\r\n    getDataAPI(`getSavePosts`, auth.token)\r\n    .then(res => { \r\n        setSavePosts(res.data.savePosts) \r\n        setResult(res.data.result)\r\n        setLoad(false)\r\n    })  \r\n    .catch(err => {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    })\r\n\r\n    return () => setSavePosts([]);\r\n  }, [dispatch, auth.token]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token);\r\n    setSavePosts(res.data.savePosts);\r\n    setResult(res.data.result);\r\n    setPage(page + 1);\r\n    setLoad(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={savePosts} result={result} />\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saved;\r\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Info from '../../components/profile/Info';\nimport Posts from '../../components/profile/Posts';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport LoadIcon  from \"../../images/loading.gif\";\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\nimport Saved from '../../components/profile/Saved';\n\nconst Profile = () => {\n  const { profile, auth } = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const { id } = useParams();\n  const [saveTab, setSaveTab] = useState(false);\n\n  useEffect(() => {\n    if(profile.ids.every(item => item !== id )){\n      dispatch(getProfileUsers({ id, auth }));\n\n    }\n  }, [id, auth, dispatch, profile.ids]);\n\n    return (\n      <div className=\"profile\">\n        <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\n\n        {auth.user._id === id && (\n          <div className=\"profile_tab\">\n            <button\n              className={saveTab ? \"\" : \"active\"}\n              onClick={() => setSaveTab(false)}\n            >\n              posts\n            </button>\n            <button\n              className={saveTab ? \"active\" : \"\"}\n              onClick={() => setSaveTab(true)}\n            >\n              saved\n            </button>\n          </div>\n        )}\n\n        {profile.loading ? (\n          <img className=\"d-block mx-auto my-4\" src={LoadIcon} alt=\"Loading\" />\n        ) : (\n          <>\n            {\n              saveTab\n              ? <Saved auth={auth} dispatch={dispatch}  />\n              : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\n            }\n          </>\n        )}\n      </div>\n    );\n}\n\nexport default Profile;\n","import React from 'react';\r\nimport Avatar from '../Avatar';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'; \r\n\r\nconst MsgDisplay = ({user, msg, theme}) => {\r\n    return (\r\n      <>\r\n        <div className=\"chat_title\">\r\n          <Avatar src={user.avatar} size=\"small-avatar\" />\r\n          <span>{user.username}</span>\r\n        </div>\r\n        {msg.text && (\r\n          <div\r\n            className=\"chat_text\"\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          >\r\n            {msg.text}\r\n          </div>\r\n        )}\r\n\r\n        {msg.media &&\r\n          msg.media.map((item, index) => (\r\n            <div key={index} style={{maxWidth: '380px', maxHeight: '380px'}}>\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url, theme)\r\n                : imageShow(item.url, theme)}\r\n            </div>\r\n          ))}\r\n\r\n        <div className=\"chat_time\">\r\n          {new Date(msg.createdAt).toLocaleString()}\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default MsgDisplay\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport UserCard from \"../UserCard\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport MsgDisplay from './MsgDisplay';\r\nimport Icons from \"../Icons\";\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { addMessage, getMessages, MESSAGE_TYPES } from '../../redux/actions/messageAction';\r\nimport LoadIcon from '../../images/loading.gif';\r\n\r\nconst RightSide = () => {\r\n    const { auth, message, theme, socket } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    const [user, setUser] = useState([]);\r\n    const [text, setText] = useState('');\r\n    const [page, setPage] = useState(0);\r\n    const [data, setData] = useState([]);\r\n    const { id } = useParams();\r\n    const [media, setMedia] = useState([]);\r\n    const [loadMedia, setLoadMedia] = useState(false);\r\n\r\n    const refDisplay = useRef();\r\n    const pageEnd = useRef();\r\n\r\n    useEffect(() => {\r\n      const newData = message.data.filter(\r\n        (item) => item.sender === auth.user._id || item.sender === id\r\n      );\r\n      setData(newData);\r\n    }, [message.data, auth.user._id, id]);\r\n\r\n    useEffect(() => {\r\n      const newUser = message.users.find((user) => user._id === id);\r\n      if (newUser) {\r\n        setUser(newUser);\r\n      }\r\n    }, [message.users, id]);\r\n\r\n    const handleChangeMedia = (e) => {\r\n      const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newMedia = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) {\r\n        return (err = \"File does not exist.\");\r\n      }\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"Image size must be less than 5 mb.\");\r\n      }\r\n      return newMedia.push(file);\r\n    });\r\n    if (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    setMedia([...media, ...newMedia]);\r\n    };\r\n\r\n    const handleDeleteMedia = (index) => {\r\n      const newArr = [...media];\r\n      newArr.splice(index, 1);\r\n      setMedia(newArr);\r\n    };\r\n\r\n    const handleSubmit = async e => {\r\n      e.preventDefault();\r\n      if(!text.trim() && media.length === 0) return;\r\n      setText('');\r\n      setMedia([]);\r\n\r\n      setLoadMedia(true);\r\n\r\n      let newArr = [];\r\n      if(media.length > 0) newArr = await imageUpload(media);\r\n\r\n      const msg = {\r\n        sender: auth.user._id,\r\n        recipient: id,\r\n        text,\r\n        media: newArr,\r\n        createdAt: new Date().toISOString()\r\n      }\r\n      setLoadMedia(false);\r\n      await dispatch(addMessage({msg, auth, socket}));\r\n      if (refDisplay.current) {\r\n        refDisplay.current.scrollIntoView({\r\n          behaviour: \"smooth\",\r\n          block: \"end\",\r\n        });\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (id) {\r\n        const getMessagesData = async () => {\r\n\r\n          dispatch({type: MESSAGE_TYPES.GET_MESSAGES, payload: { messages: [] } });\r\n          \r\n          setPage(1);\r\n          await dispatch(getMessages({ auth, id }));\r\n          if(refDisplay.current){\r\n            refDisplay.current.scrollIntoView({behaviour: 'smooth', block: 'end'});\r\n          }\r\n        };\r\n\r\n        getMessagesData();\r\n      }\r\n    }, [id, dispatch, auth]);\r\n\r\n    // load more\r\n\r\n    useEffect(() => {\r\n      const observer = new IntersectionObserver(\r\n        (entries) => {\r\n          if (entries[0].isIntersecting) {\r\n            setPage((p) => p + 1);\r\n          }\r\n        },\r\n        {\r\n          threshold: 0.1,\r\n        }\r\n      );\r\n      observer.observe(pageEnd.current);\r\n    }, [setPage]);\r\n\r\n    useEffect(() => {\r\n      if (message.resultData >= (page - 1) * 9 && page > 1) {\r\n        dispatch(getMessages({ auth, id, page }));\r\n      }\r\n    }, [message.resultData, page, id, auth, dispatch]);\r\n\r\n    useEffect(() => {\r\n      if (refDisplay.current) {\r\n        refDisplay.current.scrollIntoView({\r\n          behaviour: \"smooth\",\r\n          block: \"end\",\r\n        });\r\n      }\r\n    }, [text])\r\n\r\n    return (\r\n      <>\r\n        <div className=\"message_header\">\r\n          {user.length !== 0 && (\r\n            <UserCard user={user}>\r\n              <i className=\"fas fa-trash text-danger\" />\r\n            </UserCard>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className=\"chat_container\"\r\n          style={{ height: media.length > 0 ? \"calc(100% - 180px)\" : \"\" }}\r\n        >\r\n          <div className=\"chat_display\" ref={refDisplay}>\r\n            <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>Load..</button>\r\n\r\n            {data.map((msg, index) => (\r\n              <div key={index}>\r\n                {msg.sender !== auth.user._id && (\r\n                  <div className=\"chat_row other_message\">\r\n                    <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                  </div>\r\n                )}\r\n                {msg.sender === auth.user._id && (\r\n                  <div className=\"chat_row you_message\">\r\n                    <MsgDisplay user={auth.user} msg={msg} theme={theme} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            {loadMedia && (\r\n              <div className=\"chat_row you_message\">\r\n                <img src={LoadIcon} alt=\"Loading...\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"show_media\"\r\n          style={{ display: media.length > 0 ? \"\" : \"none\" }}\r\n        >\r\n          {media.map((item, index) => (\r\n            <div key={index} id=\"file_media\">\r\n              {item.type.match(/video/i)\r\n                ? videoShow(URL.createObjectURL(item), theme)\r\n                : imageShow(URL.createObjectURL(item), theme)}\r\n              <span onClick={() => handleDeleteMedia(index)}>&times;</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <form className=\"chat_input\" onSubmit={handleSubmit}>\r\n          <input\r\n            placeholder=\"Type a message.\"\r\n            type=\"text\"\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" , background: theme ? '#040404' : '', color: theme ? 'white' : ''}}\r\n          />\r\n          <Icons setContent={setText} content={text} theme={theme} />\r\n          <div className=\"file_upload\">\r\n            <i className=\"fas fa-image color-c1\" />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file\"\r\n              multiple\r\n              accept=\"image/*,video/*\"\r\n              onChange={handleChangeMedia}\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={text || media.length > 0 ? false : true}\r\n            className=\"material-icons\"\r\n          >\r\n            near_me\r\n          </button>\r\n        </form>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default RightSide\r\n","import React from \"react\";\r\nimport LeftSide from \"../../components/message/LeftSide\";\r\nimport RightSide from \"../../components/message/RightSide\";\r\n\r\nconst Conversation = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 px-0\" style={{ borderRight: \"1px solid #ddd\" }}>\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0\">\r\n        <RightSide /> \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\n\r\nexport const NOTIFY_TYPES = {\r\n  GET_NOTIFIES: \"GET_NOTIFIES\",\r\n  CREATE_NOTIFY: \"CREATE_NOTIFY\",\r\n  REMOVE_NOTIFY: \"REMOVE_NOTIFY\",\r\n  UPDATE_NOTIFY: \"UPDATE_NOTIFY\",\r\n  UPDATE_SOUND: \"UPDATE_SOUND\",\r\n  DELETE_ALL_NOTIFICATIONS: \"DELETE_ALL_NOTIFICATIONS\",\r\n};\r\n\r\nexport const createNotify = ({msg, auth, socket }) => async (dispatch) => {\r\n\r\n    try {\r\n        const res = await postDataAPI(`notify`, msg, auth.token);\r\n        socket.emit('createNotify', {\r\n          ...res.data.notify,\r\n          user: {\r\n            username: auth.user.username,\r\n            avatar: auth.user.avatar,\r\n          }\r\n        });\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n};\r\n\r\nexport const removeNotify = ({ msg, auth, socket }) => async (dispatch) => {\r\n  try {\r\n    await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token);\r\n    socket.emit(\"removeNotify\", msg);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI('notifies', token);\r\n    \r\n    dispatch({type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies});\r\n    \r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\r\n\r\n  dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true} });\r\n\r\n  try {\r\n    await patchDataAPI(`isReadNotify/${msg._id}`,null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n  dispatch({ type: NOTIFY_TYPES.DELETE_ALL_NOTIFICATIONS, payload: [] });\r\n\r\n  try {\r\n    await deleteDataAPI(`deleteAllNotify`, token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","var map = {\n\t\"./adminDashboard\": 71,\n\t\"./adminDashboard.js\": 71,\n\t\"./discover\": 110,\n\t\"./discover.js\": 110,\n\t\"./home\": 72,\n\t\"./home.js\": 72,\n\t\"./login\": 62,\n\t\"./login.js\": 62,\n\t\"./message\": 67,\n\t\"./message/\": 67,\n\t\"./message/[id]\": 113,\n\t\"./message/[id].js\": 113,\n\t\"./message/index\": 67,\n\t\"./message/index.js\": 67,\n\t\"./post/[id]\": 111,\n\t\"./post/[id].js\": 111,\n\t\"./profile/[id]\": 112,\n\t\"./profile/[id].js\": 112,\n\t\"./register\": 70,\n\t\"./register.js\": 70\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 160;","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { getDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\nimport { createNotify } from \"./notifyAction\";\r\n\r\nexport const ADMIN_TYPES = {\r\n  GET_TOTAL_USERS: \"GET_TOTAL_USERS\",\r\n  GET_TOTAL_POSTS: \"GET_TOTAL_POSTS\",\r\n  GET_TOTAL_COMMENTS: \"GET_TOTAL_COMMENTS\",\r\n  GET_TOTAL_LIKES: \"GET_TOTAL_LIKES\",\r\n  GET_TOTAL_SPAM_POSTS: \"GET_TOTAL_SPAM_POSTS\",\r\n  GET_TOTAL_ACTIVE_USERS: \"GET_TOTAL_ACTIVE_USERS\",\r\n  GET_SPAM_POSTS: \"GET_SPAM_POSTS\",\r\n  LOADING_ADMIN: \"LOADING_ADMIN\",\r\n  DELETE_POST: \"DELETE_POST\",\r\n};\r\n\r\n\r\n\r\nexport const getTotalUsers = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_users\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_USERS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getTotalPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_posts\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getTotalComments = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_comments\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_COMMENTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getTotalLikes = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_likes\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_LIKES, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTotalSpamPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_spam_posts\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_SPAM_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSpamPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_spam_posts\", token);\r\n    \r\n    dispatch({ type: ADMIN_TYPES.GET_SPAM_POSTS, payload: res.data.spamPosts });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteSpamPost = ({ post, auth, socket }) => async (dispatch) => {\r\n  dispatch({ type: ADMIN_TYPES.DELETE_POST, payload: post });\r\n\r\n  try {\r\n    const res = await deleteDataAPI(\r\n      `delete_spam_posts/${post._id}`,\r\n      auth.token\r\n    );\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Your Post is deleted due to too many reports.\",\r\n      recipients: [post.user._id],\r\n      url: `/profile/${post.user._id}`,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTotalActiveUsers = ({auth, socket}) => async (dispatch) => {\r\n  try {\r\n    socket.emit('getActiveUsers', auth.user._id);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};","import React from 'react'\n\nconst NotFound = () => {\n    return (\n        <div className=\"position-relative\" style={{minHeight: \"calc(100vh - 70px)\"}}>\n            <h2 className=\"position-absolute text-secondary\" style={{top: '50%', left:'50%', transform: 'translate(-50%, -50%)'}}>\n                404 | Not Found.\n            </h2>\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport NotFound from \"../components/NotFound\";\n\nconst generatePage = (pageName) => {\n  const component = () => require(`../pages/${pageName}`).default;\n\n  try {\n    return React.createElement(component());\n  } catch (err) {\n    return <NotFound />;\n  }\n};\n\nconst PageRender = () => {\n  const { page, id } = useParams();\n  const { auth } = useSelector((state) => state);\n\n  let pageName = \"\";\n  if (auth.token) {\n    if (id) {\n      pageName = `${page}/[id]`;\n    } else {\n      pageName = `${page}`;\n    }\n  }\n\n  return generatePage(pageName);\n};\n\nexport default PageRender;\n","import React from 'react'\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst PrivateRouter = (props) => {\n    const firstLogin = localStorage.getItem('firstLogin');\n    return firstLogin ? <Route {...props} /> :  <Redirect to=\"/\" />\n}\n\nexport default PrivateRouter\n","//!its a component\nimport React from \"react\";\n\nconst Loading = () => {\n  return (\n    <div\n      style={{\n        background: \"white\",\n        top: 0,\n        left: 0,\n        zIndex: 50,\n        opacity: 0.7\n      }}\n      className=\"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center\"\n    >\n      <div className=\"loading\">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n\n      <text className=\"loading_text\" fill=\"#fff\" x=\"5\" y=\"47\">\n        Loading\n      </text>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React from 'react'\n\nconst Toast = ({ msg, handleShow, bgColor }) => {\n  return (\n    <div\n      className={`toast show position-fixed text-light ${bgColor} `}\n      style={{ top: \"5px\", right: \"5px\", minWidth: \"200px\", zIndex: 50 }}\n    >\n      <div className={`toast-header text-light ${bgColor}`}>\n        <strong className=\"mr-auto text-light\">{msg.title}</strong>\n        <button\n          className=\"ml-auto mb-1 close text-light\"\n          data-dismiss=\"toast\"\n          style={{\n            border: \"none\",\n            background: \"none\",\n            fontSize: \"30px\",\n            right: 0,\n          }}\n          onClick={handleShow}\n        >\n          &times;\n        </button>\n      </div>\n      <div className=\"toast-body\">{msg.body}</div>\n    </div>\n  );\n};\n\nexport default Toast\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loading from \"./Loading\";\nimport Toast from \"./Toast\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\n\nconst Alert = () => {\n  const { alert } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  return (\n    <div>\n      {alert.loading && <Loading />}\n\n      {alert.error && (\n        <Toast\n          msg={{ title: \"Error\", body: alert.error }}\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\n          bgColor=\"bg-danger\"\n        />\n      )}\n\n      {alert.success && (\n        <Toast\n          msg={{ title: \"Success\", body: alert.success }}\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\n          bgColor=\"bg-success\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Alert;\n","import React from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport moment from 'moment';\r\nimport { deleteAllNotifies, isReadNotify, NOTIFY_TYPES } from '../redux/actions/notifyAction';\r\n\r\nconst NotifyModal = () => {\r\n    const { auth, notify } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleIsRead = (msg) => {\r\n      dispatch(isReadNotify({msg, auth}));\r\n    };\r\n\r\n    const handleDeleteAll = () => {\r\n      const newArr = notify.data.filter(item => item.isRead === false)\r\n      if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\r\n\r\n      if(window.confirm(`You have ${newArr.length} unread notifications.Do you want to delete all notifications?`)){\r\n        return dispatch(deleteAllNotifies(auth.token))\r\n      }\r\n    };\r\n\r\n    const handleSound = () => {\r\n      dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound });\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className=\"mt-1\"\r\n        style={{\r\n          minWidth: \"280px\",\r\n          boxShadow: \"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)\",\r\n          background: \"white\",\r\n          borderRadius: \"10px\",\r\n          borderTopRightRadius: \"0\",\r\n        }}\r\n      >\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <h3>Notifications</h3>\r\n          {notify.sound ? (\r\n            <i\r\n              className=\"fas fa-bell text-danger\"\r\n              style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n              onClick={handleSound}\r\n            />\r\n          ) : (\r\n            <i\r\n              className=\"fas fa-bell-slash text-danger\"\r\n              style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n              onClick={handleSound}\r\n            />\r\n          )}\r\n        </div>\r\n        <hr className=\"mt-1\" />\r\n        {notify.data.length === 0 && (\r\n          <span className=\"text-muted w-100 text-center\">No Notifications</span>\r\n        )}\r\n        <div style={{ maxHeight: \"calc(100vh - 200px)\", overflow: \"auto\" }}>\r\n          {notify.data.map((msg, index) => (\r\n            <div className=\"px-2 mb-3\" key={index}>\r\n              <Link\r\n                to={`${msg.url}`}\r\n                style={{ textDecoration: \"none\" }}\r\n                className=\"d-flex text-dark align-items-center\"\r\n                onClick={() => handleIsRead(msg)}\r\n              >\r\n                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n                <div className=\"flex-fill mx-1\">\r\n                  <div>\r\n                    <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                    <span>{msg.text}</span>\r\n                  </div>\r\n                  {msg.content && <small>{msg.content.slice(0, 20)}...</small>}\r\n                </div>\r\n                <div style={{ width: \"30px\" }}>\r\n                  {msg.image && <Avatar src={msg.image} size=\"medium-avatar\" />}\r\n                </div>\r\n              </Link>\r\n              <small className=\"text-muted d-flex justify-content-between px-2\">\r\n                {moment(msg.createdAt).fromNow()}\r\n                {!msg.isRead && <i className=\"fas fa-circle color-c1\" />}\r\n              </small>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <hr className=\"my-1\" />\r\n        <div\r\n          className=\"text-end my-auto me-2 color-c1\"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={handleDeleteAll}\r\n        >\r\n          Delete\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default NotifyModal\r\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout } from \"../../redux/actions/authAction\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\nimport Avatar from \"../Avatar\";\nimport NotifyModal from \"../NotifyModal\";\n\nconst Menu = () => {\n  const navLinks = [\n    { label: \"Home\", icon: \"home\", path: \"/\" },\n    { label: \"Message\", icon: \"near_me\", path: \"/message\" },\n    { label: \"Discover\", icon: \"explore\", path: \"/discover\" },\n  ];\n\n  const { auth, theme, notify } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n\n  const isActive = (pn) => {\n    if (pn === pathname) return \"active\";\n  };\n\n  return (\n    <div className=\"menu\">\n      <ul className=\"navbar-nav flex-row mb-2 mb-lg-0\">\n        {navLinks.map((link, index) => (\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\n            <Link className={`nav-link `} to={link.path}>\n              <span className={`material-icons `}>{link.icon}</span>\n            </Link>\n          </li>\n        ))}\n\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\n          <span\n            className=\"nav-link position-relative\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            <span\n              style={{ color: notify.data.length > 0 ? \"var(--c1)\" : \"\" }}\n              className={`material-icons `}\n            >\n              notifications\n            </span>\n            <span className=\"notify_length\">{notify.data.length}</span>\n          </span>\n\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <NotifyModal />\n          </div>\n        </li>\n\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\n          <span\n            className=\"nav-link dropdown-toggle\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\n          </span>\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <li>\n              <Link\n                style={{ color: \"white\" }}\n                className=\"dropdown-item\"\n                to={`/profile/${auth.user._id}`}\n              >\n                Profile\n              </Link>\n            </li>\n            <li>\n              <label\n                style={{ color: \"white\" }}\n                htmlFor=\"theme\"\n                className=\"dropdown-item\"\n                onClick={() =>\n                  dispatch({ type: GLOBALTYPES.THEME, payload: !theme })\n                }\n              >\n                {theme ? \"Light mode\" : \"Dark mode\"}\n              </label>\n            </li>\n            <li>\n              <hr className=\"dropdown-divider\" />\n            </li>\n\n            <li>\n              <Link\n                style={{ color: \"white\" }}\n                className=\"dropdown-item\"\n                to=\"/\"\n                onClick={() => dispatch(logout())}\n              >\n                Logout\n              </Link>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Menu;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDataAPI } from \"../../utils/fetchData\";\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\n// import { Link } from \"react-router-dom\";\nimport UserCard from \"../UserCard\";\nimport LoadIcon from \"../../images/loading.gif\";\n\nconst Search = () => {\n  const [search, setSearch] = useState(\"\");\n  const [users, setUsers] = useState([]);\n\n  const { auth } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const [load, setLoad] = useState(false);\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n\n    if (!search) return;\n\n    try {\n      setLoad(true);\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\n      setUsers(res.data.users);\n      setLoad(false);\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\n  const handleClose = () => {\n    setSearch(\"\");\n    setUsers([]);\n  };\n\n  return (\n    <form className=\"search_form\" onSubmit={handleSearch}>\n      <input\n        type=\"text\"\n        title=\"Enter to Search\"\n        name=\"search\"\n        value={search}\n        id=\"search\"\n        onChange={(e) =>\n          setSearch(e.target.value.toLowerCase().replace(/ /g, \" \"))\n        }\n      />\n      <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.3 }}>\n        <span className=\"material-icons\">search</span>\n        <span>Enter to Search</span>\n      </div>\n\n      <div\n        onClick={handleClose}\n        className=\"close_search\"\n        style={{ opacity: users.length === 0 ? 0 : 1 }}\n      >\n        &times;\n      </div>\n\n      <button type=\"submit\" style={{ display: \"none\" }}>\n        Search\n      </button>\n\n      {load && <img className=\"loading\" src={LoadIcon} alt=\"Loading\" />}\n\n      <div className=\"users\">\n        {search &&\n          users.map((user) => (\n            <UserCard\n              key={user._id}\n              user={user}\n              border=\"border\"\n              handleClose={handleClose}\n            />\n          ))}\n      </div>\n    </form>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Menu from \"./Menu\";\nimport Search from \"./Search\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from '../../redux/actions/postAction';\nimport { getSuggestions } from '../../redux/actions/suggestionsAction';\n\n\nconst Header = () => {\n  const { auth } = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const handleRefreshHome = () => {\n    window.scrollTo({top: 0})\n    dispatch(getPosts(auth.token));\n    dispatch(getSuggestions(auth.token));\n  };\n\n  return (\n    <div className=\"header bg-light\">\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light justify-content-between\">\n        <div className=\"container-fluid\">\n          <Link to=\"/\" className=\"logo\" onClick={handleRefreshHome}>\n            <h1 className=\"navbar-brand text-uppercase p-0 m-0\">Campus Connect</h1>\n          </Link>\n\n          <Search />\n\n          <Menu />\n         \n        </div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { GLOBALTYPES } from \"../redux/actions/globalTypes\";\nimport { createPost, updatePost } from \"../redux/actions/postAction\";\nimport Icons from \"./Icons\";\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\n\nconst StatusModal = () => {\n  const { auth, theme, status, socket } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const [content, setContent] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [stream, setStream] = useState(false);\n  const videoRef = useRef();\n  const refCanvas = useRef();\n  const [tracks, setTracks] = useState(\"\");\n\n  const handleChangeImages = (e) => {\n    const files = [...e.target.files];\n    let err = \"\";\n    let newImages = [];\n\n    files.forEach((file) => {\n      if (!file) {\n        return (err = \"File does not exist.\");\n      }\n      if (file.size > 1024 * 1024 * 5) {\n        return (err = \"Image size must be less than 5 mb.\");\n      }\n      return newImages.push(file);\n    });\n    if (err) {\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\n    }\n    setImages([...images, ...newImages]);\n  };\n\n  const deleteImages = (index) => {\n    const newArr = [...images];\n    newArr.splice(index, 1);\n    setImages(newArr);\n  };\n\n  const handleStream = () => {\n    setStream(true);\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then((mediaStream) => {\n          videoRef.current.srcObject = mediaStream;\n          videoRef.current.play();\n          const track = mediaStream.getTracks();\n          setTracks(track[0]);\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleCapture = () => {\n    const width = videoRef.current.clientWidth;\n    const height = videoRef.current.clientHeight;\n\n    refCanvas.current.setAttribute(\"width\", width);\n    refCanvas.current.setAttribute(\"height\", height);\n\n    const ctx = refCanvas.current.getContext(\"2d\");\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\n\n    let URL = refCanvas.current.toDataURL();\n    setImages([...images, { camera: URL }]);\n  };\n\n  const handleStopStream = () => {\n    tracks.stop();\n    setStream(false);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (images.length === 0) {\n      return dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: \"Add image(s).\" },\n      });\n    }\n\n    if (status.onEdit) {\n      dispatch(updatePost({ content, images, auth, status }));\n    } else {\n      dispatch(createPost({ content, images, auth, socket }));\n    }\n\n    setContent(\"\");\n    setImages([]);\n    if (tracks) {\n      tracks.stop();\n    }\n    dispatch({\n      type: GLOBALTYPES.STATUS,\n      payload: false,\n    });\n  };\n\n  useEffect(() => {\n    if (status.onEdit) {\n      setContent(status.content);\n      setImages(status.images);\n    }\n  }, [status]);\n\n  \n\n  return (\n    <div className=\"status_modal\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"status_header\">\n          <h5 className=\"m-0\">Create Post</h5>\n          <span\n            onClick={() =>\n              dispatch({ type: GLOBALTYPES.STATUS, payload: false })\n            }\n          >\n            &times;\n          </span>\n        </div>\n        <div className=\"status_body\">\n          <textarea\n            onChange={(e) => setContent(e.target.value)}\n            value={content}\n            name=\"content\"\n            placeholder={`${auth.user.username}, What's on your mind?`}\n            style={{\n              filter: theme ? \"invert(1)\" : \"invert(0)\",\n              color: theme ? \"white\" : \"#111\",\n              background: theme ? \"rgb(0,0,0,0.3)\" : \"\",\n            }}\n          />\n\n          <div className=\"d-flex\">\n            <div className=\"flex-fill\"></div>\n            <Icons setContent={setContent} content={content} theme={theme} />\n          </div>\n\n          <div className=\"show_images\">\n            {images.map((img, index) => (\n              <div key={index} className=\"file_img\">\n                {img.camera ? (\n                  imageShow(img.camera, theme)\n                ) : img.url ? (\n                  <>\n                    {img.url.match(/video/i)\n                      ? videoShow(img.url)\n                      : imageShow(img.url)}\n                  </>\n                ) : (\n                  <>\n                    {img.type.match(/video/i)\n                      ? videoShow(URL.createObjectURL(img, theme))\n                      : imageShow(URL.createObjectURL(img, theme))}\n                  </>\n                )}\n                <span onClick={() => deleteImages(index)}>&times;</span>\n              </div>\n            ))}\n          </div>\n\n          {stream && (\n            <div className=\"stream position-relative\">\n              <video\n                width=\"100%\"\n                height=\"100%\"\n                ref={videoRef}\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n                autoPlay\n                muted\n              />\n\n              <span onClick={handleStopStream}>&times;</span>\n              <canvas style={{ display: \"none\" }} ref={refCanvas} />\n            </div>\n          )}\n\n          <div className=\"input_images\">\n            {stream ? (\n              <i className=\"fas fa-camera\" onClick={handleCapture} />\n            ) : (\n              <>\n                <i className=\"fas fa-camera\" onClick={handleStream} />\n                <div className=\"file_upload\">\n                  <i className=\"fas fa-image\" />\n                  <input\n                    onChange={handleChangeImages}\n                    type=\"file\"\n                    name=\"file\"\n                    id=\"file\"\n                    multiple\n                    accept=\"image/*,video/*\"\n                  />\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"status_footer\">\n          <button type=\"submit\" className=\"btn btn-primary w-100\">\n            Post\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default StatusModal;\n","export default __webpack_public_path__ + \"static/media/pristine-609.9287f5ce.mp3\";","import React, { useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { POST_TYPES } from \"./redux/actions/postAction\";\r\nimport { ADMIN_TYPES } from \"./redux/actions/adminAction\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport { NOTIFY_TYPES } from \"./redux/actions/notifyAction\";\r\nimport { MESSAGE_TYPES } from \"./redux/actions/messageAction\";\r\n\r\nimport audioTone from './audio/pristine-609.mp3' \r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n  let options = {\r\n    body, icon\r\n  }\r\n  let n = new Notification(title, options);\r\n  n.onclick =  e => {\r\n    e.preventDefault();\r\n    window.open(url, '_blank');\r\n  }\r\n}\r\n\r\nconst SocketClient = () => {\r\n  const { auth, socket, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const audioRef = useRef();\r\n\r\n  //!connection\r\n  useEffect(() => {\r\n    if (auth.user.role === \"user\") {\r\n      socket.emit(\"joinUser\", auth.user._id);\r\n    } else if (auth.user.role === \"admin\") {\r\n      socket.emit(\"joinAdmin\", auth.user._id);\r\n    }\r\n  }, [socket, auth.user.role, auth.user._id]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"getActiveUsersToClient\", (totalActiveUsers) => {\r\n      dispatch({\r\n        type: ADMIN_TYPES.GET_TOTAL_ACTIVE_USERS,\r\n        payload: totalActiveUsers,\r\n      });\r\n    });\r\n    return () => socket.off(\"getActiveUsersToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!like Post\r\n  useEffect(() => {\r\n    socket.on(\"likeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"likeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Unlike Post\r\n  useEffect(() => {\r\n    socket.on(\"unLikeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"unLikeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Comments\r\n  useEffect(() => {\r\n    socket.on(\"createCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"createCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"deleteCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"deleteCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Follow\r\n  useEffect(() => {\r\n    socket.on(\"followToClient\", (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n    return () => socket.off(\"followToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"unFollowToClient\", (newUser) => {\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: { ...auth, user: newUser },\r\n      });\r\n    });\r\n    return () => socket.off(\"unFollowToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  //!Notifications\r\n  useEffect(() => {\r\n    socket.on(\"createNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg });\r\n\r\n      if (notify.sound) {\r\n        audioRef.current.play();\r\n      }\r\n      spawnNotification(\r\n        msg.user.username + \" \" + msg.text,\r\n        msg.user.avatar,\r\n        msg.url,\r\n        \"CAMPUS CONNECT\"\r\n      );\r\n    });\r\n    return () => socket.off(\"createNotifyToClient\");\r\n  }, [socket, dispatch, notify.sound]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"removeNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg });\r\n    });\r\n    return () => socket.off(\"removeNotifyToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Messages\r\n  useEffect(() => {\r\n    socket.on(\"addMessageToClient\", (msg) => {\r\n      dispatch({ type: MESSAGE_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n    });\r\n    return () => socket.off(\"addMessageToClient\");\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <audio controls ref={audioRef} style={{ display: \"none\" }}>\r\n        <source src={audioTone} type=\"audio/mp3\" />\r\n      </audio>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocketClient;\r\n","import { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport io from 'socket.io-client'\n\nimport PageRender from \"./customRouter/PageRender\";\nimport PrivateRouter from \"./customRouter/PrivateRouter\";\nimport Login from \"./pages/login\";\nimport Register from \"./pages/register\";\nimport Home from \"./pages/home\";\nimport Alert from \"./components/alert/Alert\";\nimport Header from \"./components/header/Header\";\nimport StatusModal from \"./components/StatusModal\";\nimport { refreshToken } from \"./redux/actions/authAction\";\nimport { getPosts } from \"./redux/actions/postAction\";\nimport { getSuggestions } from \"./redux/actions/suggestionsAction\";\nimport { getNotifies } from \"./redux/actions/notifyAction\";\n\nimport AdminDashboard from \"./pages/adminDashboard\";\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\nimport SocketClient from \"./SocketClient\";\n\nfunction App() {\n  const { auth, status, modal, userType } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(refreshToken());\n\n    const socket = io();\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket })\n    return () => socket.close()\n  }, [dispatch]);\n\n\n  useEffect(() => {\n    if (auth.token) {\n      dispatch(getPosts(auth.token));\n      dispatch(getSuggestions(auth.token));\n      dispatch(getNotifies(auth.token));\n    }\n  }, [dispatch, auth.token]);\n\n  useEffect(() => {\n    if (!(\"Notification\" in window)) {\n      alert(\"This browser does not support desktop notification\");\n    } else if (Notification.permission === \"granted\") {\n\n    } else if (Notification.permission !== \"denied\") {\n      Notification.requestPermission().then(function (permission) {\n        if (permission === \"granted\") {\n        }\n      });\n    }\n  }, [])\n\n   \n\n  return (\n    <Router>\n      <Alert />\n      <input type=\"checkbox\" id=\"theme\" />\n      <div className={`App ${(status || modal) && \"mode\"}`}>\n        <div className=\"main\">\n          {userType === \"user\" && auth.token && <Header />}\n          {status && <StatusModal />}\n          {auth.token && <SocketClient /> }\n          <Route\n            exact\n            path=\"/\"\n            component={\n              userType === \"user\"\n                ? auth.token\n                  ? Home\n                  : Login\n                : auth.token\n                ? AdminDashboard\n                : Login\n            }\n          />\n\n          {userType === \"user\" && (\n            <>\n              <Route exact path=\"/register\" component={Register} />\n              <div className=\"wrap_page\">\n                <PrivateRouter exact path=\"/:page\" component={PageRender} />\n                <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GLOBALTYPES } from '../actions/globalTypes';\n\n\nconst initialState = {\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n      case GLOBALTYPES.AUTH:\n        return action.payload;\n\n      default:\n        return state;\n    }\n}\n\nexport default authReducer;","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst userTypeReducer = (state = \"user\", action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.USER_TYPE:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userTypeReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\n\nconst initialState = {};\n\nconst alertReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GLOBALTYPES.ALERT:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default alertReducer;\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\n\nconst initialState = false;\n\nconst themeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GLOBALTYPES.THEME:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default themeReducer;\n","import { PROFILE_TYPES } from \"../actions/profileAction\";\nimport { EditData } from '../actions/globalTypes';\n\nconst initialState = {\n  loading: false,\n  ids:[],\n  users: [],\n  posts: []\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PROFILE_TYPES.LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      };\n\n    case PROFILE_TYPES.GET_USER:\n      return {\n        ...state,\n        users: [...state.users, action.payload.user],\n      };\n\n    case PROFILE_TYPES.FOLLOW:\n      return {\n        ...state,\n        users: EditData(state.users, action.payload._id, action.payload),\n      };\n\n    case PROFILE_TYPES.UNFOLLOW:\n      return {\n        ...state,\n        users: EditData(state.users, action.payload._id, action.payload),\n      };\n\n    case PROFILE_TYPES.GET_ID:\n      return {\n        ...state,\n        ids: [...state.ids, action.payload],\n      };\n\n    case PROFILE_TYPES.GET_POSTS:\n      return {\n        ...state,\n        posts: [...state.posts, action.payload],\n      };\n\n    case PROFILE_TYPES.UPDATE_POST:\n      return {\n        ...state,\n        posts: EditData(state.posts, action.payload._id, action.payload)\n      };\n\n    default:\n      return state;\n  }\n};\n\n\nexport default profileReducer;","import { GLOBALTYPES } from \"../actions/globalTypes\";\n\n\nconst statusReducer = (state = false, action) => {\n  switch (action.type) {\n    case GLOBALTYPES.STATUS:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default statusReducer;\n","import { POST_TYPES } from \"../actions/postAction\";\nimport { EditData, DeleteData } from \"../actions/globalTypes\";\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 0,\n    page:2,\n\n}\n\nconst postReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case POST_TYPES.CREATE_POST:\n      return {\n        ...state,\n        posts: [action.payload, ...state.posts],\n      };\n\n    case POST_TYPES.LOADING_POST:\n      return {\n        ...state,\n        loading: action.payload,\n      };\n\n    case POST_TYPES.GET_POSTS:\n      return {\n        ...state,\n        posts: action.payload.posts,\n        result: action.payload.result,\n        page: action.payload.page,\n      };\n\n    case POST_TYPES.UPDATE_POST:\n      return {\n        ...state,\n        posts: EditData(state.posts, action.payload._id, action.payload),\n      };\n\n    case POST_TYPES.DELETE_POST:\n      return {\n        ...state,\n        posts: DeleteData(state.posts, action.payload._id),\n      };\n\n    case POST_TYPES.REPORT_POST:\n      return {\n        ...state,\n        posts: EditData(state.posts, action.payload._id, action.payload),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\n\nconst initialState = false;\n\nconst modalReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GLOBALTYPES.MODAL:\n      return action.payload;\n\n    default:\n      return state;\n  }\n};\n\nexport default modalReducer;\n","import { POST_TYPES } from \"../actions/postAction\";\nimport { EditData } from \"../actions/globalTypes\";\n\n\n\nconst detailPostReducer = (state = [], action) => {\n  switch (action.type) {\n    case POST_TYPES.GET_POST:\n      return [...state, action.payload];\n\n    case POST_TYPES.UPDATE_POST:\n      return EditData(state, action.payload._id, action.payload);\n\n    default:\n      return state;\n  }\n};\n\nexport default detailPostReducer;\n","import { ADMIN_TYPES } from \"../actions/adminAction\";\r\nimport { DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n    total_users: 0,\r\n    total_posts: 0,\r\n    total_comments: 0,\r\n    total_likes: 0,\r\n    total_active_users: 0,\r\n    total_spam_posts: 0,\r\n    spam_posts : []\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADMIN_TYPES.GET_TOTAL_USERS:\r\n      return {\r\n        ...state,\r\n        total_users: action.payload.total_users,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_POSTS:\r\n      return {\r\n        ...state,\r\n        total_posts: action.payload.total_posts,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_COMMENTS:\r\n      return {\r\n        ...state,\r\n        total_comments: action.payload.total_comments,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_LIKES:\r\n      return {\r\n        ...state,\r\n        total_likes: action.payload.total_likes,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_SPAM_POSTS:\r\n      return {\r\n        ...state,\r\n        total_spam_posts: action.payload.total_spam_posts,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_ACTIVE_USERS:\r\n      return {\r\n        ...state,\r\n        total_active_users: action.payload,\r\n      };\r\n\r\n    case ADMIN_TYPES.LOADING_ADMIN:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_SPAM_POSTS:\r\n      return {\r\n        ...state,\r\n        spam_posts: [...action.payload],\r\n      };\r\n    case ADMIN_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        spam_posts: DeleteData(state.spam_posts, action.payload._id),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { DISCOVER_TYPES } from \"../actions/discoverAction\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 9,\r\n    page: 2,\r\n    firstLoad: false,\r\n};\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case DISCOVER_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n\r\n    case DISCOVER_TYPES.UPDATE_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...action.payload.posts],\r\n        result: action.payload.result,\r\n        page: state.page + 1,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default discoverReducer;\r\n","import { SUGGEST_TYPES } from \"../actions/suggestionsAction\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    users: [],\r\n};\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUGGEST_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case SUGGEST_TYPES.GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.users,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default suggestionsReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\n\r\n\r\nconst socketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.SOCKET:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { NOTIFY_TYPES } from \"../actions/notifyAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  sound: false,\r\n}\r\n\r\n\r\nconst authReducer = (state = initialState , action) => {\r\n  switch (action.type) {\r\n    case NOTIFY_TYPES.GET_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n\r\n    case NOTIFY_TYPES.CREATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n\r\n    case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n\r\n    case NOTIFY_TYPES.UPDATE_SOUND:\r\n      return {\r\n        ...state,\r\n        sound: action.payload,\r\n      };\r\n\r\n    case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (item) =>\r\n            item.id !== action.payload.id || item.url !== action.payload.url\r\n        ),\r\n      };\r\n\r\n    case NOTIFY_TYPES.DELETE_ALL_NOTIFICATIONS:\r\n      return {\r\n        ...state,\r\n        data: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { MESSAGE_TYPES } from \"../actions/messageAction\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    resultUsers: 0,\r\n    data: [],\r\n    resultData: 0,\r\n    firstLoad: false \r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MESSAGE_TYPES.ADD_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.data, action.payload],\r\n      };\r\n\r\n    case MESSAGE_TYPES.ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload.recipient ||\r\n          user._id === action.payload.sender\r\n            ? {\r\n                ...user,\r\n                text: action.payload.text,\r\n                media: action.payload.media,\r\n              }\r\n            : user\r\n        ),\r\n      };\r\n\r\n    case MESSAGE_TYPES.GET_CONVERSATIONS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.newArr,\r\n        resultUsers: action.payload.result,\r\n        firstLoad: true\r\n      };\r\n\r\n    case MESSAGE_TYPES.GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.messages.reverse(),\r\n        resultData: action.payload.result,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { combineReducers } from 'redux';\n\nimport auth from './authReducer';\nimport userType from './userTypeReducer';\nimport alert from './alertReducer';\nimport theme from './themeReducer';\nimport profile from './profileReducer';\nimport status from './statusReducer';\nimport homePosts from './postReducer';\nimport modal from './modalReducer';\nimport detailPost from \"./detailPostReducer\";\nimport admin from \"./adminReducer\";\nimport discover from \"./discoverReducer\";\nimport suggestions from \"./suggestionsReducer\";\nimport socket from \"./socketReducer\";\nimport notify from \"./notifyReducer\";\nimport message from \"./messageReducer\";\n\nexport default combineReducers({\n  auth,\n  alert,\n  theme,\n  profile,\n  status,\n  homePosts,\n  modal,\n  detailPost,\n  userType,\n  admin,\n  discover,\n  suggestions,\n  socket,\n  notify,\n  message,\n});","import { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers/index';\n\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst store = createStore( rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n\n\nconst DataProvider = ({children}) => {\n    return(\n        <Provider store={store}>\n            {children}\n        </Provider>\n    )\n}\n\nexport default DataProvider;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport DataProvider from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react'\nimport { useSelector } from \"react-redux\";\n\nconst Avatar = ({src, size}) => {\n     const { theme } = useSelector((state) => state);\n    return (\n        <img\n          src={src}\n          alt=\"Avatar\"\n          className={size}\n          style={{ filter: `${theme ? \"invert(1)\" : \"invert(0)\"}` }}\n        />\n    );\n}\n\nexport default Avatar\n","import { GLOBALTYPES, DeleteData } from \"./globalTypes\";\nimport { getDataAPI, patchDataAPI } from \"../../utils/fetchData\";\nimport { imageUpload } from \"../../utils/imageUpload\";\nimport { createNotify, removeNotify } from \"./notifyAction\";\n\nexport const PROFILE_TYPES = {\n  LOADING: \"LOADING_PROFILE\",\n  GET_USER: \"GET_PROFILE_USER\",\n  FOLLOW: \"FOLLOW\",\n  UNFOLLOW: \"UNFOLLOW\",\n  GET_ID: \"GET_PROFILE_ID\",\n  GET_POSTS: \"GET_PROFILE_POSTS\",\n  UPDATE_POST: \"UPDATE_PROFILE_POSTS\",\n\n};\n\n\nexport const getProfileUsers = ({ id, auth}) => async (dispatch) => {\n\n  dispatch({type:PROFILE_TYPES.GET_ID, payload: id})\n\n    try {\n      dispatch({type: PROFILE_TYPES.LOADING, payload:true});\n      const res =  getDataAPI(`/user/${id}`, auth.token);\n      \n      const res1 =  getDataAPI(`/user_posts/${id}`, auth.token);\n\n      const users = await res;\n      const posts = await res1;\n\n      dispatch({ type: PROFILE_TYPES.GET_USER, payload: users.data });\n      dispatch({ type: PROFILE_TYPES.GET_POSTS, payload: {...posts.data, _id: id, page: 2} });\n\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\n      \n    } catch (err) {\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\n    }\n  }\n\n\n\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\n  if(!userData.fullname){\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please enter full name.\"}})\n  }\n\n  if (userData.fullname.length > 25) {\n    return dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"Full name is too long.\" },\n    });\n  }\n\n  if (userData.story.length > 200) {\n    return dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"Story is too long.\" },\n    });\n  }\n\n  try {\n    let media;\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { loading: true }\n    });\n\n    if(avatar){\n      media = await imageUpload([avatar]);\n    }\n\n    const res = await patchDataAPI(\"user\", { ...userData, avatar: avatar ? media[0].url : auth.user.avatar }, auth.token);\n\n    dispatch({\n      type: GLOBALTYPES.AUTH,\n      payload: {\n        ...auth,\n        user: {\n          ...auth.user,\n          ...userData,\n          avatar: avatar ? media[0].url : auth.user.avatar,\n        },\n      },\n    });\n   \n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { success: res.data.msg },\n    });\n\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n\n};\n\nexport const follow = ({ users, user, auth, socket }) => async (dispatch) => {\n  let newUser;\n  if(users.every(item => item._id !== user._id )){\n    newUser = { ...user, followers: [...user.followers, auth.user] };\n  }else{\n    users.forEach(item => {\n      if(item._id === user._id){\n        newUser = { ...item, followers: [...item.followers, auth.user] };\n      }\n    })\n  }\n   \n  \n  dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\n\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user:{...auth.user, following: [...auth.user.following, newUser] } } });\n\n  \n\n  try {\n    const res = await patchDataAPI(\n      `/user/${user._id}/follow`,\n      null,\n      auth.token\n    );\n    // todo socket\n    socket.emit(\"follow\", res.data.newUser);\n\n    // todo notification\n    const msg = {\n      id: auth.user._id,\n      text: 'started following you',\n      recipients: [newUser._id],\n      url: `/profile/${auth.user._id}`,\n    };\n\n    dispatch(createNotify({ msg, auth, socket }));\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const unfollow = ({ users, user, auth, socket }) => async (dispatch) => {\n\n    let newUser;\n    if (users.every((item) => item._id !== user._id)) {\n      newUser = {\n        ...user,\n        followers: DeleteData(user.followers, auth.user._id),\n      };\n    } else {\n      users.forEach((item) => {\n        if (item._id === user._id) {\n          newUser = {\n            ...item,\n            followers: DeleteData(item.followers, auth.user._id),\n          };\n        }\n      });\n    }\n  \n  dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\n\n  dispatch({\n    type: GLOBALTYPES.AUTH,\n    payload: {\n      ...auth,\n      user: {\n        ...auth.user,\n        following: DeleteData(auth.user.following, newUser._id)\n      },\n    },\n  });\n\n  \n\n  try {\n    const res = await patchDataAPI(\n      `/user/${user._id}/unfollow`,\n      null,\n      auth.token\n    );\n\n    // todo socket\n    socket.emit(\"unFollow\", res.data.newUser);\n\n    // todo notification\n    const msg = {\n      id: auth.user._id,\n      text: \"started following you\",\n      recipients: [newUser._id],\n      url: `/profile/${auth.user._id}`,\n    };\n\n    dispatch(removeNotify({ msg, auth, socket }));\n    \n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};","export const GLOBALTYPES = {\n  AUTH: \"AUTH\",\n  ALERT: \"ALERT\",\n  THEME: \"THEME\",\n  STATUS: \"STATUS\",\n  MODAL: \"MODAL\",\n  USER_TYPE: \"USER_TYPE\",\n  SOCKET: \"SOCKET\",\n};\n\nexport const EditData = (data, id, post) => {\n  const newData = data.map((item) => (item._id === id ? post : item));\n  return newData;\n};\n\nexport const DeleteData = (data, id) => {\n  const newData = data.filter((item) => item._id !== id);\n  return newData;\n};\n\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { postDataAPI, getDataAPI } from \"../../utils/fetchData\";\r\n\r\n\r\nexport const MESSAGE_TYPES = {\r\n  ADD_USER: \"ADD_USER\",\r\n  ADD_MESSAGE: \"ADD_MESSAGE\",\r\n  GET_CONVERSATIONS: \"GET_CONVERSATIONS\",\r\n  GET_MESSAGES: \"GET_MESSAGES\",\r\n};\r\n\r\nexport const addUser = ({ user, message }) => async (dispatch) => {\r\n    if(message.users.every(item => item._id !== user._id)){\r\n        dispatch({type: MESSAGE_TYPES.ADD_USER, payload: {...user, text: '', media: []} });\r\n    }\r\n};\r\n\r\nexport const addMessage = ({ msg, auth, socket }) => async (dispatch) => {\r\n\r\n  dispatch({type: MESSAGE_TYPES.ADD_MESSAGE, payload: msg});\r\n  socket.emit('addMessage', msg);\r\n\r\n  try {\r\n    await postDataAPI('message', msg, auth.token)\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg } });\r\n  }\r\n}\r\n\r\nexport const getConversations = ({auth, page = 1 }) => async (dispatch) => {\r\ntry {\r\n    const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token);\r\n    let newArr = [];\r\n    res.data.conversations.forEach(item => {\r\n      item.recipients.forEach(cv => {\r\n        if(cv._id !== auth.user._id){\r\n          newArr.push({...cv, text: item.text, media: item.media});\r\n        }\r\n      })\r\n    });\r\n\r\n    dispatch({ type: MESSAGE_TYPES.GET_CONVERSATIONS, payload: {newArr, result: res.data.result} });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg } });\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nexport const getMessages = ({ auth, id, page = 1 }) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token);\r\n\r\n    dispatch({ type: MESSAGE_TYPES.GET_MESSAGES, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","const valid = ({ fullname, username, email, password, cf_password }) => {\n    const err = {};\n\n    if(!fullname){\n        err.fullname = \"Please add full name.\";\n    }else if(fullname.length > 25){\n        err.fullname = \"Full name must be smaller than 25 characters.\";\n    }\n\n    if (!username) {\n      err.username = \"Please add User name.\";\n    } else if (username.replace(/ /g, '').length > 25) {\n      err.username = \"User name must be smaller than 25 characters.\";\n    }\n\n    if (!email) {\n      err.email = \"Please add Email.\";\n    }\n\n    if (!password) {\n      err.password = \"Please add Password.\";\n    } else if (password.length < 6) {\n      err.password = \"Password must be al least 6 characters long.\";\n    }\n\n    if (password !== cf_password) {\n      err.cf_password = \"Password does not match.\";\n    }\n\n    return {\n        errMsg: err,\n        errLength: Object.keys(err).length  \n    }\n};\n\nexport default valid;","import { postDataAPI } from \"../../utils/fetchData\";\nimport { GLOBALTYPES } from \"./globalTypes\";\nimport valid from \"../../utils/valid\";\n\nexport const TYPES = {\n  AUTH: \"AUTH\",\n};\n\nexport const login = (data) => async (dispatch) => {\n  try {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n    const res = await postDataAPI(\"login\", data);\n\n    dispatch({\n      type: GLOBALTYPES.AUTH,\n      payload: { token: res.data.access_token, user: res.data.user },\n    });\n\n    dispatch({\n      type: GLOBALTYPES.USER_TYPE,\n      payload: res.data.user.role,\n    });\n\n    localStorage.setItem(\"firstLogin\", true);\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const changePassword = ({oldPassword, newPassword, cnfNewPassword, auth}) => async (dispatch) => {\n\n  if(!oldPassword || oldPassword.length === 0){\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"Please enter your old  password.\" },\n    });\n  }\n  if(!newPassword || newPassword.length === 0){\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"Please enter your new  password.\" },\n    });\n  }\n  if(!cnfNewPassword || cnfNewPassword.length === 0){\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"Please confirm your new  password.\" },\n    });\n  }\n  if(newPassword !==cnfNewPassword){\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: \"Your password does not match\" },\n    });\n  }\n  \n  try {\n    \n    \n\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} });\n\n    const res = await postDataAPI('changePassword', {oldPassword, newPassword}, auth.token );\n\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} });\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const adminLogin = (data) => async (dispatch) => {\n  try {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n    const res = await postDataAPI(\"admin_login\", data);\n\n    dispatch({\n      type: GLOBALTYPES.AUTH,\n      payload: { token: res.data.access_token, user: res.data.user },\n    });\n\n    dispatch({\n      type: GLOBALTYPES.USER_TYPE,\n      payload: res.data.user.role,\n    });\n\n    localStorage.setItem(\"firstLogin\", true);\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const refreshToken = () => async (dispatch) => {\n  const firstLogin = localStorage.getItem(\"firstLogin\");\n  if (firstLogin) {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n    try {\n      const res = await postDataAPI(\"refresh_token\");\n      dispatch({\n        type: GLOBALTYPES.AUTH,\n        payload: { token: res.data.access_token, user: res.data.user },\n      });\n\n      dispatch({\n        type: GLOBALTYPES.USER_TYPE,\n        payload: res.data.user.role,\n      });\n\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  }\n};\n\nexport const register = (data) => async (dispatch) => {\n  const check = valid(data);\n  if (check.errLength > 0) {\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\n  }\n\n  try {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n\n    const res = await postDataAPI(\"register\", data);\n\n    dispatch({\n      type: GLOBALTYPES.AUTH,\n      payload: { token: res.data.access_token, user: res.data.user },\n    });\n\n    dispatch({\n      type: GLOBALTYPES.USER_TYPE,\n      payload: res.data.user.role,\n    });\n\n    localStorage.setItem(\"firstLogin\", true);\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const registerAdmin = (data) => async (dispatch) => {\n  const check = valid(data);\n  if (check.errLength > 0) {\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\n  }\n\n  try {\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n\n    const res = await postDataAPI(\"register_admin\", data);\n\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const logout = () => async (dispatch) => {\n  try {\n    localStorage.removeItem(\"firstLogin\");\n\n    await postDataAPI(\"logout\");\n    window.location.href = \"/\";\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n","import React from 'react';\nimport Avatar from \"./Avatar\";\nimport { Link } from \"react-router-dom\";\n// import { useSelector } from \"react-redux\";\n\nconst UserCard = ({\n  children,\n  user,\n  border,\n  handleClose,\n  setShowFollowers,\n  setShowFollowing,\n  msg\n}) => {\n\n  // const { theme } = useSelector(state => state);\n\n  const handleCloseAll = () => {\n    if (handleClose) handleClose();\n    if (setShowFollowers) setShowFollowers(false);\n    if (setShowFollowing) setShowFollowing(false);\n  };\n  return (\n    <div\n      className={`d-flex justify-content-between p-2 w-100 align-items-center ${border}`}\n    >\n      <div>\n        <Link\n          to={`/profile/${user._id}`}\n          onClick={handleCloseAll}\n          className=\"d-flex align-items-center\"\n          style={{ textDecoration: \"none\" }}\n        >\n          <div className=\"outer-shadow big-avatar-cover \">\n            <Avatar src={user.avatar} size=\"big-avatar\" />\n          </div>\n          <div className=\"ms-2\" style={{ transform: \"translateY(-2px)\" }}>\n            <span className=\"d-block color-c2\">{user.username}</span>\n\n            <small className=\"d-flex text-muted\" style={{ flexWrap: \"wrap\" }}>\n              {msg ? (\n                <>\n                  <div>{user.text}</div>\n                  {user.media.length > 0 && <div>{user.media.length} <i className=\"fas fa-image\" /></div>}\n                </>\n              ) : (\n                user.fullname\n              )}\n            </small>\n          </div>\n        </Link>\n      </div>\n      {children}\n    </div>\n  );\n};\n\nexport default UserCard\n","export const imageShow = (src, theme) => {\r\n  return (\r\n    <img\r\n      src={src}\r\n      className=\"img-thumbnail\"\r\n      alt=\"uploaded pics\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const videoShow = (src, theme) => {\r\n  return (\r\n    <video\r\n      controls\r\n      src={src}\r\n      className=\"img-thumbnail\"\r\n      alt=\"uploaded pics\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    />\r\n  );\r\n};\r\n","export const checkImage = (file) => {\n    let err = \"\";\n    if(!file){\n        return err = \"File does not exist.\";\n    }\n//?1 mb\n    if(file.size > 1024 * 1024){\n         return (err = \"File size must be less than 1 Mb.\");\n    }\n\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\n      return (err = \"Image must be jpeg or png.\");\n    }\n\n    return err;\n}\n\nexport const imageUpload = async (images) => {\n    let imgArr = [];\n    for(const item of images){\n        const formData = new FormData();\n\n        if(item.camera){\n            formData.append(\"file\", item.camera);\n        }else{\n            formData.append(\"file\", item);  \n        }\n\n        \n        formData.append(\"upload_preset\", \"ADD VALUE HERE\");\n        formData.append(\"cloud_name\", \"ADD VALUE HERE\");\n\n        const res = await fetch(\"ADD CLOUDINARY IMAGE UPLOAD LINK HERE\", {\n            method: \"POST\",\n            body: formData\n        })\n\n        const data = await res.json();\n        imgArr.push({ public_id: data.public_id, url: data.secure_url });\n        \n      \n    }\n    return imgArr;\n}","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { follow, unfollow } from \"../redux/actions/profileAction\";\n\nconst FollowBtn = ({user}) => {\n    const [ followed, setFollowed ] = useState(false);\n\n    const { auth, profile, socket } = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    const [load, setLoad] = useState(false);\n\n    useEffect(() => {\n      if (auth.user.following.find((item) => item._id === user._id)) {\n        setFollowed(true);\n      }\n      return () => setFollowed(false);\n    }, [auth.user.following, user._id]);\n\n    const handleFollow = async () => {\n        if(load) return;\n\n        setFollowed(true);\n        setLoad(true);\n        await dispatch(follow({ users: profile.users, user, auth, socket }));\n        setLoad(false);\n    };\n\n    const handleUnFollow = async () => {\n      if (load) return;\n\n      setFollowed(false);\n      setLoad(true);\n      await dispatch(unfollow({ users: profile.users, user, auth, socket }));\n      setLoad(false);\n    };\n\n\n    return (\n      <>\n        {followed ? (\n          <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleUnFollow}>\n            Unfollow\n          </button>\n        ) : (\n          <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleFollow}>\n            Follow\n          </button>\n        )}\n      </>\n    );\n}\n\nexport default FollowBtn\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\n\r\nexport const SUGGEST_TYPES = {\r\n  LOADING: \"LOADING_SUGGESTIONS\",\r\n  GET_USERS: \"GET_USERS_SUGGESTIONS\",\r\n};\r\n\r\n\r\nexport const getSuggestions = (token) => async dispatch => {\r\n    try {\r\n        dispatch({type: SUGGEST_TYPES.LOADING, payload: true });\r\n\r\n        const res = await getDataAPI(`suggestionsUser`, token);\r\n        \r\n        dispatch({ type: SUGGEST_TYPES.GET_USERS, payload: res.data });\r\n\r\n        dispatch({type: SUGGEST_TYPES.LOADING, payload: false });\r\n        \r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n}","import React from 'react'\r\n\r\nconst LoadMoreBtn = ({ result, page, load, handleLoadMore }) => {\r\n  return (\r\n    <>\r\n      {result < 9 * (page - 1)\r\n        ? \"\"\r\n        : !load && (\r\n            <button\r\n              className=\"btn  btn-outline-info color-c1 mx-auto d-block\"\r\n              onClick={handleLoadMore}\r\n            >\r\n              Load more.\r\n            </button>\r\n          )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadMoreBtn\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\nexport const DISCOVER_TYPES = {\r\n    LOADING: 'LOADING_DISCOVER',\r\n    GET_POSTS: 'GET_DISCOVER_POSTS',\r\n    UPDATE_POSTS: 'UPDATE_DISCOVER_POSTS',\r\n\r\n}\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true });\r\n\r\n        const res = await getDataAPI(`post_discover`, token);\r\n        \r\n        dispatch({ type: DISCOVER_TYPES.GET_POSTS, payload: res.data });\r\n\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false });\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n} \r\n\r\n\r\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\n\nconst PostThumb = ({ posts, result }) => {\n  const { theme } = useSelector((state) => state);\n\n  if (result === 0 ){\n    return <h2 className=\"text-center color-c1\">No Post</h2>\n  }\n\n    const imageShow = (src) => {\n      return (\n        <img\n          src={src}\n          alt={src}\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n        />\n      );\n    };\n\n    const videoShow = (src) => {\n      return (\n        <video\n          controls\n          src={src}\n          alt={src}\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n        />\n      );\n    };\n    return (\n      <div className=\"post_thumb\">\n        {posts && posts.map((post) => (\n          <Link to={`/post/${post._id}`} key={post._id}>\n            <div className=\"post_thumb_display\">\n              {post.images[0].url.match(/video/i)\n                ? videoShow(post.images[0].url, theme)\n                : imageShow(post.images[0].url, theme)\n              }\n\n\n              <div className=\"post_thumb_menu\">\n                <i className=\"far fa-thumbs-up\">{post.likes.length}</i>\n                <i className=\"far fa-comments\">{post.comments.length}</i>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n    );\n};\n\nexport default PostThumb\n","import React from \"react\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { Picker } from \"emoji-mart\";\r\nconst Icons = ({ setContent, content, theme }) => {\r\n  return (\r\n    <div\r\n      className=\"nav-item dropdown\"\r\n      style={{\r\n        opacity: \"1\",\r\n        zIndex: \"10\",\r\n        filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n      }}\r\n    >\r\n      <span\r\n        className=\"nav-link position-relative px-1\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-bs-toggle=\"dropdown\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <span>😏</span>\r\n      </span>\r\n      <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n        <Picker\r\n          theme={theme ? \"dark\" : \"light\"}\r\n          showSkinTones=\"true\"\r\n          showPreview=\"false\"\r\n          onSelect={(emoji) => setContent(content + emoji.native)}\r\n          i18n={{\r\n            search: \"Search\",\r\n            clear: \"Clear\", // Accessible label on \"clear\" button\r\n            notfound: \"No Emoji Found\",\r\n            skintext: \"Choose your default skin tone\",\r\n            categories: {\r\n              search: \"Search Results\",\r\n              recent: \"Frequently Used\",\r\n              smileys: \"Smileys & Emotion\",\r\n              people: \"People & Body\",\r\n              nature: \"Animals & Nature\",\r\n              foods: \"Food & Drink\",\r\n              activity: \"Activity\",\r\n              places: \"Travel & Places\",\r\n              objects: \"Objects\",\r\n              symbols: \"Symbols\",\r\n              flags: \"Flags\",\r\n              custom: \"Custom\",\r\n            },\r\n            categorieslabel: \"Emoji categories\", // Accessible title for the list of categories\r\n            skintones: {\r\n              1: \"Default Skin Tone\",\r\n              2: \"Light Skin Tone\",\r\n              3: \"Medium-Light Skin Tone\",\r\n              4: \"Medium Skin Tone\",\r\n              5: \"Medium-Dark Skin Tone\",\r\n              6: \"Dark Skin Tone\",\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Icons;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { adminLogin, login } from \"../redux/actions/authAction\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Login = () => {\n  const initialState = { email: \"\", password: \"\" };\n  const [userData, setUserData] = useState(initialState);\n  const [userType, setUserType] = useState(false);\n  const { email, password } = userData;\n\n  const [typePass, setTypePass] = useState(false);\n\n  const { auth } = useSelector((state) => state);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (auth.token) history.push(\"/\");\n  }, [auth.token, history]);\n\n  const handleChangeInput = (e) => {\n    const { name, value } = e.target;\n    setUserData({ ...userData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!userType) {\n      dispatch(login(userData));\n    } else {\n      dispatch(adminLogin(userData));\n    }\n  };\n\n  return (\n    <div className=\"auth_page\">\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading \">\n          Campus Connect\n        </h3>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\n            Email address\n          </label>\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n            <input\n              type=\"email\"\n              className=\"form-control \"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              onChange={handleChangeInput}\n              value={email}\n              name=\"email\"\n            />\n          </div>\n          <div id=\"emailHelp\" className=\"form-text\">\n            We'll never share your email with anyone else.\n          </div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\n            Password\n          </label>\n          <div className=\"pass\">\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n              <input\n                type={typePass ? \"text\" : \"password\"}\n                className=\"form-control\"\n                id=\"exampleInputPassword1\"\n                onChange={handleChangeInput}\n                value={password}\n                name=\"password\"\n              />\n              <small onClick={() => setTypePass(!typePass)}>\n                {typePass ? \"Hide\" : \"Show\"}\n              </small>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-4\">\n          <label htmlFor=\"User\">\n            User:\n            <input\n              type=\"radio\"\n              id=\"User\"\n              name=\"gender\"\n              value={userType}\n              defaultChecked\n              onClick={() => setUserType(false)}\n            />\n          </label>\n\n          <label htmlFor=\"Admin\">\n            Admin:\n            <input\n              type=\"radio\"\n              id=\"Admin\"\n              name=\"gender\"\n              value={userType}\n              onClick={() => setUserType(true)}\n            />\n          </label>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\n          disabled={email && password ? false : true}\n        >\n          Login\n        </button>\n        <p className=\"my-2\">\n          Don't have an account?{\" \"}\n          <Link to=\"/register\" style={{ color: \"crimson\" }}>\n            Register Now.\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\n\r\nconst Message = () => {\r\n    return (\r\n      <div className=\"message d-flex\">\r\n        <div className=\"col-md-4 px-0\" style={{borderRight: '1px solid #ddd'}}>\r\n          <LeftSide />\r\n        </div>\r\n\r\n        <div className=\"col-md-8 px-0\">\r\n          <div className=\"d-flex justify-content-center align-items-center flex-column h-100\">\r\n            <i className=\"fa fa-bolt color-c1\" style={{fontSize: '5rem'}} />  \r\n            <h4>Messenger</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect} from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { register } from '../redux/actions/authAction';\n\nconst Register = () => {\n    const {auth, alert} = useSelector(state => state);\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n     const initialState = { fullname: \"\", username: \"\", email: \"\", password: \"\", cf_password: \"\", gender: \"male\" };\n     const [userData, setUserData] = useState(initialState);\n     const { fullname, username, email, password, cf_password } = userData;\n\n     const [typePass, setTypePass] = useState(false);\n     const [typeCfPass, setTypeCfPass] = useState(false);\n\n    useEffect(() => {\n      if (auth.token) history.push(\"/\");\n    }, [auth.token, history]);\n\n   \n\n    \n\n    const handleChangeInput = (e) => {\n      const { name, value } = e.target;\n      setUserData({ ...userData, [name]: value });\n    };\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      dispatch(register(userData));\n    };\n\n    return (\n      <div className=\"auth_page\">\n        <form onSubmit={handleSubmit} className=\"inner-shadow\">\n          <h3 className=\"text-uppercase text-center mb-4 auth-heading\">\n            Campus Connect\n          </h3>\n          <div className=\"mb-3\">\n            <label htmlFor=\"fullname\" className=\"form-label\">\n              Full name\n            </label>\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"fullname\"\n                onChange={handleChangeInput}\n                value={fullname}\n                name=\"fullname\"\n                style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"} ` }}\n              />\n            </div>\n            <small className=\"form-text text-danger\">\n              {alert.fullname ? alert.fullname : \"\"}\n            </small>\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"username\" className=\"form-label\">\n              User name\n            </label>\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"username\"\n                onChange={handleChangeInput}\n                value={username.toLowerCase().replace(/ /g, \"\")}\n                name=\"username\"\n                style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"} ` }}\n              />\n            </div>\n            <small className=\"form-text text-danger\">\n              {alert.username ? alert.username : \"\"}\n            </small>\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"email\" className=\"form-label\">\n              Email address\n            </label>\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                aria-describedby=\"emailHelp\"\n                onChange={handleChangeInput}\n                value={email}\n                name=\"email\"\n                style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"} ` }}\n              />\n            </div>\n            <small className=\"form-text text-danger\">\n              {alert.email ? alert.email : \"\"}\n            </small>\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"password\" className=\"form-label\">\n              Password\n            </label>\n            <div className=\"pass\">\n              <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n                <input\n                  type={typePass ? \"text\" : \"password\"}\n                  className=\"form-control\"\n                  id=\"password\"\n                  onChange={handleChangeInput}\n                  value={password}\n                  name=\"password\"\n                  style={{\n                    background: `${alert.password ? \"#fd2d6a14\" : \"\"} `,\n                  }}\n                />\n                <small onClick={() => setTypePass(!typePass)}>\n                  {typePass ? \"Hide\" : \"Show\"}\n                </small>\n              </div>\n            </div>\n            <small className=\"form-text text-danger\">\n              {alert.password ? alert.password : \"\"}\n            </small>\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"cf_password\" className=\"form-label\">\n              Confirm Password\n            </label>\n            <div className=\"pass\">\n              <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\n                <input\n                  type={typeCfPass ? \"text\" : \"password\"}\n                  className=\"form-control\"\n                  id=\"cf_password\"\n                  onChange={handleChangeInput}\n                  value={cf_password}\n                  name=\"cf_password\"\n                  style={{\n                    background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"} `,\n                  }}\n                />\n                <small onClick={() => setTypeCfPass(!typeCfPass)}>\n                  {typeCfPass ? \"Hide\" : \"Show\"}\n                </small>\n              </div>\n            </div>\n            <small className=\"form-text text-danger\">\n              {alert.cf_password ? alert.cf_password : \"\"}\n            </small>\n          </div>\n\n          <div className=\"d-flex justify-content-evenly  mx-0 mb-1\">\n            <label htmlFor=\"male\">\n              Male:\n              <input\n                type=\"radio\"\n                id=\"male\"\n                name=\"gender\"\n                value=\"male\"\n                defaultChecked\n                onChange={handleChangeInput}\n              />\n            </label>\n\n            <label htmlFor=\"female\">\n              Female:\n              <input\n                type=\"radio\"\n                id=\"female\"\n                name=\"gender\"\n                value=\"female\"\n                onChange={handleChangeInput}\n              />\n            </label>\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\n          >\n            Register\n          </button>\n          <p className=\"my-2\">\n            Already have an account?{\" \"}\n            <Link to=\"/\" style={{ color: \"crimson\" }}>\n              Login Now.\n            </Link>\n          </p>\n        </form>\n      </div>\n    );\n}\n\nexport default Register;\n","import \"./Main.css\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n// import Chart from \"../charts/Chart\";\r\nimport {\r\n  getTotalUsers,\r\n  getTotalPosts,\r\n  getTotalComments,\r\n  getTotalLikes,\r\n  getTotalActiveUsers,\r\n  getTotalSpamPosts,\r\n} from \"../../../redux/actions/adminAction\";\r\n\r\n\r\nconst Main = () => {\r\n    const { auth, admin, socket } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      dispatch(getTotalUsers(auth.token));\r\n      dispatch(getTotalPosts(auth.token));\r\n      dispatch(getTotalComments(auth.token));\r\n      dispatch(getTotalLikes(auth.token));\r\n      dispatch(getTotalSpamPosts(auth.token));\r\n      dispatch(getTotalActiveUsers({ auth, socket }));\r\n    }, [dispatch, auth.token, socket, auth]);\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        {/* <!-- MAIN TITLE STARTS HERE --> */}\r\n\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Welcome to your Admin Dashboard</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <!-- MAIN TITLE ENDS HERE --> */}\r\n\r\n        {/* <!-- MAIN CARDS STARTS HERE --> */}\r\n        <div className=\"main__cards\">\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-users fa-2x text-lightblue\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Users</p>\r\n              <span className=\"font-bold text-title\">{admin.total_users}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i className=\"fa fa-comments fa-2x text-red\" aria-hidden=\"true\"></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Comments</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_comments}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-camera fa-2x text-yellow\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Posts</p>\r\n              <span className=\"font-bold text-title\">{admin.total_posts}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i className=\"fa fa-ban fa-2x text-red\" aria-hidden=\"true\"></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Reported Posts</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_spam_posts}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-thumbs-up fa-2x text-green\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Likes</p>\r\n              <span className=\"font-bold text-title\">{admin.total_likes}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-check-circle fa-2x  text-green\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Active Users</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_active_users}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <!-- MAIN CARDS ENDS HERE --> */}\r\n\r\n        {/* <!-- CHARTS STARTS HERE \r\n        <div className=\"charts\">\r\n          <div className=\"charts__left\">\r\n            <div className=\"charts__left__title\">\r\n              <div>\r\n                <h1>Daily Reports</h1>\r\n                <p>Cupertino, California, USA</p>\r\n              </div>\r\n              <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n            </div>\r\n            <Chart />\r\n          </div>\r\n\r\n          <div className=\"charts__right\">\r\n            <div className=\"charts__right__title\">\r\n              <div>\r\n                <h1>Stats Reports</h1>\r\n                <p>Cupertino, California, USA</p>\r\n              </div>\r\n              <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n            </div>\r\n\r\n            <div className=\"charts__right__cards\">\r\n              <div className=\"card1\">\r\n                <h1>Income</h1>\r\n                <p>$75,300</p>\r\n              </div>\r\n\r\n              <div className=\"card2\">\r\n                <h1>Sales</h1>\r\n                <p>$124,200</p>\r\n              </div>\r\n\r\n              <div className=\"card3\">\r\n                <h1>Users</h1>\r\n                <p>3900</p>\r\n              </div>\r\n\r\n              <div className=\"card4\">\r\n                <h1>Orders</h1>\r\n                <p>1881</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        CHARTS ENDS HERE --> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { registerAdmin } from \"../../../redux/actions/authAction\";\r\n\r\nconst RegisterAdmin = () => {\r\n  const { auth, alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialState = {\r\n    fullname: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    gender: \"male\"\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, username, email, password, cf_password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    userData.role = \"admin\";\r\n    dispatch(registerAdmin(userData));\r\n    setUserData(initialState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading\">\r\n          Campus Connect\r\n        </h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"fullname\" className=\"form-label\">\r\n            Full name\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              onChange={handleChangeInput}\r\n              value={fullname}\r\n              name=\"fullname\"\r\n              style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.fullname ? alert.fullname : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"username\" className=\"form-label\">\r\n            User name\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"username\"\r\n              onChange={handleChangeInput}\r\n              value={username.toLowerCase().replace(/ /g, \"\")}\r\n              name=\"username\"\r\n              style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.username ? alert.username : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n              style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.email ? alert.email : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typePass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={handleChangeInput}\r\n                value={password}\r\n                name=\"password\"\r\n                style={{ background: `${alert.password ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n              <small onClick={() => setTypePass(!typePass)}>\r\n                {typePass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.password ? alert.password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"cf_password\" className=\"form-label\">\r\n            Confirm Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typeCfPass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"cf_password\"\r\n                onChange={handleChangeInput}\r\n                value={cf_password}\r\n                name=\"cf_password\"\r\n                style={{\r\n                  background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"} `,\r\n                }}\r\n              />\r\n              <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                {typeCfPass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_password ? alert.cf_password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-1\">\r\n          <label htmlFor=\"male\">\r\n            Male:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"male\"\r\n              name=\"gender\"\r\n              value=\"male\"\r\n              defaultChecked\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"female\">\r\n            Female:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"female\"\r\n              name=\"gender\"\r\n              value=\"female\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\r\n        >\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterAdmin;\r\n","import React from 'react';\r\nimport \"../main/Main.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport RegisterAdmin from \"./RegisterAdmin\";\r\n\r\nconst AdminManagement = () => {\r\n        const { auth } = useSelector((state) => state);\r\n    return (\r\n      <div className=\"main_admin\">\r\n        <div className=\"main__container\">\r\n          <div className=\"main__title\">\r\n            <div className=\"main__greeting\">\r\n              <h1>Hello {auth.user.username}</h1>\r\n              <p>Welcome to your Admin Management</p>\r\n            </div>\r\n          </div>\r\n          <RegisterAdmin />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default AdminManagement\r\n","import React from 'react'\r\nimport Avatar from '../Avatar';\r\nimport { deleteSpamPost } from '../../redux/actions/adminAction'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nconst ContentList = ({content}) => {\r\n      const { auth, socket } = useSelector((state) => state);\r\n        const dispatch = useDispatch();\r\n\r\n     const handleDeletePost = (post) => {\r\n       \r\n        dispatch(deleteSpamPost({ post, auth, socket }));\r\n       \r\n     };\r\n    return (\r\n      <div>\r\n        {content.length > 0 ? (\r\n          content.map((post) => (\r\n            <div className=\"admin_content_display\">\r\n              <span className=\"spam_report\">\r\n                Reports: {post.reports.length}\r\n              </span>\r\n\r\n              <div className=\"d-flex\">\r\n                <Avatar size=\"big-avatar\" src={post.user.avatar} />\r\n                <div className=\"d-flex flex-column ms-3\">\r\n                  <span className=\"spam_username\">{post.user.username}</span>\r\n                  <span className=\"spam_email\">{post.user.email}</span>\r\n                </div>\r\n                <span className=\"spam_time text-muted\">\r\n                  ~{moment(post.createdAt).fromNow()}\r\n                </span>\r\n              </div>\r\n              <div\r\n                className=\"ms-auto d-flex flex-column \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => handleDeletePost(post)}\r\n              >\r\n                <span className=\"material-icons\">delete</span>Remove\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <h1>Nothing to display</h1>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ContentList\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Spam.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ContentList from \"../ContentList\";\r\nimport { getSpamPosts } from '../../../redux/actions/adminAction';\r\n\r\nconst Spam = () => {\r\n  const { auth, admin } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getSpamPosts(auth.token));\r\n  }, [dispatch, auth.token])\r\n\r\n\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Spam Dashboard</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"spam\">\r\n          <ContentList content={admin.spam_posts} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spam;\r\n","import React from \"react\";\r\nimport \"../main/Main.css\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst UsersManagement = () => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Welcome to your Admin Dashboard</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersManagement;\r\n","import { Link } from 'react-router-dom'\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout } from \"../../../redux/actions/authAction\";\r\nimport \"./Sidebar.css\";\r\nimport React, { useState } from \"react\";\r\nimport Main from \"../main/Main\";\r\nimport AdminManagement from \"../adminManagement/AdminManagement\";\r\nimport Spam from \"../spamManagement/Spam\";\r\nimport UsersManagement from \"../usersManagement/UsersManagement\";\r\n\r\n\r\nconst Sidebar = () => {\r\n  const dispatch = useDispatch();\r\n    const [adminMenu, setAdminMenu] = useState(1);\r\n\r\n\r\n  return (\r\n    <>\r\n      {adminMenu === 1 && <Main />}\r\n      {adminMenu === 2 && <AdminManagement />}\r\n      {adminMenu === 3 && <Spam />}\r\n      {adminMenu === 4 && <UsersManagement />}\r\n\r\n      <div className=\"sidebar_responsive\" id=\"sidebar\">\r\n        <div className=\"sidebar__title\">\r\n          <div className=\"sidebar__img\">\r\n            <h1>Campus Connect</h1>\r\n          </div>\r\n          <i className=\"fa fa-times\" id=\"sidebarIcon\" aria-hidden=\"true\"></i>\r\n        </div>\r\n\r\n        <div className=\"sidebar__menu\">\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 1 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(1)}\r\n          >\r\n            <i className=\"fa fa-th\"></i>\r\n            <a href=\"#\">Dashboard</a>\r\n          </div>\r\n          <h2>ADMIN CONTROL</h2>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 2 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(2)}\r\n          >\r\n            <i className=\"fa fa-lock\" aria-hidden=\"true\"></i>\r\n            <a href=\"#\">Admin Management</a>\r\n          </div>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 3 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(3)}\r\n          >\r\n            <i className=\"fa fa-ban\"></i>\r\n            <a href=\"#\">Spams Management</a>\r\n          </div>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 4 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(4)}\r\n          >\r\n            <i className=\"fa fa-wrench\"></i>\r\n            <a href=\"#\">Users Management</a>\r\n          </div>\r\n          <div className=\"sidebar__link\">\r\n            <i className=\"fa fa-archive\"></i>\r\n            <a href=\"#\">xyz</a>\r\n          </div>\r\n          <div className=\"sidebar__link\">\r\n            <i className=\"fa fa-handshake-o\"></i>\r\n            <a href=\"#\">xyz</a>\r\n          </div>\r\n\r\n          <div className=\"sidebar__logout\">\r\n            <i className=\"fa fa-power-off\"></i>\r\n            <Link to=\"/\" onClick={() => dispatch(logout())}>\r\n              Log out\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\n// import Main from '../components/adminDashboard/main/Main';\r\nimport Sidebar from \"../components/adminDashboard/sidebar/Sidebar\";\r\n\r\n\r\nconst AdminDashboard = () => {\r\n\r\n  return (\r\n    <div className=\"container1\">\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport PostCard from \"../PostCard\";\nimport LoadIcon from \"../../images/loading.gif\";\nimport LoadMoreBtn from \"../LoadMoreBtn\";\nimport { getDataAPI } from \"../../utils/fetchData\";\nimport { POST_TYPES } from \"../../redux/actions/postAction\";\n\nconst Posts = () => {\n  const { homePosts, auth, theme } = useSelector((state) => state);\n  const dispatch =  useDispatch();\n\n  const [load, setLoad] = useState(false);\n\n  const handleLoadMore = async () => {\n    setLoad(true);\n    const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token);\n    dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: homePosts.page + 1 } });\n    setLoad(false);\n  };\n  return (\n    <div className=\"posts\">\n      {homePosts.posts.map((post) => (\n        <PostCard key={post._id} post={post} theme={theme} />\n      ))}\n\n      {load && (\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\n      )}\n\n      <LoadMoreBtn\n        result={homePosts.result}\n        page={homePosts.page}\n        load={load}\n        handleLoadMore={handleLoadMore}\n      />\n    </div>\n  );\n};\n\nexport default Posts;\n","import React from 'react'\nimport Avatar from '../Avatar';\nimport { useSelector,useDispatch } from \"react-redux\";\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Status = () => {\n    const { auth } = useSelector(state => state);\n    const dispatch = useDispatch();\n    return (\n      <div className=\"status my-3 d-flex\">\n        <div className=\"outer-shadow big-avatar-cover\">\n          <Avatar src={auth.user.avatar} size=\"big-avatar\" className=\"\" />\n        </div>\n        <button\n          onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\n          className=\"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill \"\n          style={{ marginLeft: \"7px\" }}\n        >\n          <span style={{ textShadow: \"var(--outer-shadow)\" }}>\n            {auth.user.username}, What's on your mind?\n          </span>\n        </button>\n      </div>\n    );\n}\n\nexport default Status\n","import React from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nimport { getSuggestions } from \"../../redux/actions/suggestionsAction\";\r\n\r\n\r\nconst RightSideBar = () => {\r\n\r\n    const { auth, suggestions } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return (\r\n      <div className=\"my-4\">\r\n        <div className=\"inner-shadow\" style={{ borderRadius: \"5px\" }}>\r\n          <UserCard user={auth.user} />\r\n        </div>\r\n        <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n          <h5\r\n            className=\"color-c1\"\r\n            style={{ textShadow: \"var(--outer-shadow)\" }}\r\n          >\r\n            Suggestions\r\n          </h5>\r\n          {!suggestions.loading && (\r\n            <div className=\"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center\">\r\n              <i\r\n                className=\"fas fa-redo \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => dispatch(getSuggestions(auth.token))}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {suggestions.loading ? (\r\n          <img\r\n            src={LoadIcon}\r\n            alt=\"Loading...\"\r\n            className=\"d-block mx-auto my-4\"\r\n          />\r\n        ) : (\r\n          <div className=\"suggestions\">\r\n            {suggestions.users.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className=\" mb-3 inner-shadow\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              >\r\n                <UserCard key={user._id} user={user}>\r\n                  <FollowBtn key={user._id} user={user} />\r\n                </UserCard>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default RightSideBar\r\n","import React from 'react';\nimport { useSelector } from \"react-redux\";\n\nimport Posts from '../components/home/Posts';\nimport Status from '../components/home/Status';\nimport RightSideBar from \"../components/home/RightSideBar\";\n\nimport LoadIcon from '../images/loading.gif'\n\n\nconst Home = () => {\n  const { homePosts } = useSelector(state => state);\n    return (\n      <div className=\"home row mx-0\">\n        <div className=\"col-md-8\">\n          <Status />\n          {homePosts.loading ? (\n            <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n          ) : (homePosts.result === 0 ? <h2 className=\"text-center\">No Post</h2> :<Posts />\n          )}\n        </div>\n\n        <div className=\"col-md-4\">\n          <RightSideBar />\n        </div>\n      </div>\n    );\n}\n\nexport default Home;\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { addUser, getConversations } from \"../../redux/actions/messageAction\";\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport UserCard from \"../UserCard\";\r\n\r\nconst LeftSide = () => {\r\n    const { auth, message } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const pageEnd = useRef();\r\n    const [page, setPage] = useState(0);\r\n\r\n    const [search, setSearch] = useState('');\r\n    const [searchUsers, setSearchUsers] = useState([]);\r\n\r\n    const handleSearch = async e => {\r\n        e.preventDefault();\r\n        if (!search) return setSearchUsers([]);\r\n\r\n    try {\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setSearchUsers(res.data.users);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n    };\r\n\r\n    const handleAddUser = (user) => {\r\n        setSearch('');\r\n        setSearchUsers([]);\r\n        dispatch(addUser({user, message}));\r\n        return history.push(`/message/${user._id}`);\r\n    };\r\n\r\n    const isActive = (user) => {\r\n      if(id === user._id) return 'active';\r\n      return '';\r\n    }\r\n\r\n    useEffect(() => {\r\n      if (message.firstLoad) return;\r\n      dispatch(getConversations({ auth }));\r\n    }, [dispatch, auth, message.firstLoad]);\r\n\r\n     useEffect(() => {\r\n       const observer = new IntersectionObserver(\r\n         (entries) => {\r\n           if (entries[0].isIntersecting) {\r\n             setPage((p) => p + 1);\r\n           }\r\n         },\r\n         {\r\n           threshold: 0.1,\r\n         }\r\n       );\r\n       observer.observe(pageEnd.current);\r\n     }, [setPage]);\r\n\r\n     useEffect(() => {\r\n       if (message.resultUsers >= (page - 1) * 9 && page > 1) {\r\n         dispatch(getConversations({ auth, page }));\r\n       }\r\n     }, [message.resultUsers, page, auth, dispatch]);\r\n\r\n    return (\r\n      <>\r\n        <form className=\"message_header\" onSubmit={handleSearch}>\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder=\"search...\"\r\n          />\r\n\r\n          <button style={{ display: \"none\" }} type=\"submit\" id=\"search\">\r\n            Search\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"message_chat_list\">\r\n          {searchUsers.length !== 0 ? (\r\n            <>\r\n              {searchUsers.map((user) => (\r\n                <div\r\n                  key={user._id}\r\n                  className={`message_user ${isActive(user)}`}\r\n                  onClick={() => handleAddUser(user)}\r\n                >\r\n                  <UserCard user={user} />\r\n                </div>\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {message.users.map((user) => (\r\n                <div\r\n                  key={user._id}\r\n                  cclassName={`message_user ${isActive(user)}`}\r\n                  onClick={() => handleAddUser(user)}\r\n                >\r\n                  <UserCard user={user} msg={true}>\r\n                    <i className=\"fas fa-circle\" />\r\n                  </UserCard>\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n\r\n          <button style={{opacity: 0}} ref={pageEnd}>Load more..</button>\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default LeftSide\r\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nconst Carousel = ({ images, id }) => {\n  const { theme } = useSelector(state => state);\n    const isActive = index => {\n        if(index === 0) return \"active\";\n    }\n  return (\n    <div id={`image${id}`} className=\"carousel slide\" data-bs-ride=\"carousel\">\n      <div className=\"carousel-indicators\">\n        {images.map((img, index) => (\n          <button\n            key={index}\n            type=\"button\"\n            data-bs-target={`#image${id}`}\n            data-bs-slide-to={index}\n            className={isActive(index)}\n            aria-current=\"true\"\n          />\n        ))}\n      </div>\n      <div className=\"carousel-inner\">\n        {images.map((img, index) => (\n          <div key={index} className={`carousel-item ${isActive(index)}`}>\n            {img.url.match(/video/i) ? (\n              <video\n                controls\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n                src={img.url}\n                className=\"d-block w-100\"\n                alt={img.url}\n              />\n            ) : (\n              <img\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n                src={img.url}\n                className=\"d-block w-100\"\n                alt={img.url}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n      <button\n        style={{ width: \"5%\" }}\n        className=\"carousel-control-prev\"\n        type=\"button\"\n        data-bs-target={`#image${id}`}\n        data-bs-slide=\"prev\"\n      >\n        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n        <span className=\"visually-hidden\">Previous</span>\n      </button>\n      <button\n        style={{ width: \"5%\" }}\n        className=\"carousel-control-next\"\n        type=\"button\"\n        data-bs-target={`#image${id}`}\n        data-bs-slide=\"next\"\n      >\n        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n        <span className=\"visually-hidden\">Next</span>\n      </button>\n    </div>\n  );\n};\n\nexport default Carousel;\n","import React, { useState } from 'react'\nimport Carousel from '../../Carousel';\n\nconst CardBody = ({ post, theme }) => {\n  const [readMore, setReadMore] = useState();\n  return (\n    <div className=\"card_body\">\n      <div\n        className=\"card_body-content\"\n        style={{\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\n          color: theme ? \"white\" : \"#111\",\n        }}\n      >\n        <span>\n          {post.content.length < 60\n            ? post.content\n            : readMore\n            ? post.content + \" \"\n            : post.content.slice(0, 60) + \"  ...\"}\n        </span>\n        {post.content.length > 60 && (\n          <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n            {readMore ? \"Hide Content\" : \"Read More\"}\n          </span>\n        )}\n      </div>\n      {post.images.length > 0 && (\n        <Carousel images={post.images} id={post._id} />\n      )}\n    </div>\n  );\n};\n\nexport default CardBody\n","import React from 'react'\nimport { useSelector } from \"react-redux\";\n\nconst LikeButton = ({ isLike, handleLike, handleUnLike }) => {\n    const { theme } = useSelector(state => state);\n  return (\n    <div>\n      {isLike ? (\n        <i\n          className=\"fas fa-thumbs-up text-info\"\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\n          onClick={handleUnLike}\n        />\n      ) : (\n        <i className=\"far fa-thumbs-up\" onClick={handleLike} />\n      )}\n    </div>\n  );\n};\n\nexport default LikeButton\n","import React from 'react';\r\nimport {\r\n  EmailShareButton, EmailIcon,\r\n  FacebookShareButton, FacebookIcon,\r\n  LinkedinShareButton, LineIcon,\r\n  PinterestShareButton, PinterestIcon,\r\n  RedditShareButton, RedditIcon,\r\n  TelegramShareButton, TelegramIcon,\r\n  TwitterShareButton,TwitterIcon,\r\n  WhatsappShareButton, WhatsappIcon\r\n} from \"react-share\";\r\n\r\nconst ShareModal = ({ url, theme, setIsShare }) => {\r\n  return (\r\n    <div className=\"share_modal\">\r\n      <div className=\"share_modal-container\">\r\n        <div className=\"share_modal-header\">\r\n          <span>Share to...</span>\r\n          <span onClick={() => setIsShare(false)}>&times;</span>\r\n        </div>\r\n        <div\r\n          className=\" share_modal-body\"\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        >\r\n          <FacebookShareButton url={url}>\r\n            <FacebookIcon round={true} size={32} />\r\n          </FacebookShareButton>\r\n\r\n          <TwitterShareButton url={url}>\r\n            <TwitterIcon round={true} size={32} />\r\n          </TwitterShareButton>\r\n\r\n          <EmailShareButton url={url}>\r\n            <EmailIcon round={true} size={32} />\r\n          </EmailShareButton>\r\n\r\n          <TelegramShareButton url={url}>\r\n            <TelegramIcon round={true} size={32} />\r\n          </TelegramShareButton>\r\n\r\n          <WhatsappShareButton url={url}>\r\n            <WhatsappIcon round={true} size={32} />\r\n          </WhatsappShareButton>\r\n\r\n          <PinterestShareButton url={url}>\r\n            <PinterestIcon round={true} size={32} />\r\n          </PinterestShareButton>\r\n\r\n          <RedditShareButton url={url}>\r\n            <RedditIcon round={true} size={32} />\r\n          </RedditShareButton>\r\n\r\n          <LinkedinShareButton url={url}>\r\n            <LineIcon round={true} size={32} />\r\n          </LinkedinShareButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareModal\r\n","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\";\nimport LikeButton from '../../LikeButton';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { likePost, savePost, unLikePost, unSavePost } from \"../../../redux/actions/postAction\";\nimport ShareModal from '../../ShareModal';\n// import { BASE_URL } from '../../../utils/config';\n\n\nconst CardFooter = ({post}) => {\n  const [isLike, setIsLike] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const [loadLike, setLoadLike] = useState(false);\n  const [saveLoad, setSaveLoad] = useState(false);\n  const [isShare, setIsShare] = useState(false);\n\n  const dispatch = useDispatch();\n  const { auth, theme, socket } = useSelector((state) => state);\n\n  useEffect(() => {\n    if (post.likes.find((like) => like._id === auth.user._id)) {\n      setIsLike(true);\n    }else{\n      setIsLike(false);\n    }\n  }, [post.likes, auth.user._id]);\n\n  const handleLike = async () => {\n    if(loadLike) return;\n    setLoadLike(true);\n    await dispatch( likePost({post, auth, socket}) );\n    setLoadLike(false);\n  };\n\n  const handleUnLike = async () => {\n    if(loadLike) return;\n    setLoadLike(true);\n    await dispatch( unLikePost({post, auth, socket}) );\n    setLoadLike(false);\n  };\n\n    const handleSavePost = async () => {\n      if (saveLoad) return;\n      setSaveLoad(true);\n      await dispatch(savePost({ post, auth }));\n      setSaveLoad(false);\n    };\n\n    const handleUnSavePost = async () => {\n      if (saveLoad) return;\n      setSaveLoad(true);\n      await dispatch(unSavePost({ post, auth }));\n      setSaveLoad(false);\n    };\n\n    useEffect(() => {\n      if (auth.user.saved.find(id => id === post._id)) {\n        setSaved(true);\n      } else {\n        setSaved(false);\n      }\n    }, [post._id, auth.user.saved]);\n\n    return (\n      <div className=\"card_footer\">\n        <div className=\"card_icon_menu\">\n          <div className=\"d-flex\">\n            <LikeButton\n              isLike={isLike}\n              handleLike={handleLike}\n              handleUnLike={handleUnLike}\n            />\n            <Link to={`/post/${post._id}`} className=\"text-dark\">\n              <i className=\"far fa-comments\" />\n            </Link>\n            <i\n              className=\"fa fa-share\"\n              alt=\"Send\"\n              onClick={() => setIsShare(!isShare)}\n            />\n          </div>\n          {saved ? (\n            <i\n              className=\"fas text-info fa-bookmark\"\n              onClick={handleUnSavePost}\n            />\n          ) : (\n            <i\n              className=\"far fa-bookmark\"\n              onClick={handleSavePost}\n            />\n          )}\n        </div>\n        <div className=\"d-flex justify-content-start\">\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\n            {post.likes.length} likes\n          </h6>\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\n            {post.comments.length} comments\n          </h6>\n        </div>\n\n        {isShare && (\n          <ShareModal\n            // url={`${BASE_URL}/post/${post._id}`}\n            url=\"http://google.com\"\n            theme={theme}\n            setIsShare={setIsShare}\n          />\n        )}\n      </div>\n    );\n}\n\nexport default CardFooter\n","import React from \"react\";\nimport Avatar from \"../../Avatar\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport moment from \"moment\";\nimport { BASE_URL } from '../../../utils/config'\n\nimport { GLOBALTYPES } from \"../../../redux/actions/globalTypes\";\nimport { deletePost, reportPost } from \"../../../redux/actions/postAction\";\n\nconst CardHeader = ({ post }) => {\n  const { auth, socket } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleEditPost = () => {\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\n  };\n\n  const handleDeletePost = () => {\n    if(window.confirm(\"Are you sure?\")){\n      dispatch(deletePost({ post, auth, socket }));\n      return history.push(\"/\");\n    }\n    \n  };\n\n\n  const handleReportPost = () => {\n    dispatch(reportPost({post, auth}));\n  };\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\n  };\n\n  return (\n    <div className=\"card_header\">\n      <div className=\"d-flex\">\n        <div className=\"outer-shadow big-avatar-cover me-2\">\n          <Avatar src={post.user.avatar} size=\"big-avatar\" />\n        </div>\n        <div className=\"card_name\">\n          <h6 className=\"m-0\">\n            <Link className=\"text-dark\" to={`/profile/${post.user._id}`}>\n              {post.user.username}\n            </Link>\n          </h6>\n          <small className=\"text-muted\">\n            {moment(post.createdAt).fromNow()}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"nav-item dropdown\">\n        <span\n          className=\"material-icons\"\n          id=\"moreLink\"\n          data-bs-toggle=\"dropdown\"\n        >\n          more_horiz\n        </span>\n\n        <div className=\"dropdown-menu\">\n          {auth.user._id === post.user._id && (\n            <>\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\n                <span className=\"material-icons text-info\"> create</span>Edit\n                Post\n              </div>\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\n                <span className=\"material-icons text-red\"> delete</span>Delete\n                Post\n              </div>\n            </>\n          )}\n\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\n            <span className=\"material-icons text-primary\">content_copy</span>\n            Copy Link\n          </div>\n          <div className=\"dropdown-item\" onClick={handleReportPost}>\n            <span className=\"material-icons text-yellow\">report_problem</span>\n            Report this post\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardHeader;\n","export const BASE_URL = \"http://localhost:3000\"","import { GLOBALTYPES, EditData, DeleteData } from \"./globalTypes\";\nimport { POST_TYPES } from \"./postAction\";\nimport { createNotify, removeNotify } from \"./notifyAction\";\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\n\n\n\n\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, comments: [...post.comments, newComment]};\n    \n    dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\n\n    try {\n      const data = {\n        ...newComment,\n        postId: post._id,\n        postUserId: post.user._id,\n      };\n      const res = await postDataAPI(\"comment\", data, auth.token);\n\n      const newData = { ...res.data.newComment, user: auth.user };\n      const newPost = { ...post, comments: [...post.comments, newData] };\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\n\n      // todo socket\n      socket.emit(\"createComment\", newPost);\n\n      // todo notification\n      const msg = {\n        id: res.data.newComment._id,\n        text: newComment.reply\n          ? \"mentioned you in a comment.\"\n          : \"commented on your post.\",\n        recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\n        url: `/post/${post._id}`,\n        content: newComment.reply\n          ? newComment.content\n          : post.content,\n        image: post.images[0].url,\n      };\n\n      dispatch(createNotify({ msg, auth, socket }));\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\n    }\n};\n\n\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\n  const newComments = EditData(post.comments, comment._id, {...comment, content});\n  const newPost = {...post, comments: newComments};\n  \n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\n\n  try {\n    await patchDataAPI(`comment/${comment._id}`, { content }, auth.token);\n\n  } catch (err) {\n    dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\n  }\n};\n\nexport const likeComment= ({comment, post, auth}) => async (dispatch) => {\n    const newComment = {...comment, likes: [...comment.likes, auth.user]};\n     const newComments = EditData(post.comments, comment._id, newComment);\n     const newPost = { ...post, comments: newComments };\n\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\n    try {\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token);\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\n\n    }\n};\n\nexport const unLikeComment = ({ comment, post, auth }) => async (dispatch) => {\n  const newComment = { ...comment, likes: DeleteData(comment.likes, auth.user._id) };\n  const newComments = EditData(post.comments, comment._id, newComment);\n  const newPost = { ...post, comments: newComments };\n\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\n  try {\n    await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token);\n\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\n\nexport const deleteComment = ({ post, comment, auth, socket }) => async (dispatch) => {\n  const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment];\n\n  const newPost = {\n    ...post,\n    comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\n  }\n\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\n\n  socket.emit('deleteComment', newPost);\n\n  try {\n    deleteArr.forEach(item => {\n      deleteDataAPI(`comment/${item._id}`, auth.token);\n\n      // todo notification\n      const msg = {\n        id: item._id,\n        text: item.reply\n          ? \"mentioned you in a comment.\"\n          : \"commented on your post.\",\n        recipients: item.reply ? [item.tag._id] : [post.user._id],\n        url: `/post/${post._id}`,\n      };\n\n      dispatch(removeNotify({ msg, auth, socket }));\n    })\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteComment } from '../../../redux/actions/commentAction';\n\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\n  const { auth, socket } = useSelector(state => state);\n  const dispatch = useDispatch();\n\n  const handleRemove = () => {\n    if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\n      dispatch(deleteComment({ post, auth, comment, socket }));\n    }\n  };\n\n  const MenuItem = () => {\n    return (\n      <>\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\n          <span className=\"material-icons text-primary\">create</span> Edit\n        </div>\n        <div className=\"dropdown-item\" onClick={handleRemove}>\n          <span className=\"material-icons text-red\">delete_outline</span> Delete\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"menu\">\n      {(post.user._id === auth.user._id ||\n        comment.user._id === auth.user._id) && (\n        <div className=\"nav-item dropdown\">\n          <span\n            className=\"material-icons\"\n            id=\"moreLink\"\n            data-bs-toggle=\"dropdown\"\n          >\n            more_vert\n          </span>\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\n            {post.user._id === auth.user._id ? (\n              comment.user._id === auth.user._id ? (\n                MenuItem()\n              ) : (\n                <div className=\"dropdown-item\" onClick={handleRemove}>\n                  <span className=\"material-icons\">delete_outline</span> Delete\n                </div>\n              )\n            ) : (\n              comment.user._id === auth.user._id && MenuItem()\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommentMenu\n","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createComment } from '../../redux/actions/commentAction';\nimport Icons from '../Icons';\n\nconst InputComment = ({ children, post, onReply, setOnReply }) => {\n  const [content, setContent] = useState(\"\");\n\n  const { auth, socket, theme } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!content.trim()){\n      if(setOnReply){return setOnReply(false)}\n      return;\n    }\n\n    setContent(\"\");\n\n    const newComment = {\n      content,\n      likes: [],\n      user: auth.user,\n      createdAt: new Date().toISOString(),\n      reply: onReply && onReply.commentId,\n      tag: onReply && onReply.user\n    };\n    dispatch(createComment({ post, newComment, auth, socket }));\n    if (setOnReply) {\n      return setOnReply(false);\n    }\n  };\n\n  return (\n    <form className=\"card-footer comment_input\" onSubmit={handleSubmit}>\n      {children}\n      <input\n        type=\"text\"\n        placeholder=\"Add comments...\"\n        value={content}\n        onChange={(e) => setContent(e.target.value)}\n        style={{\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\n          color: theme ? \"white\" : \"#111\",\n          background: theme ? \"rgb(0,0,0,0.3)\" : \"\",\n        }}\n      />\n      <Icons setContent={setContent} content={content} theme={theme} />\n      <button type=\"submit\" className=\"postBtn\">\n        Post\n      </button>\n    </form>\n  );\n};\n\nexport default InputComment;\n","import React, { useState, useEffect } from 'react';\nimport Avatar from '../../Avatar';\nimport { Link } from 'react-router-dom';\nimport { useSelector , useDispatch } from \"react-redux\";\nimport moment from 'moment';\nimport LikeButton from \"../../LikeButton\";\nimport CommentMenu from './CommentMenu';\nimport { likeComment, unLikeComment, updateComment } from '../../../redux/actions/commentAction';\nimport InputComment from \"../InputComment\";\n\nconst CommentCard = ({ children, comment, post, commentId }) => {\n  const { auth, theme } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const [content, setContent] = useState(\"\");\n  const [readMore, setReadMore] = useState(false);\n\n  const [isLike, setIsLike] = useState(false);\n  const [loadLike, setLoadLike] = useState(false);\n  const [onEdit, setOnEdit] = useState(false);\n  const [onReply, setOnReply] = useState(false);\n\n  useEffect(() => {\n    setContent(comment.content);\n    setIsLike(false);\n    setOnReply(false);\n    if (comment.likes.find((like) => like._id === auth.user._id)) {\n      setIsLike(true);\n    }\n  }, [comment, auth.user._id]);\n\n  const handleUpdate = () => {\n    if (comment.content !== content) {\n      dispatch(updateComment({ comment, post, content, auth }));\n      setOnEdit(false);\n    } else {\n      setOnEdit(false);\n    }\n  };\n\n  const handleLike = async () => {\n    if (loadLike) return;\n\n    setIsLike(true);\n\n    setLoadLike(true);\n    await dispatch(likeComment({ comment, post, auth }));\n    setLoadLike(false);\n  };\n\n  const handleUnLike = async () => {\n    if (loadLike) return;\n\n    setIsLike(false);\n    setLoadLike(true);\n    await dispatch(unLikeComment({ comment, post, auth }));\n    setLoadLike(false);\n  };\n\n  const handleReply = () => {\n    if (onReply) {\n      return setOnReply(false);\n    }\n    setOnReply({...comment, commentId});\n  };\n\n  const styleCard = {\n    opacity: comment._id ? 1 : 0.5,\n    pointerEvents: comment._id ? \"inherit\" : \"none\",\n  };\n\n  return (\n    <div className=\"comment_card mt-2\" style={styleCard}>\n      <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\n        <Avatar src={comment.user.avatar} size=\"small-avatar\" />\n        <h6 className=\"mx-1\">{comment.user.username}</h6>\n      </Link>\n\n      <div className=\"comment_content\">\n        <div\n          className=\"flex-fill\"\n          style={{\n            filter: theme ? \"invert(1)\" : \"invert(0)\",\n            color: theme ? \"white\" : \"#111\",\n          }}\n        >\n          {onEdit ? (\n            <textarea\n              rows=\"5\"\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          ) : (\n            <div>\n              {comment.tag && comment.tag._id !== comment.user._id && (\n                <Link\n                  to={`/profile/${comment.tag._id}`}\n                  style={{ textDecoration: \"none\" }}\n                  className=\"me-1\"\n                >\n                  @{comment.tag.username}\n                </Link>\n              )}\n              <span>\n                {content.length < 100\n                  ? content\n                  : readMore\n                  ? content + \" \"\n                  : content.slice(0, 100) + \"...\"}\n              </span>\n              {content.length > 100 && (\n                <span\n                  className=\"readMore\"\n                  onClick={() => setReadMore(!readMore)}\n                >\n                  {readMore ? \"Hide \" : \"Read more\"}\n                </span>\n              )}\n            </div>\n          )}\n\n          <div style={{ cursor: \"pointer\" }}>\n            <small className=\"text-muted\" style={{ marginRight: \"9px\" }}>\n              {moment(comment.createdAt).fromNow()}\n            </small>\n\n            <small\n              style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\n              className=\"mr3\"\n            >\n              {comment.likes.length} likes\n            </small>\n            {onEdit ? (\n              <>\n                <small\n                  onClick={handleUpdate}\n                  style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\n                  className=\"mr3\"\n                >\n                  update\n                </small>\n                <small\n                  onClick={() => setOnEdit(false)}\n                  style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\n                  className=\"mr3\"\n                >\n                  cancel\n                </small>\n              </>\n            ) : (\n              <small\n                style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\n                className=\"mr3\"\n                onClick={handleReply}\n              >\n                {onReply ? \"cancel\" : \"reply\"}\n              </small>\n            )}\n          </div>\n        </div>\n\n        <div\n          className=\"d-flex align-items-center \"\n          style={{ cursor: \"pointer\" }}\n        >\n          <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\n\n          <LikeButton\n            isLike={isLike}\n            handleLike={handleLike}\n            handleUnLike={handleUnLike}\n          />\n        </div>\n      </div>\n\n      {onReply && (\n        <InputComment post={post} onReply={onReply} setOnReply={setOnReply}>\n          <Link\n            style={{ textDecoration: \"none\" }}\n            className=\"mr-1\"\n            to={`/profile/${onReply.user._id}`}\n          >\n            @{onReply.user.username}\n          </Link>\n        </InputComment>\n      )}\n      {children}\n    </div>\n  );\n};\n\nexport default CommentCard\n","import React, { useEffect, useState } from 'react'\nimport CommentCard from './CommentCard'\n\nconst CommentDisplay = ({ comment, post, replyCm }) => {\n  const [showRep, setShowRep] = useState([]);\n  const [next, setNext] = useState(1);\n\n  useEffect(() => {\n    setShowRep(replyCm.slice(replyCm.length - next));\n  }, [replyCm, next]);\n\n  return (\n    <div className=\"comment_display\">\n      <CommentCard post={post} comment={comment} commentId={comment._id}>\n        <div className=\"ps-4\">\n          {showRep.map(\n            (item, index) =>\n              item.reply && (\n                <CommentCard\n                  comment={item}\n                  key={index}\n                  post={post}\n                  commentId={comment._id}\n                />\n              )\n          )}\n\n          {replyCm.length - next > 0 ? (\n            <div\n              onClick={() => setNext(next + 10)}\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\n            >\n              Load more...\n            </div>\n          ) : (\n            replyCm.length > 1 && (\n              <div\n                onClick={() => setNext(1)}\n                style={{ cursor: \"pointer\", color: \"crimson\" }}\n              >\n                Hide...\n              </div>\n            )\n          )}\n        </div>\n      </CommentCard>\n    </div>\n  );\n};\n\nexport default CommentDisplay\n","import React, { useState, useEffect} from 'react'\nimport CommentDisplay from './comments/CommentDisplay'\n\nconst Comments = ({post}) => {\n  const [comments, setComments] = useState([]);\n  const [showComments, setShowComments] = useState([]);\n  const [next, setNext] = useState(2);\n  const [replyComments, setReplyComments] = useState([]);\n\n\n  useEffect(() => {\n    const newCm = post.comments.filter((cm) => !cm.reply);\n    setComments(newCm);\n    setShowComments(newCm.slice(newCm.length - next));\n  }, [post.comments, next]);\n\n  useEffect(() => {\n    const newReply = post.comments.filter((cm) => cm.reply);\n    setReplyComments(newReply);\n  }, [post.comments]);\n\n    return (\n      <div className=\"comments\">\n        {showComments.map((comment, index) => (\n          <CommentDisplay\n            key={index}\n            comment={comment}\n            post={post}\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\n          />\n        ))}\n        {comments.length - next > 0 ? (\n          <div\n            onClick={() => setNext(next + 10)}\n            className=\"p-2 border-top\"\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\n          >\n            Load more...\n          </div>\n        ) : (\n          comments.length > 2 && (\n            <div\n              onClick={() => setNext(2)}\n              className=\"p-2 border-top\"\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\n            >\n              Hide...\n            </div>\n          )\n        )}\n      </div>\n    );\n}\n\nexport default Comments\n","import React from 'react';\nimport CardBody from \"./home/post_card/CardBody\";\nimport CardFooter from \"./home/post_card/CardFooter\";\nimport CardHeader from \"./home/post_card/CardHeader\";\nimport Comments from './home/Comments';\nimport InputComment from \"./home/InputComment\";\n\n\nconst PostCard = ({ post, theme }) => {\n  return (\n    <div className=\"card my-3 outer-shadow\">\n      <CardHeader post={post} />\n      <CardBody post={post} theme={theme} />\n      <CardFooter post={post} />\n\n      <Comments post={post} />\n      <InputComment post={post} />\n    </div>\n  );\n};\n\nexport default PostCard\n","import axios from 'axios';\n\nexport const getDataAPI = async (url,token) => {\n    const res = await axios.get(`/api/${url}`,{\n        headers: { Authorization: token}\n    });\n    return res;\n}\n\nexport const postDataAPI = async (url, post, token) => {\n  const res = await axios.post(`/api/${url}`, post, {\n    headers: { Authorization: token },\n  });\n  return res;\n};\n\nexport const putDataAPI = async (url, post, token) => {\n  const res = await axios.put(`/api/${url}`, post, {\n    headers: { Authorization: token },\n  });\n  return res;\n};\n\nexport const patchDataAPI = async (url, post, token) => {\n  const res = await axios.patch(`/api/${url}`, post, {\n    headers: { Authorization: token },\n  });\n  return res;\n};\n\n\nexport const deleteDataAPI = async (url, token) => {\n  const res = await axios.delete(`/api/${url}`, {\n    headers: { Authorization: token },\n  });\n  return res;\n};"],"sourceRoot":""}